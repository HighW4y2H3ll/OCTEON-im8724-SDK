<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-app-init.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-app-init.c File Reference</h1>
<p>Main entry point for all simple executive based programs.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="cvmx_8h_source.html">cvmx.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-spinlock_8h_source.html">cvmx-spinlock.h</a>&quot;</code><br/>
<code>#include &lt;octeon-app-init.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-sysinfo_8h_source.html">cvmx-sysinfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-bootmem_8h_source.html">cvmx-bootmem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-uart_8h_source.html">cvmx-uart.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-coremask_8h_source.html">cvmx-coremask.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-core_8h_source.html">cvmx-core.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-interrupt_8h_source.html">cvmx-interrupt.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-ebt3000_8h_source.html">cvmx-ebt3000.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-sim-magic_8h_source.html">cvmx-sim-magic.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-debug_8h_source.html">cvmx-debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-qlm_8h_source.html">cvmx-qlm.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-scratch_8h_source.html">cvmx-scratch.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-helper-cfg_8h_source.html">cvmx-helper-cfg.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-helper-jtag_8h_source.html">cvmx-helper-jtag.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-global-resources_8h_source.html">cvmx-global-resources.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-fau_8h_source.html">cvmx-fau.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-fpa_8h_source.html">cvmx-fpa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-coredump_8h_source.html">cvmx-coredump.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="octeon__mem__map_8h_source.html">octeon_mem_map.h</a>&gt;</code><br/>
<code>#include &quot;libfdt.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-config-parse_8h_source.html">cvmx-config-parse.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-app-config_8h_source.html">cvmx-app-config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-pki_8h_source.html">cvmx-pki.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-pko3_8h_source.html">cvmx-pko3.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for cvmx-app-init.c:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-app-init_8c__incl.png" border="0" usemap="#cvmx-app-init_8c_map" alt=""/></div>
<map name="cvmx-app-init_8c_map" id="cvmx-app-init_8c">
<area shape="rect" id="node11" href="cvmx_8h.html" title="Main Octeon executive header file (This should be the second header file included..." alt="" coords="1027,315,1096,344"/><area shape="rect" id="node29" href="cvmx-sysinfo_8h.html" title="This module provides system/board information obtained by the bootloader." alt="" coords="1939,392,2061,421"/><area shape="rect" id="node33" href="cvmx-coremask_8h.html" title="Module to support operations on bitmap of cores." alt="" coords="2028,547,2169,576"/><area shape="rect" id="node51" href="cvmx-fpa_8h.html" title="Interface to the hardware Free Pool Allocator." alt="" coords="351,392,449,421"/><area shape="rect" id="node53" href="cvmx-scratch_8h.html" title="This file provides support for the processor local scratch memory." alt="" coords="133,547,261,576"/><area shape="rect" id="node66" href="cvmx-spinlock_8h.html" title="Implementation of spinlocks." alt="" coords="2685,237,2813,267"/><area shape="rect" id="node72" href="cvmx-bootmem_8h.html" title="Simple allocate only memory allocator." alt="" coords="1104,83,1245,112"/><area shape="rect" id="node74" href="cvmx-uart_8h.html" title="interface to the serial port UART hardware" alt="" coords="1269,83,1373,112"/><area shape="rect" id="node77" href="cvmx-core_8h.html" title="Module to support operations on core such as TLB config, etc." alt="" coords="2555,237,2661,267"/><area shape="rect" id="node79" href="cvmx-interrupt_8h.html" title="Interface to the Mips interrupts." alt="" coords="1448,83,1584,112"/><area shape="rect" id="node81" href="cvmx-ebt3000_8h.html" title="Interface to the EBT3000 specific devices." alt="" coords="1608,83,1741,112"/><area shape="rect" id="node83" href="cvmx-sim-magic_8h.html" title="This is file defines ASM primitives for sim magic functions." alt="" coords="1765,83,1912,112"/><area shape="rect" id="node85" href="cvmx-debug_8h.html" title="Interface to debug exception handler." alt="" coords="2668,160,2785,189"/><area shape="rect" id="node89" href="cvmx-qlm_8h.html" title="Helper utilities for qlm." alt="" coords="765,237,867,267"/><area shape="rect" id="node93" href="cvmx-helper-cfg_8h.html" title="Helper Functions for the Configuration Framework." alt="" coords="456,160,600,189"/><area shape="rect" id="node99" href="cvmx-helper-jtag_8h.html" title="Helper utilities for qlm_jtag." alt="" coords="2160,83,2309,112"/><area shape="rect" id="node101" href="cvmx-global-resources_8h.html" title="cvmx&#45;global&#45;resources.h" alt="" coords="2333,83,2520,112"/><area shape="rect" id="node103" href="cvmx-fau_8h.html" title="Interface to the hardware Fetch and Add Unit." alt="" coords="2037,83,2136,112"/><area shape="rect" id="node108" href="cvmx-coredump_8h.html" title="Coredump interface and definitions." alt="" coords="3141,83,3285,112"/><area shape="rect" id="node111" href="octeon__mem__map_8h.html" title="octeon_mem_map.h" alt="" coords="2295,160,2455,189"/><area shape="rect" id="node118" href="cvmx-config-parse_8h.html" title="cvmx&#45;config&#45;parse.h" alt="" coords="2787,83,2947,112"/><area shape="rect" id="node120" href="cvmx-app-config_8h.html" title="cvmx&#45;app&#45;config.h" alt="" coords="2971,83,3117,112"/><area shape="rect" id="node122" href="cvmx-pki_8h.html" title="Interface to the hardware Packet Input Data unit." alt="" coords="332,83,425,112"/><area shape="rect" id="node129" href="cvmx-pko3_8h.html" title="cvmx&#45;pko3.h" alt="" coords="93,315,200,344"/><area shape="rect" id="node13" href="cvmx-platform_8h.html" title="This file is resposible for including all system dependent headers for the cvmx&#45;*..." alt="" coords="616,469,749,499"/><area shape="rect" id="node19" href="cvmx-access_8h.html" title="Function prototypes for accessing memory and CSRs on Octeon." alt="" coords="1837,469,1960,499"/><area shape="rect" id="node21" href="cvmx-address_8h.html" title="Typedefs and defines for working with Octeon physical addresses." alt="" coords="779,392,907,421"/><area shape="rect" id="node23" href="cvmx-asm_8h.html" title="This is file defines ASM primitives for the executive." alt="" coords="2131,624,2235,653"/><area shape="rect" id="node25" href="cvmx-packet_8h.html" title="Packet buffer defines." alt="" coords="931,392,1053,421"/><area shape="rect" id="node27" href="cvmx-warn_8h.html" title="Functions for warning users about errors and such." alt="" coords="1077,392,1187,421"/><area shape="rect" id="node39" href="octeon-model_8h.html" title="File defining different Octeon model IDs and macros to compare them." alt="" coords="1211,392,1339,421"/><area shape="rect" id="node41" href="cvmx-csr_8h.html" title="Configuration and status register (CSR) address and type definitions for Octoen." alt="" coords="659,392,755,421"/><area shape="rect" id="node44" href="cvmx-utils_8h.html" title="Small utility functions and macros to ease programming of Octeon." alt="" coords="1363,392,1467,421"/><area shape="rect" id="node46" href="cvmx-clock_8h.html" title="Interface to Core, IO and DDR Clock." alt="" coords="1491,392,1600,421"/><area shape="rect" id="node49" href="octeon-feature_8h.html" title="File defining checks for different Octeon features." alt="" coords="1624,392,1763,421"/><area shape="rect" id="node31" href="cvmx-app-init_8h.html" title="Header file for simple executive application initialization." alt="" coords="2035,469,2163,499"/><area shape="rect" id="node56" href="cvmx-fpa-defs_8h.html" title="cvmx&#45;fpa&#45;defs.h" alt="" coords="312,547,445,576"/><area shape="rect" id="node58" href="cvmx-fpa1_8h.html" title="Interface to the hardware Free Pool Allocator on Octeon chips." alt="" coords="325,469,432,499"/><area shape="rect" id="node62" href="cvmx-fpa3_8h.html" title="Interface to the CN78XX Free Pool Allocator, a.k.a." alt="" coords="144,469,251,499"/><area shape="rect" id="node95" href="cvmx-helper-util_8h.html" title="Small helper utilities." alt="" coords="391,237,535,267"/><area shape="rect" id="node105" href="cvmx-hwfau_8h.html" title="Interface to the hardware Fetch and Add Unit." alt="" coords="2037,160,2155,189"/><area shape="rect" id="node113" href="octeon-boot-info_8h.html" title="Interface to Octeon boot structure." alt="" coords="2253,315,2403,344"/><area shape="rect" id="node127" href="cvmx-error_8h.html" title="Interface to the Octeon extended error status." alt="" coords="325,160,432,189"/></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#a6208d0ccece83d950111c7b8eec0d3dd">CVMX_NULL_POINTER_PROTECT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#aeec40e2b433cc2844853d184006edff0">xstr</a>(<a class="el" href="cvmx-coremask_8c.html#a7cc33a7fd56e1ab82f778fe3f0e88c25">s</a>)&nbsp;&nbsp;&nbsp;str(<a class="el" href="cvmx-coremask_8c.html#a7cc33a7fd56e1ab82f778fe3f0e88c25">s</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#ad8ab729381f270b100f3d05b6c6676fc">str</a>(<a class="el" href="cvmx-coremask_8c.html#a7cc33a7fd56e1ab82f778fe3f0e88c25">s</a>)&nbsp;&nbsp;&nbsp;#<a class="el" href="cvmx-coremask_8c.html#a7cc33a7fd56e1ab82f778fe3f0e88c25">s</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#aa9c892ffd2172d0374cdd6268710d2eb">OMS</a>&nbsp;&nbsp;&nbsp;xstr(OCTEON_MODEL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#ae8954709d81bac84bc421877c2abcdb1">OCTEON_BL_FLAG_HPLUG_CORES</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#a18a1220d505e52ec2b6cd92a4659f0ea">cvmx_interrupt_initialize</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">1.  <a href="#a18a1220d505e52ec2b6cd92a4659f0ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXTERN_ASM void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#ab9da50b364dc78df8130c0712bdc24d3">__cvmx_app_init</a> (uint64_t app_desc_addr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main entry point for all simple executive based programs.  <a href="#ab9da50b364dc78df8130c0712bdc24d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#ae06bfbe2925ec14a24f5e6255382904e">process_boot_desc_ver_6</a> (octeon_boot_descriptor_t *app_desc_ptr, <a class="el" href="structcvmx__sysinfo.html">cvmx_sysinfo_t</a> *sys_info_ptr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set up sysinfo structure from boot <a class="el" href="structdescriptor.html">descriptor</a> versions 6 and higher.  <a href="#ae06bfbe2925ec14a24f5e6255382904e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#ab29cc0fd21adf556aad0879c4a1ca8d5">process_break_interrupt</a> (int uart, uint64_t registers[32])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt handler for calling exit on Control-C interrupts.  <a href="#ab29cc0fd21adf556aad0879c4a1ca8d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#a8fc6c0fcfef9c9ac20414327b030e2c9">exit_on_break</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the debug exception handler with "break".  <a href="#a8fc6c0fcfef9c9ac20414327b030e2c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#aef160d71905377699c035bb4cf7e0de2">octeon_model_version_check</a> (uint32_t chip_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function checks to see if the software is compatible with the chip it is running on.  <a href="#aef160d71905377699c035bb4cf7e0de2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#a67d0121a672f6d429811471baf54805e">cvmx_user_static_config</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#a22c7fb96aa0426a2a74f7ff47c153e64">cvmx_user_app_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function performs some default initialization of the Octeon executive.  <a href="#a22c7fb96aa0426a2a74f7ff47c153e64"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#a8512a5c3c547e90c120fc0ed0917df6b">__cvmx_app_exit</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#acdf6f950df6726abf4d2ff561e0fbf7f">cvmx_debug_uart</a> = -1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-app-init_8c.html#a25648e3e303202c137852c558d6f3873">octeon_rev_signature</a> []</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Main entry point for all simple executive based programs. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a6208d0ccece83d950111c7b8eec0d3dd"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::CVMX_NULL_POINTER_PROTECT" ref="a6208d0ccece83d950111c7b8eec0d3dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_NULL_POINTER_PROTECT&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae8954709d81bac84bc421877c2abcdb1"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::OCTEON_BL_FLAG_HPLUG_CORES" ref="ae8954709d81bac84bc421877c2abcdb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OCTEON_BL_FLAG_HPLUG_CORES&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa9c892ffd2172d0374cdd6268710d2eb"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::OMS" ref="aa9c892ffd2172d0374cdd6268710d2eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OMS&nbsp;&nbsp;&nbsp;xstr(OCTEON_MODEL)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad8ab729381f270b100f3d05b6c6676fc"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::str" ref="ad8ab729381f270b100f3d05b6c6676fc" args="(s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define str</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvmx-coremask_8c.html#a7cc33a7fd56e1ab82f778fe3f0e88c25">s</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;#<a class="el" href="cvmx-coremask_8c.html#a7cc33a7fd56e1ab82f778fe3f0e88c25">s</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aeec40e2b433cc2844853d184006edff0"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::xstr" ref="aeec40e2b433cc2844853d184006edff0" args="(s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xstr</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvmx-coremask_8c.html#a7cc33a7fd56e1ab82f778fe3f0e88c25">s</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;str(<a class="el" href="cvmx-coremask_8c.html#a7cc33a7fd56e1ab82f778fe3f0e88c25">s</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8512a5c3c547e90c120fc0ed0917df6b"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::__cvmx_app_exit" ref="a8512a5c3c547e90c120fc0ed0917df6b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __cvmx_app_exit </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab9da50b364dc78df8130c0712bdc24d3"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::__cvmx_app_init" ref="ab9da50b364dc78df8130c0712bdc24d3" args="(uint64_t app_desc_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __cvmx_app_init </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>app_desc_addr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main entry point for all simple executive based programs. </p>
<p>This is the first C function called. It completes initialization, calls main, and performs C level cleanup.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>app_desc_addr</em>&nbsp;</td><td>Address of the application description structure passed brom the boot loader. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a18a1220d505e52ec2b6cd92a4659f0ea"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::cvmx_interrupt_initialize" ref="a18a1220d505e52ec2b6cd92a4659f0ea" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_interrupt_initialize </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1. </p>
<p>Initialize the interrupt routine and copy the low level stub into the correct interrupt vector. This is called automatically during application startup. 2. This function is called by each active core on each node. </p>

</div>
</div>
<a class="anchor" id="a22c7fb96aa0426a2a74f7ff47c153e64"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::cvmx_user_app_init" ref="a22c7fb96aa0426a2a74f7ff47c153e64" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_user_app_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function performs some default initialization of the Octeon executive. </p>
<p>It initializes the cvmx_bootmem memory allocator with the list of physical memory provided by the bootloader, and creates 1-1 TLB mappings for this memory. This function should be called on all cores that will use either the bootmem allocator or the 1-1 TLB mappings. Applications which require a different configuration can replace this function with a suitable application specific one.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success -1 on failure</dd></dl>
<p>It initializes the cvmx_bootmem memory allocator with the list of physical memory shared by the bootloader. This function should be called on all cores that will use the bootmem allocator. Applications which require a different configuration can replace this function with a suitable application specific one.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a67d0121a672f6d429811471baf54805e"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::cvmx_user_static_config" ref="a67d0121a672f6d429811471baf54805e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_user_static_config </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8fc6c0fcfef9c9ac20414327b030e2c9"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::exit_on_break" ref="a8fc6c0fcfef9c9ac20414327b030e2c9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void exit_on_break </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the debug exception handler with "break". </p>
<p>Before calling exit to dump the profile-feedback output it releases the lock on the console. This way if there is buffered data in stdout it can still be flushed. stdio is required to flush all output during an fread. </p>

</div>
</div>
<a class="anchor" id="aef160d71905377699c035bb4cf7e0de2"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::octeon_model_version_check" ref="aef160d71905377699c035bb4cf7e0de2" args="(uint32_t chip_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_model_version_check </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>chip_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function checks to see if the software is compatible with the chip it is running on. </p>
<p>This is called in the application startup code and does not need to be called directly by the application. Does not return if software is incompatible.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chip_id</em>&nbsp;</td><td>chip id that the software is being run on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0: runtime checking or exact version match 1: chip is newer revision than compiled for, but software will run properly. </dd></dl>

</div>
</div>
<a class="anchor" id="ae06bfbe2925ec14a24f5e6255382904e"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::process_boot_desc_ver_6" ref="ae06bfbe2925ec14a24f5e6255382904e" args="(octeon_boot_descriptor_t *app_desc_ptr, cvmx_sysinfo_t *sys_info_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void process_boot_desc_ver_6 </td>
          <td>(</td>
          <td class="paramtype">octeon_boot_descriptor_t *&nbsp;</td>
          <td class="paramname"> <em>app_desc_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcvmx__sysinfo.html">cvmx_sysinfo_t</a> *&nbsp;</td>
          <td class="paramname"> <em>sys_info_ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set up sysinfo structure from boot <a class="el" href="structdescriptor.html">descriptor</a> versions 6 and higher. </p>
<p>In these versions, the interesting data in not in the boot info structure defined by the toolchain, but is in the <a class="el" href="structcvmx__bootinfo.html">cvmx_bootinfo</a> structure defined in the simple exec.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>app_desc_ptr</em>&nbsp;</td><td>pointer to boot <a class="el" href="structdescriptor.html">descriptor</a> block</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sys_info_ptr</em>&nbsp;</td><td>pointer to sysinfo structure to fill in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab29cc0fd21adf556aad0879c4a1ca8d5"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::process_break_interrupt" ref="ab29cc0fd21adf556aad0879c4a1ca8d5" args="(int uart, uint64_t registers[32])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void process_break_interrupt </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>uart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>registers</em>[32]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Interrupt handler for calling exit on Control-C interrupts. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uart</em>&nbsp;</td><td>uart </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>registers</em>&nbsp;</td><td>CPU registers at the time of the interrupt </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="acdf6f950df6726abf4d2ff561e0fbf7f"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::cvmx_debug_uart" ref="acdf6f950df6726abf4d2ff561e0fbf7f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="cvmx-app-init_8h.html#acdf6f950df6726abf4d2ff561e0fbf7f">cvmx_debug_uart</a> = -1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac3e1795766a80ec63b157951b4b9a7d4"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::debug" ref="ac3e1795766a80ec63b157951b4b9a7d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="cvmx-tim-atomic_8c.html#a656b8d50e4036b8ae51663e47beea58d">debug</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a25648e3e303202c137852c558d6f3873"></a><!-- doxytag: member="cvmx&#45;app&#45;init.c::octeon_rev_signature" ref="a25648e3e303202c137852c558d6f3873" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="cvmx-app-init_8c.html#a25648e3e303202c137852c558d6f3873">octeon_rev_signature</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">



    <span class="stringliteral">&quot;Compiled for Octeon processor id: &quot;</span> <a class="code" href="cvmx-app-init_8c.html#aa9c892ffd2172d0374cdd6268710d2eb">OMS</a>
</pre></div>
</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
