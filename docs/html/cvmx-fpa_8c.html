<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-fpa.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-fpa.c File Reference</h1>
<p>Support library for the hardware Free Pool Allocator.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="cvmx_8h_source.html">cvmx.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-fpa_8h_source.html">cvmx-fpa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-helper_8h_source.html">cvmx-helper.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-helper-fpa_8h_source.html">cvmx-helper-fpa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-ipd_8h_source.html">cvmx-ipd.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-bootmem_8h_source.html">cvmx-bootmem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-global-resources_8h_source.html">cvmx-global-resources.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for cvmx-fpa.c:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-fpa_8c__incl.png" border="0" usemap="#cvmx-fpa_8c_map" alt=""/></div>
<map name="cvmx-fpa_8c_map" id="cvmx-fpa_8c">
<area shape="rect" id="node3" href="cvmx_8h.html" title="Main Octeon executive header file (This should be the second header file included..." alt="" coords="1209,315,1279,344"/><area shape="rect" id="node65" href="cvmx-fpa_8h.html" title="Interface to the hardware Free Pool Allocator." alt="" coords="1988,392,2087,421"/><area shape="rect" id="node80" href="cvmx-helper_8h.html" title="Helper functions for common, but complicated tasks." alt="" coords="1068,160,1185,189"/><area shape="rect" id="node84" href="cvmx-helper-fpa_8h.html" title="Helper functions for FPA setup." alt="" coords="24,237,168,267"/><area shape="rect" id="node116" href="cvmx-ipd_8h.html" title="Interface to the hardware Input Packet Data unit." alt="" coords="2001,83,2097,112"/><area shape="rect" id="node122" href="cvmx-bootmem_8h.html" title="Simple allocate only memory allocator." alt="" coords="2184,83,2325,112"/><area shape="rect" id="node124" href="cvmx-global-resources_8h.html" title="cvmx&#45;global&#45;resources.h" alt="" coords="2349,83,2536,112"/><area shape="rect" id="node5" href="cvmx-platform_8h.html" title="This file is resposible for including all system dependent headers for the cvmx&#45;*..." alt="" coords="775,469,908,499"/><area shape="rect" id="node25" href="cvmx-access_8h.html" title="Function prototypes for accessing memory and CSRs on Octeon." alt="" coords="1644,469,1767,499"/><area shape="rect" id="node27" href="cvmx-address_8h.html" title="Typedefs and defines for working with Octeon physical addresses." alt="" coords="1103,469,1231,499"/><area shape="rect" id="node30" href="cvmx-asm_8h.html" title="This is file defines ASM primitives for the executive." alt="" coords="1565,624,1669,653"/><area shape="rect" id="node32" href="cvmx-packet_8h.html" title="Packet buffer defines." alt="" coords="1841,392,1964,421"/><area shape="rect" id="node34" href="cvmx-warn_8h.html" title="Functions for warning users about errors and such." alt="" coords="683,392,792,421"/><area shape="rect" id="node36" href="cvmx-sysinfo_8h.html" title="This module provides system/board information obtained by the bootloader." alt="" coords="1541,392,1664,421"/><area shape="rect" id="node46" href="octeon-model_8h.html" title="File defining different Octeon model IDs and macros to compare them." alt="" coords="867,392,995,421"/><area shape="rect" id="node48" href="cvmx-csr_8h.html" title="Configuration and status register (CSR) address and type definitions for Octoen." alt="" coords="1069,392,1165,421"/><area shape="rect" id="node57" href="cvmx-utils_8h.html" title="Small utility functions and macros to ease programming of Octeon." alt="" coords="521,469,625,499"/><area shape="rect" id="node60" href="cvmx-clock_8h.html" title="Interface to Core, IO and DDR Clock." alt="" coords="1189,392,1299,421"/><area shape="rect" id="node63" href="octeon-feature_8h.html" title="File defining checks for different Octeon features." alt="" coords="1323,392,1461,421"/><area shape="rect" id="node7" href="cvmx-abi_8h.html" title="This file defines macros for use in determining the current calling ABI." alt="" coords="1200,547,1296,576"/><area shape="rect" id="node38" href="cvmx-app-init_8h.html" title="Header file for simple executive application initialization." alt="" coords="1255,469,1383,499"/><area shape="rect" id="node40" href="cvmx-coremask_8h.html" title="Module to support operations on bitmap of cores." alt="" coords="1405,547,1547,576"/><area shape="rect" id="node51" href="cvmx-csr-enums_8h.html" title="Definitions for enumerations used with Octeon CSRs." alt="" coords="932,469,1079,499"/><area shape="rect" id="node53" href="cvmx-csr-typedefs_8h.html" title="Configuration and status register (CSR) address and type definitions for Octeon." alt="" coords="1407,469,1569,499"/><area shape="rect" id="node55" href="cvmx-fpa-defs_8h.html" title="cvmx&#45;fpa&#45;defs.h" alt="" coords="1860,547,1993,576"/><area shape="rect" id="node67" href="cvmx-scratch_8h.html" title="This file provides support for the processor local scratch memory." alt="" coords="2051,547,2179,576"/><area shape="rect" id="node71" href="cvmx-fpa1_8h.html" title="Interface to the hardware Free Pool Allocator on Octeon chips." alt="" coords="1931,469,2037,499"/><area shape="rect" id="node75" href="cvmx-fpa3_8h.html" title="Interface to the CN78XX Free Pool Allocator, a.k.a." alt="" coords="2061,469,2168,499"/><area shape="rect" id="node82" href="cvmx-wqe_8h.html" title="This header file defines the work queue entry (wqe) data structure." alt="" coords="1303,315,1407,344"/><area shape="rect" id="node86" href="cvmx-helper-agl_8h.html" title="Functions for AGL (RGMII) initialization, configuration, and monitoring." alt="" coords="365,237,507,267"/><area shape="rect" id="node90" href="cvmx-helper-errata_8h.html" title="Fixes and workaround for Octeon chip errata." alt="" coords="1272,237,1437,267"/><area shape="rect" id="node93" href="cvmx-helper-ilk_8h.html" title="Functions for ILK initialization, configuration, and monitoring." alt="" coords="1805,237,1941,267"/><area shape="rect" id="node95" href="cvmx-helper-loop_8h.html" title="Functions for LOOP initialization, configuration, and monitoring." alt="" coords="192,237,341,267"/><area shape="rect" id="node97" href="cvmx-helper-npi_8h.html" title="Functions for NPI initialization, configuration, and monitoring." alt="" coords="531,237,672,267"/><area shape="rect" id="node99" href="cvmx-helper-rgmii_8h.html" title="Functions for RGMII/GMII/MII initialization, configuration, and monitoring." alt="" coords="696,237,851,267"/><area shape="rect" id="node101" href="cvmx-helper-sgmii_8h.html" title="Functions for SGMII initialization, configuration, and monitoring." alt="" coords="875,237,1032,267"/><area shape="rect" id="node103" href="cvmx-helper-spi_8h.html" title="Functions for SPI initialization, configuration, and monitoring." alt="" coords="1056,237,1197,267"/><area shape="rect" id="node106" href="cvmx-helper-srio_8h.html" title="Functions for SRIO initialization, configuration, and monitoring." alt="" coords="1461,237,1608,267"/><area shape="rect" id="node108" href="cvmx-helper-util_8h.html" title="Small helper utilities." alt="" coords="1965,237,2109,267"/><area shape="rect" id="node113" href="cvmx-helper-xaui_8h.html" title="Functions for XAUI initialization, configuration, and monitoring." alt="" coords="1632,237,1781,267"/><area shape="rect" id="node118" href="cvmx-pki_8h.html" title="Interface to the hardware Packet Input Data unit." alt="" coords="2003,160,2096,189"/></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcvmx__fpa3__poolx__info__t.html">cvmx_fpa3_poolx_info_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcvmx__fpa3__aurax__info__t.html">cvmx_fpa3_aurax_info_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcvmx__fpa1__pool__info__t.html">cvmx_fpa1_pool_info_t</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#aad7aae14f6710a38fe233311ad9e4dd2">CVMX_ENABLE_FPA_CHECKS</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a1a0a4b39b28a9e7681dc0943a9e61571">CVMX_CACHE_LINE_SHIFT</a>&nbsp;&nbsp;&nbsp;(7)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a6379cefd9358d435667e8861aa37ced8">CVMX_FPA3_NAME_LEN</a>&nbsp;&nbsp;&nbsp;(16)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a9bf9439cd26eb24e6c219b5c47431062">FPA_RED_AVG_DLY</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a1fd8787f6fea861d0f8905ac30aa668d">FPA_RED_LVL_DLY</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a1a179d14f6931c36768a6ad4e726d87d">FPA_QOS_AVRG</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a725e14305ecec21e08c3b4b80d8c387f">cvmx_fpa3_get_pool_buf_size</a> (<a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the size of buffers held in a POOL.  <a href="#a725e14305ecec21e08c3b4b80d8c387f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#af10e81d923cb57c742f99b260be9fa35">cvmx_fpa_get_block_size</a> (int pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the size of buffers held in a buffer pool.  <a href="#af10e81d923cb57c742f99b260be9fa35"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a952c13b4347ebbba2c1bf1fd69c9b857">cvmx_fpa_get_current_count</a> (int pool_num)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The function returns the number of free buffers in a pool.  <a href="#a952c13b4347ebbba2c1bf1fd69c9b857"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a40f5d0bc59b9f0bf128463d4fc2e5d33">cvmx_fpa3_get_aura_name</a> (<a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a> aura)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the name of an FPA AURA.  <a href="#a40f5d0bc59b9f0bf128463d4fc2e5d33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a2fb04a585267a158b5d8963e8aca084a">cvmx_fpa3_get_pool_name</a> (<a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the name of an FPA POOL.  <a href="#a2fb04a585267a158b5d8963e8aca084a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#aa716a67e2dc7d2badf79b9c56d2c0a22">cvmx_fpa_get_name</a> (int pool_num)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the name of an FPA pool.  <a href="#aa716a67e2dc7d2badf79b9c56d2c0a22"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#aaf406889cfc68e79ddaaea8c1469cfae">cvmx_fpa3_set_aura_name</a> (<a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a> aura, const char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a2bfb121d33bf9139856006b7f622b8be">cvmx_fpa3_set_pool_name</a> (<a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> pool, const char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#afa8b64268955170c5ad547639a83aeaf">cvmx_fpa_set_name</a> (int pool_num, const char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a63fcbde3ea7129e22ab2298dab67e873">cvmx_fpa3_aura_cfg</a> (<a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a> aura, <a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> pool, uint64_t limit, uint64_t threshold, int ptr_dis)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a8e4646ae2fadde9239c9c0c271c82d8f">cvmx_fpa3_pool_populate</a> (<a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> pool, unsigned buf_cnt, unsigned buf_sz, void *mem_ptr, unsigned mem_node)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a8e4646ae2fadde9239c9c0c271c82d8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a55e6f0ec11503e830c3daee61de57512">cvmx_fpa1_fill_pool</a> (<a class="el" href="cvmx-fpa1_8h.html#aaefe2ad18cc6b2e80ddc3c3e7b05f377">cvmx_fpa1_pool_t</a> pool, int num_blocks, void *buffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a55e6f0ec11503e830c3daee61de57512"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#af13d52d2646dd45594f288fec2f1e0dd">cvmx_fpa1_pool_init</a> (<a class="el" href="cvmx-fpa1_8h.html#aaefe2ad18cc6b2e80ddc3c3e7b05f377">cvmx_fpa1_pool_t</a> pool_id, int num_blocks, int block_size, void *buffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#af13d52d2646dd45594f288fec2f1e0dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a201e0afbc0258e0f49486dc98cd5d8af">cvmx_fpa_global_init_node</a> (int node)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize global configuration for FPA block for specified node.  <a href="#a201e0afbc0258e0f49486dc98cd5d8af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#aefe5d94928114b42ab114e15e0d3ae5b">EXPORT_SYMBOL</a> (cvmx_fpa_global_init_node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a108e500b8f68893285345c3ef2e5e33a">cvmx_fpa3_disable_pool</a> (<a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a108e500b8f68893285345c3ef2e5e33a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#acfa25671359c269633ce6c075f1a1b44">__memset_u64</a> (uint64_t *ptr, uint64_t pattern, unsigned words)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#aeea671e7b8eda036070ed46e8757dcc0">cvmx_fpa3_pool_stack_init</a> (<a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> pool, unsigned mem_node, unsigned max_buffer_cnt, enum <a class="el" href="cvmx-fpa3_8h.html#a70cafc33f362b235e0df8ee706d972ab">cvmx_fpa3_pool_alignment_e</a> align, unsigned buffer_sz)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#aeea671e7b8eda036070ed46e8757dcc0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#accf7ec65305f00b6caafa616330f9066">cvmx_fpa3_setup_fill_pool</a> (int node, int desired_pool, const char *name, unsigned block_size, unsigned num_blocks, void *buffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an FPA POOL and fill it up with buffers.  <a href="#accf7ec65305f00b6caafa616330f9066"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a7f1f6975c26dd01c6b7128cc0d60b5ee">cvmx_fpa3_set_aura_for_pool</a> (<a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> pool, int desired_aura, const char *name, unsigned block_size, unsigned num_blocks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attach an AURA to an existing POOL.  <a href="#a7f1f6975c26dd01c6b7128cc0d60b5ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#ae101ddc4b8ed14298c2a67f6448ca642">cvmx_fpa3_setup_aura_and_pool</a> (int node, int desired_aura, const char *name, void *buffer, unsigned block_size, unsigned num_blocks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a combination of an AURA and a POOL.  <a href="#ae101ddc4b8ed14298c2a67f6448ca642"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#acd1c2bca1b04c2a19379514bab492e15">cvmx_fpa1_setup_pool</a> (int desired_pool, const char *name, void *buffer, unsigned block_size, unsigned num_blocks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup a legacy FPA pool.  <a href="#acd1c2bca1b04c2a19379514bab492e15"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a611806f7fdb4a36b52ca0d5cfc326ce5">cvmx_fpa_setup_pool</a> (int pool, const char *name, void *buffer, uint64_t block_size, uint64_t num_blocks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup an FPA pool with buffers.  <a href="#a611806f7fdb4a36b52ca0d5cfc326ce5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a79691326f5f6027d23517195f12148ef">cvmx_fpa3_shutdown_aura</a> (<a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a> aura)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Discard an AURA.  <a href="#a79691326f5f6027d23517195f12148ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#ab31f97e0bdb65fee7eec58623b4d2be2">cvmx_fpa3_shutdown_pool</a> (<a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy an FPA POOL and free its memory.  <a href="#ab31f97e0bdb65fee7eec58623b4d2be2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#afe4e15250836f6d630d1de0aa7bcecac">cvmx_fpa3_shutdown_aura_and_pool</a> (<a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a> aura)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shutdown a POOL and AURA combination.  <a href="#afe4e15250836f6d630d1de0aa7bcecac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a0d1c6bc7963c66b5b6eb77402149d7f3">cvmx_fpa1_shutdown_pool</a> (<a class="el" href="cvmx-fpa1_8h.html#aaefe2ad18cc6b2e80ddc3c3e7b05f377">cvmx_fpa1_pool_t</a> pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shut down a legacy FPA pool.  <a href="#a0d1c6bc7963c66b5b6eb77402149d7f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a575b6e9903d1ea75310bc2ddf897ed7f">cvmx_fpa_shutdown_pool</a> (int pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shutdown a Memory pool and validate that it had all of the buffers originally placed in it.  <a href="#a575b6e9903d1ea75310bc2ddf897ed7f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#ae8cb939d32ebdb04978c7415fc2d87e4">cvmx_fpa_validate_pool</a> (int pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform a sanity check on a specific FPA pool.  <a href="#ae8cb939d32ebdb04978c7415fc2d87e4"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a656b8d50e4036b8ae51663e47beea58d">debug</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a7ffdb40ac8c6c8cbbae22d4c6a5326e5">__cvmx_fpa3_cnt_offset</a> = 32</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#af42fe3d7c0e6b4d14eef9676f552d5f4">magic_pattern</a> = 0xbab4faced095f00d</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a16e2bcad2f21d1d20be670bb17db4bc3">guard_band_size</a> = CVMX_ENABLE_FPA_CHECKS &lt;&lt; 10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static CVMX_SHARED <br class="typebreak"/>
<a class="el" href="structcvmx__fpa1__pool__info__t.html">cvmx_fpa1_pool_info_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a75579ec435bfefb69df0fe686b5b401e">cvmx_fpa1_pool_info</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">FPA1/FPA3 info structure is stored in a named block that is allocated once and shared among applications.  <a href="#a75579ec435bfefb69df0fe686b5b401e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static CVMX_SHARED <br class="typebreak"/>
<a class="el" href="structcvmx__fpa3__poolx__info__t.html">cvmx_fpa3_poolx_info_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#a3529e401a2b3fe324b61387adca67230">cvmx_fpa3_pool_info</a> [CVMX_MAX_NODES]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static CVMX_SHARED <br class="typebreak"/>
<a class="el" href="structcvmx__fpa3__aurax__info__t.html">cvmx_fpa3_aurax_info_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-fpa_8c.html#acd1709dca58bfe0861b53938ce45e1b3">cvmx_fpa3_aura_info</a> [CVMX_MAX_NODES]</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Support library for the hardware Free Pool Allocator. </p>
<hr/>
<dl class="rcs"><dt><b>Revision</b></dt><dd>167433 </dd></dl>
<hr/>
 <hr/><h2>Define Documentation</h2>
<a class="anchor" id="a1a0a4b39b28a9e7681dc0943a9e61571"></a><!-- doxytag: member="cvmx&#45;fpa.c::CVMX_CACHE_LINE_SHIFT" ref="a1a0a4b39b28a9e7681dc0943a9e61571" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_CACHE_LINE_SHIFT&nbsp;&nbsp;&nbsp;(7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aad7aae14f6710a38fe233311ad9e4dd2"></a><!-- doxytag: member="cvmx&#45;fpa.c::CVMX_ENABLE_FPA_CHECKS" ref="aad7aae14f6710a38fe233311ad9e4dd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_ENABLE_FPA_CHECKS&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6379cefd9358d435667e8861aa37ced8"></a><!-- doxytag: member="cvmx&#45;fpa.c::CVMX_FPA3_NAME_LEN" ref="a6379cefd9358d435667e8861aa37ced8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_FPA3_NAME_LEN&nbsp;&nbsp;&nbsp;(16)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1a179d14f6931c36768a6ad4e726d87d"></a><!-- doxytag: member="cvmx&#45;fpa.c::FPA_QOS_AVRG" ref="a1a179d14f6931c36768a6ad4e726d87d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FPA_QOS_AVRG&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9bf9439cd26eb24e6c219b5c47431062"></a><!-- doxytag: member="cvmx&#45;fpa.c::FPA_RED_AVG_DLY" ref="a9bf9439cd26eb24e6c219b5c47431062" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FPA_RED_AVG_DLY&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1fd8787f6fea861d0f8905ac30aa668d"></a><!-- doxytag: member="cvmx&#45;fpa.c::FPA_RED_LVL_DLY" ref="a1fd8787f6fea861d0f8905ac30aa668d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FPA_RED_LVL_DLY&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="acfa25671359c269633ce6c075f1a1b44"></a><!-- doxytag: member="cvmx&#45;fpa.c::__memset_u64" ref="acfa25671359c269633ce6c075f1a1b44" args="(uint64_t *ptr, uint64_t pattern, unsigned words)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __memset_u64 </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>words</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a55e6f0ec11503e830c3daee61de57512"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa1_fill_pool" ref="a55e6f0ec11503e830c3daee61de57512" args="(cvmx_fpa1_pool_t pool, int num_blocks, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_fpa1_fill_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvmx-fpa1_8h.html#aaefe2ad18cc6b2e80ddc3c3e7b05f377">cvmx_fpa1_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
</p>
<p>Fill a legacy FPA pool with buffers </p>

</div>
</div>
<a class="anchor" id="af13d52d2646dd45594f288fec2f1e0dd"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa1_pool_init" ref="af13d52d2646dd45594f288fec2f1e0dd" args="(cvmx_fpa1_pool_t pool_id, int num_blocks, int block_size, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_fpa1_pool_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvmx-fpa1_8h.html#aaefe2ad18cc6b2e80ddc3c3e7b05f377">cvmx_fpa1_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
</p>
<p>Setup a legacy FPA pool </p>

</div>
</div>
<a class="anchor" id="acd1c2bca1b04c2a19379514bab492e15"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa1_setup_pool" ref="acd1c2bca1b04c2a19379514bab492e15" args="(int desired_pool, const char *name, void *buffer, unsigned block_size, unsigned num_blocks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa1_setup_pool </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>desired_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>num_blocks</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Setup a legacy FPA pool. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>desired_pool</em>&nbsp;</td><td>is the POOL number desired or -1 for automatic assignment </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>is the symbolic POOL name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block_size</em>&nbsp;</td><td>is the size of all buffers held in this POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_blocks</em>&nbsp;</td><td>is the number of free buffers to fill into the POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>is an optionally caller-supplied memory for the buffers or NULL to cause the buffer memory to be allocated automatically. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pool number or -1 on error.</dd></dl>
<p>Note: if the buffer memory is supplied by caller, the application will be responsable to free this memory. </p>

</div>
</div>
<a class="anchor" id="a0d1c6bc7963c66b5b6eb77402149d7f3"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa1_shutdown_pool" ref="a0d1c6bc7963c66b5b6eb77402149d7f3" args="(cvmx_fpa1_pool_t pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa1_shutdown_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvmx-fpa1_8h.html#aaefe2ad18cc6b2e80ddc3c3e7b05f377">cvmx_fpa1_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shut down a legacy FPA pool. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>is a pool number </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 on error </dd></dl>

</div>
</div>
<a class="anchor" id="a63fcbde3ea7129e22ab2298dab67e873"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_aura_cfg" ref="a63fcbde3ea7129e22ab2298dab67e873" args="(cvmx_fpa3_gaura_t aura, cvmx_fpa3_pool_t pool, uint64_t limit, uint64_t threshold, int ptr_dis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_fpa3_aura_cfg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a>&nbsp;</td>
          <td class="paramname"> <em>aura</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ptr_dis</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a108e500b8f68893285345c3ef2e5e33a"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_disable_pool" ref="a108e500b8f68893285345c3ef2e5e33a" args="(cvmx_fpa3_pool_t pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_fpa3_disable_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Disable an empty FPA POOL</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>is the POOL handle</td></tr>
  </table>
  </dd>
</dl>
<p>Only supported on CN78XX. </p>

</div>
</div>
<a class="anchor" id="a40f5d0bc59b9f0bf128463d4fc2e5d33"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_get_aura_name" ref="a40f5d0bc59b9f0bf128463d4fc2e5d33" args="(cvmx_fpa3_gaura_t aura)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* cvmx_fpa3_get_aura_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a>&nbsp;</td>
          <td class="paramname"> <em>aura</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the name of an FPA AURA. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aura</em>&nbsp;</td><td>is the AURA handle</td></tr>
  </table>
  </dd>
</dl>
<p>Only supported on CN78XX. </p>

</div>
</div>
<a class="anchor" id="a725e14305ecec21e08c3b4b80d8c387f"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_get_pool_buf_size" ref="a725e14305ecec21e08c3b4b80d8c387f" args="(cvmx_fpa3_pool_t pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa3_get_pool_buf_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the size of buffers held in a POOL. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>is the POOL handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>buffer size in bytes </dd></dl>

</div>
</div>
<a class="anchor" id="a2fb04a585267a158b5d8963e8aca084a"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_get_pool_name" ref="a2fb04a585267a158b5d8963e8aca084a" args="(cvmx_fpa3_pool_t pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* cvmx_fpa3_get_pool_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the name of an FPA POOL. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>is the POOL handle</td></tr>
  </table>
  </dd>
</dl>
<p>Only supported on CN78XX. </p>

</div>
</div>
<a class="anchor" id="a8e4646ae2fadde9239c9c0c271c82d8f"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_pool_populate" ref="a8e4646ae2fadde9239c9c0c271c82d8f" args="(cvmx_fpa3_pool_t pool, unsigned buf_cnt, unsigned buf_sz, void *mem_ptr, unsigned mem_node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_fpa3_pool_populate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>buf_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>buf_sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>mem_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mem_node</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
</p>
<p>Fill a newly created FPA3 POOL with buffers using a temporary AURA. </p>

</div>
</div>
<a class="anchor" id="aeea671e7b8eda036070ed46e8757dcc0"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_pool_stack_init" ref="aeea671e7b8eda036070ed46e8757dcc0" args="(cvmx_fpa3_pool_t pool, unsigned mem_node, unsigned max_buffer_cnt, enum cvmx_fpa3_pool_alignment_e align, unsigned buffer_sz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_fpa3_pool_stack_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mem_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>max_buffer_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="cvmx-fpa3_8h.html#a70cafc33f362b235e0df8ee706d972ab">cvmx_fpa3_pool_alignment_e</a>&nbsp;</td>
          <td class="paramname"> <em>align</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>buffer_sz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Initialize pool pointer-storage memory</p>
<p>Unlike legacy FPA, which used free buffers to store pointers that exceed on-chip memory, FPA3 requires a dedicated memory buffer for free pointer stack back-store.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>- pool to initialize </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem_node</em>&nbsp;</td><td>- if memory should be allocated from a different node </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_buffer_cnt</em>&nbsp;</td><td>- maximum block capacity of pool </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>align</em>&nbsp;</td><td>- buffer alignment mode, current FPA_NATURAL_ALIGNMENT is supported </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer_sz</em>&nbsp;</td><td>- size of buffers in pool </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7f1f6975c26dd01c6b7128cc0d60b5ee"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_set_aura_for_pool" ref="a7f1f6975c26dd01c6b7128cc0d60b5ee" args="(cvmx_fpa3_pool_t pool, int desired_aura, const char *name, unsigned block_size, unsigned num_blocks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a> cvmx_fpa3_set_aura_for_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>desired_aura</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>num_blocks</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attach an AURA to an existing POOL. </p>
<p>Function to attach an aura to an existing pool.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>is the handle of the POOL to be attached </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desired_aura</em>&nbsp;</td><td>is the number of the AURA resired or -1 for the AURA to be automatically assigned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>is a symbolic name for the new AURA </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block_size</em>&nbsp;</td><td>is the size of all buffers that will be handed out by this AURA </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_blocks</em>&nbsp;</td><td>is the maximum number of buffers that can be handed out by this AURA, and can not exceed the number of buffers filled into the attached POOL </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the AURA handle</dd></dl>
<p>Only supported on CN78XX. </p>

</div>
</div>
<a class="anchor" id="aaf406889cfc68e79ddaaea8c1469cfae"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_set_aura_name" ref="aaf406889cfc68e79ddaaea8c1469cfae" args="(cvmx_fpa3_gaura_t aura, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_fpa3_set_aura_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a>&nbsp;</td>
          <td class="paramname"> <em>aura</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2bfb121d33bf9139856006b7f622b8be"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_set_pool_name" ref="a2bfb121d33bf9139856006b7f622b8be" args="(cvmx_fpa3_pool_t pool, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_fpa3_set_pool_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae101ddc4b8ed14298c2a67f6448ca642"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_setup_aura_and_pool" ref="ae101ddc4b8ed14298c2a67f6448ca642" args="(int node, int desired_aura, const char *name, void *buffer, unsigned block_size, unsigned num_blocks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a> cvmx_fpa3_setup_aura_and_pool </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>desired_aura</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>num_blocks</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a combination of an AURA and a POOL. </p>
<p>Function to setup and initialize a pool.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>is the node number for the pool and memory location </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desired_aura</em>&nbsp;</td><td>is the number of the AURA resired or -1 for the AURA to be automatically assigned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>is a symbolic name for the new AURA </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block_size</em>&nbsp;</td><td>is the size of all buffers that will be handed out by this AURA </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_blocks</em>&nbsp;</td><td>is the maximum number of buffers that can be handed out by this AURA, and can not exceed the number of buffers filled into the attached POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>is an optionally caller-supplied memory for the buffers or NULL to cause the buffer memory to be allocated automatically.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the AURA handle</dd></dl>
<p>Note: if the buffer memory is supplied by caller, the application will be responsable to free this memory. The POOL number is always automatically assigned.</p>
<p>Only supported on CN78XX. </p>

</div>
</div>
<a class="anchor" id="accf7ec65305f00b6caafa616330f9066"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_setup_fill_pool" ref="accf7ec65305f00b6caafa616330f9066" args="(int node, int desired_pool, const char *name, unsigned block_size, unsigned num_blocks, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a> cvmx_fpa3_setup_fill_pool </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>desired_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>num_blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create an FPA POOL and fill it up with buffers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>is the node number for the pool and memory location </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desired_pool</em>&nbsp;</td><td>is the local pool number desired or -1 for first available </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>is the symbolic name to assign the POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block_size</em>&nbsp;</td><td>is the size of all buffers held in this POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_blocks</em>&nbsp;</td><td>is the number of free buffers to fill into the POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>is an optionally caller-supplied memory for the buffers or NULL to cause the buffer memory to be allocated automatically. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the POOL handle</dd></dl>
<p>Note: if the buffer memory is supplied by caller, the application will be responsable to free this memory.</p>
<p>Only supported on CN78XX. </p>

</div>
</div>
<a class="anchor" id="a79691326f5f6027d23517195f12148ef"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_shutdown_aura" ref="a79691326f5f6027d23517195f12148ef" args="(cvmx_fpa3_gaura_t aura)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa3_shutdown_aura </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a>&nbsp;</td>
          <td class="paramname"> <em>aura</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Discard an AURA. </p>
<p>All buffers allocated via this AURA must be freed prior to discarding the AURA to avoid memory leaks.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aura</em>&nbsp;</td><td>is the AURA handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success or -1 on error</dd></dl>
<p>Note: since the buffers belong with a POOL, discarding an AURA does not remove any buffers from the attached POOL. nor does it free any memory.</p>
<p>Only supported on CN78XX. </p>

</div>
</div>
<a class="anchor" id="afe4e15250836f6d630d1de0aa7bcecac"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_shutdown_aura_and_pool" ref="afe4e15250836f6d630d1de0aa7bcecac" args="(cvmx_fpa3_gaura_t aura)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa3_shutdown_aura_and_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__gaura__t.html">cvmx_fpa3_gaura_t</a>&nbsp;</td>
          <td class="paramname"> <em>aura</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shutdown a POOL and AURA combination. </p>
<p>This function should only be used for an a POOL that is attached to exactly one AURA.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aura</em>&nbsp;</td><td>is the AURA handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 on error</dd></dl>
<p>See also 'cvmx_fpa3_shotdown_pool'.</p>
<p>Only supported on CN78XX. </p>

</div>
</div>
<a class="anchor" id="ab31f97e0bdb65fee7eec58623b4d2be2"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_shutdown_pool" ref="ab31f97e0bdb65fee7eec58623b4d2be2" args="(cvmx_fpa3_pool_t pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa3_shutdown_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__fpa3__pool__t.html">cvmx_fpa3_pool_t</a>&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy an FPA POOL and free its memory. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>is the POOL handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 on error</dd></dl>
<p>All buffers allocated from this POOL must be freed and all AURA attached to this POOL must have been discarded prior to calling this function. Buffer memory will be freed if allocated automatically, otherwise, if the memory was supplied by the caller, after succesful return from this functon the caller supplied memory can be safely freed by the application.</p>
<p>Only supported on CN78XX. </p>

</div>
</div>
<a class="anchor" id="af10e81d923cb57c742f99b260be9fa35"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa_get_block_size" ref="af10e81d923cb57c742f99b260be9fa35" args="(int pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned cvmx_fpa_get_block_size </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the size of buffers held in a buffer pool. </p>
<p>Gets the block size of buffer in specified pool.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>is the pool number</td></tr>
  </table>
  </dd>
</dl>
<p>This function will work with CN78XX models in backward-compatible mode </p>

</div>
</div>
<a class="anchor" id="a952c13b4347ebbba2c1bf1fd69c9b857"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa_get_current_count" ref="a952c13b4347ebbba2c1bf1fd69c9b857" args="(int pool_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa_get_current_count </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool_num</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function returns the number of free buffers in a pool. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool_num</em>&nbsp;</td><td>is the pool number</td></tr>
  </table>
  </dd>
</dl>
<p>This function will work with CN78XX models in backward-compatible mode </p>

</div>
</div>
<a class="anchor" id="aa716a67e2dc7d2badf79b9c56d2c0a22"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa_get_name" ref="aa716a67e2dc7d2badf79b9c56d2c0a22" args="(int pool_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* cvmx_fpa_get_name </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool_num</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the name of an FPA pool. </p>
<p>Return the name of the pool.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool_num</em>&nbsp;</td><td>is the pool number</td></tr>
  </table>
  </dd>
</dl>
<p>This function will work with CN78XX models in backward-compatible mode </p>

</div>
</div>
<a class="anchor" id="a201e0afbc0258e0f49486dc98cd5d8af"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa_global_init_node" ref="a201e0afbc0258e0f49486dc98cd5d8af" args="(int node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa_global_init_node </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize global configuration for FPA block for specified node. </p>
<p>Initialize FPA per node.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>is the node number</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>this function sets the initial QoS averaging timing parameters, for the entire FPA unit (per node), which may be overriden on a per AURA basis. </dd></dl>

</div>
</div>
<a class="anchor" id="afa8b64268955170c5ad547639a83aeaf"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa_set_name" ref="afa8b64268955170c5ad547639a83aeaf" args="(int pool_num, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_fpa_set_name </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a611806f7fdb4a36b52ca0d5cfc326ce5"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa_setup_pool" ref="a611806f7fdb4a36b52ca0d5cfc326ce5" args="(int pool, const char *name, void *buffer, uint64_t block_size, uint64_t num_blocks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa_setup_pool </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>num_blocks</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Setup an FPA pool with buffers. </p>
<p>Setup a FPA pool to control a new block of memory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>is the POOL number desired or -1 for automatic assignment </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>is the symbolic POOL name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>is an optionally caller-supplied memory for the buffers or NULL to cause the buffer memory to be allocated automatically. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>block_size</em>&nbsp;</td><td>is the size of all buffers held in this POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_blocks</em>&nbsp;</td><td>is the number of free buffers to fill into the POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>is an optionally caller-supplied memory for the buffers or NULL to cause the buffer memory to be allocated automatically.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pool number or -1 on error.</dd></dl>
<p>Note: if the buffer memory is supplied by caller, the application will be responsable to free this memory. This function will work with CN78XX models in backward-compatible mode </p>

</div>
</div>
<a class="anchor" id="a575b6e9903d1ea75310bc2ddf897ed7f"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa_shutdown_pool" ref="a575b6e9903d1ea75310bc2ddf897ed7f" args="(int pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa_shutdown_pool </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shutdown a Memory pool and validate that it had all of the buffers originally placed in it. </p>
<p>This should only be called by one processor after all hardware has finished using the pool. Most like you will want to have called <a class="el" href="cvmx-helper_8c.html#af53e5926ad1d925b8685158c732f5eba" title="Undo the initialization performed in cvmx_helper_initialize_packet_io_global().">cvmx_helper_shutdown_packet_io_global()</a> before this function to make sure all FPA buffers are out of the packet IO hardware.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>Pool to shutdown</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 on error</dd></dl>
<p>This function will work with CN78XX models in backward-compatible mode </p>

</div>
</div>
<a class="anchor" id="ae8cb939d32ebdb04978c7415fc2d87e4"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa_validate_pool" ref="ae8cb939d32ebdb04978c7415fc2d87e4" args="(int pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_fpa_validate_pool </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform a sanity check on a specific FPA pool. </p>
<p>NOTE: Although this is a generic API, it is only implemented on CN78XX version of FPA.</p>
<p>Returns 0 on success, -1 if any internal errors are encountered </p>

</div>
</div>
<a class="anchor" id="aefe5d94928114b42ab114e15e0d3ae5b"></a><!-- doxytag: member="cvmx&#45;fpa.c::EXPORT_SYMBOL" ref="aefe5d94928114b42ab114e15e0d3ae5b" args="(cvmx_fpa_global_init_node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype">cvmx_fpa_global_init_node&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a7ffdb40ac8c6c8cbbae22d4c6a5326e5"></a><!-- doxytag: member="cvmx&#45;fpa.c::__cvmx_fpa3_cnt_offset" ref="a7ffdb40ac8c6c8cbbae22d4c6a5326e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="cvmx-fpa_8c.html#a7ffdb40ac8c6c8cbbae22d4c6a5326e5">__cvmx_fpa3_cnt_offset</a> = 32</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a75579ec435bfefb69df0fe686b5b401e"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa1_pool_info" ref="a75579ec435bfefb69df0fe686b5b401e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CVMX_SHARED <a class="el" href="structcvmx__fpa1__pool__info__t.html">cvmx_fpa1_pool_info_t</a>* <a class="el" href="cvmx-fpa_8c.html#a75579ec435bfefb69df0fe686b5b401e">cvmx_fpa1_pool_info</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FPA1/FPA3 info structure is stored in a named block that is allocated once and shared among applications. </p>

</div>
</div>
<a class="anchor" id="acd1709dca58bfe0861b53938ce45e1b3"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_aura_info" ref="acd1709dca58bfe0861b53938ce45e1b3" args="[CVMX_MAX_NODES]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CVMX_SHARED <a class="el" href="structcvmx__fpa3__aurax__info__t.html">cvmx_fpa3_aurax_info_t</a>* <a class="el" href="cvmx-fpa_8c.html#acd1709dca58bfe0861b53938ce45e1b3">cvmx_fpa3_aura_info</a>[CVMX_MAX_NODES]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3529e401a2b3fe324b61387adca67230"></a><!-- doxytag: member="cvmx&#45;fpa.c::cvmx_fpa3_pool_info" ref="a3529e401a2b3fe324b61387adca67230" args="[CVMX_MAX_NODES]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CVMX_SHARED <a class="el" href="structcvmx__fpa3__poolx__info__t.html">cvmx_fpa3_poolx_info_t</a>* <a class="el" href="cvmx-fpa_8c.html#a3529e401a2b3fe324b61387adca67230">cvmx_fpa3_pool_info</a>[CVMX_MAX_NODES]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a656b8d50e4036b8ae51663e47beea58d"></a><!-- doxytag: member="cvmx&#45;fpa.c::debug" ref="a656b8d50e4036b8ae51663e47beea58d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="cvmx-tim-atomic_8c.html#a656b8d50e4036b8ae51663e47beea58d">debug</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a16e2bcad2f21d1d20be670bb17db4bc3"></a><!-- doxytag: member="cvmx&#45;fpa.c::guard_band_size" ref="a16e2bcad2f21d1d20be670bb17db4bc3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="cvmx-fpa_8c.html#a16e2bcad2f21d1d20be670bb17db4bc3">guard_band_size</a> = CVMX_ENABLE_FPA_CHECKS &lt;&lt; 10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af42fe3d7c0e6b4d14eef9676f552d5f4"></a><!-- doxytag: member="cvmx&#45;fpa.c::magic_pattern" ref="af42fe3d7c0e6b4d14eef9676f552d5f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t <a class="el" href="cvmx-fpa_8c.html#af42fe3d7c0e6b4d14eef9676f552d5f4">magic_pattern</a> = 0xbab4faced095f00d</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
