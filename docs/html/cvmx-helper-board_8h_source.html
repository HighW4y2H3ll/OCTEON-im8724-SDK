<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-helper-board.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>cvmx-helper-board.h</h1><a href="cvmx-helper-board_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***********************license start***************</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2003-2010  Cavium Inc. (support@cavium.com). All rights</span>
<a name="l00003"></a>00003 <span class="comment"> * reserved.</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00007"></a>00007 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00008"></a>00008 <span class="comment"> * met:</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> *   * Redistributions of source code must retain the above copyright</span>
<a name="l00011"></a>00011 <span class="comment"> *     notice, this list of conditions and the following disclaimer.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> *   * Redistributions in binary form must reproduce the above</span>
<a name="l00014"></a>00014 <span class="comment"> *     copyright notice, this list of conditions and the following</span>
<a name="l00015"></a>00015 <span class="comment"> *     disclaimer in the documentation and/or other materials provided</span>
<a name="l00016"></a>00016 <span class="comment"> *     with the distribution.</span>
<a name="l00017"></a>00017 <span class="comment"></span>
<a name="l00018"></a>00018 <span class="comment"> *   * Neither the name of Cavium Inc. nor the names of</span>
<a name="l00019"></a>00019 <span class="comment"> *     its contributors may be used to endorse or promote products</span>
<a name="l00020"></a>00020 <span class="comment"> *     derived from this software without specific prior written</span>
<a name="l00021"></a>00021 <span class="comment"> *     permission.</span>
<a name="l00022"></a>00022 <span class="comment"></span>
<a name="l00023"></a>00023 <span class="comment"> * This Software, including technical data, may be subject to U.S. export  control</span>
<a name="l00024"></a>00024 <span class="comment"> * laws, including the U.S. Export Administration Act and its  associated</span>
<a name="l00025"></a>00025 <span class="comment"> * regulations, and may be subject to export or import  regulations in other</span>
<a name="l00026"></a>00026 <span class="comment"> * countries.</span>
<a name="l00027"></a>00027 <span class="comment"></span>
<a name="l00028"></a>00028 <span class="comment"> * TO THE MAXIMUM EXTENT PERMITTED BY LAW, THE SOFTWARE IS PROVIDED &quot;AS IS&quot;</span>
<a name="l00029"></a>00029 <span class="comment"> * AND WITH ALL FAULTS AND CAVIUM INC. MAKES NO PROMISES, REPRESENTATIONS OR</span>
<a name="l00030"></a>00030 <span class="comment"> * WARRANTIES, EITHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE, WITH RESPECT TO</span>
<a name="l00031"></a>00031 <span class="comment"> * THE SOFTWARE, INCLUDING ITS CONDITION, ITS CONFORMITY TO ANY REPRESENTATION OR</span>
<a name="l00032"></a>00032 <span class="comment"> * DESCRIPTION, OR THE EXISTENCE OF ANY LATENT OR PATENT DEFECTS, AND CAVIUM</span>
<a name="l00033"></a>00033 <span class="comment"> * SPECIFICALLY DISCLAIMS ALL IMPLIED (IF ANY) WARRANTIES OF TITLE,</span>
<a name="l00034"></a>00034 <span class="comment"> * MERCHANTABILITY, NONINFRINGEMENT, FITNESS FOR A PARTICULAR PURPOSE, LACK OF</span>
<a name="l00035"></a>00035 <span class="comment"> * VIRUSES, ACCURACY OR COMPLETENESS, QUIET ENJOYMENT, QUIET POSSESSION OR</span>
<a name="l00036"></a>00036 <span class="comment"> * CORRESPONDENCE TO DESCRIPTION. THE ENTIRE  RISK ARISING OUT OF USE OR</span>
<a name="l00037"></a>00037 <span class="comment"> * PERFORMANCE OF THE SOFTWARE LIES WITH YOU.</span>
<a name="l00038"></a>00038 <span class="comment"> ***********************license end**************************************/</span>
<a name="l00039"></a>00039 <span class="comment"></span>
<a name="l00040"></a>00040 <span class="comment">/**</span>
<a name="l00041"></a>00041 <span class="comment"> * @file</span>
<a name="l00042"></a>00042 <span class="comment"> *</span>
<a name="l00043"></a>00043 <span class="comment"> * Helper functions to abstract board specific data about</span>
<a name="l00044"></a>00044 <span class="comment"> * network ports from the rest of the cvmx-helper files.</span>
<a name="l00045"></a>00045 <span class="comment"> *</span>
<a name="l00046"></a>00046 <span class="comment"> * &lt;hr&gt;$Revision: 154327 $&lt;hr&gt;</span>
<a name="l00047"></a>00047 <span class="comment"> */</span>
<a name="l00048"></a>00048 <span class="preprocessor">#ifndef __CVMX_HELPER_BOARD_H__</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">#define __CVMX_HELPER_BOARD_H__</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span>
<a name="l00051"></a>00051 <span class="preprocessor">#ifdef  __cplusplus</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="comment">/* *INDENT-OFF* */</span>
<a name="l00053"></a>00053 <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00054"></a>00054 <span class="comment">/* *INDENT-ON* */</span>
<a name="l00055"></a>00055 <span class="preprocessor">#endif</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a><a class="code" href="cvmx-helper-board_8h.html#a896e3b38f8f32858081e8ec23a2299a2">00057</a> <span class="preprocessor">#define CVMX_VSC7224_NAME_LEN   16</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span>
<a name="l00059"></a><a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5">00059</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00060"></a><a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5aa6609f099938bed0284b378e9269e305">00060</a>     <a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5aa6609f099938bed0284b378e9269e305">USB_CLOCK_TYPE_REF_12</a>,
<a name="l00061"></a><a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5a5704755af85975576a0b98781d154302">00061</a>     <a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5a5704755af85975576a0b98781d154302">USB_CLOCK_TYPE_REF_24</a>,
<a name="l00062"></a><a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5ad1e882fbdf14d734dcfaebdcb295860e">00062</a>     <a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5ad1e882fbdf14d734dcfaebdcb295860e">USB_CLOCK_TYPE_REF_48</a>,
<a name="l00063"></a><a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5ac9b69ff436992c392ddde9d0f39be7ad">00063</a>     <a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5ac9b69ff436992c392ddde9d0f39be7ad">USB_CLOCK_TYPE_CRYSTAL_12</a>,
<a name="l00064"></a>00064 } <a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5">cvmx_helper_board_usb_clock_types_t</a>;
<a name="l00065"></a>00065 
<a name="l00066"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678">00066</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678">cvmx_phy_type</a> {
<a name="l00067"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678a6cfa438d84b42bd1f374b79252cd9434">00067</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678a6cfa438d84b42bd1f374b79252cd9434">BROADCOM_GENERIC_PHY</a>,
<a name="l00068"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678afe977b61d3cb2310043b82133db1c654">00068</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678afe977b61d3cb2310043b82133db1c654">MARVELL_GENERIC_PHY</a>,
<a name="l00069"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678aa8f0c4d6bcca69aec90ccdcf3dc58ca5">00069</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678aa8f0c4d6bcca69aec90ccdcf3dc58ca5">CORTINA_PHY</a>,
<a name="l00070"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678ad9c5fe2a368d42b858526f074c536714">00070</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678ad9c5fe2a368d42b858526f074c536714">AQUANTIA_PHY</a>,
<a name="l00071"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678a5a1ba52c14bf37689a2dd6b6035662b6">00071</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678a5a1ba52c14bf37689a2dd6b6035662b6">GENERIC_8023_C22_PHY</a>,
<a name="l00072"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678a4cf34bc5bc6b470cc045615679c8a2f7">00072</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678a4cf34bc5bc6b470cc045615679c8a2f7">GENERIC_8023_C45_PHY</a>,
<a name="l00073"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678ad763d4e23f7c677ec8ceb7d74fb6205b">00073</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678ad763d4e23f7c677ec8ceb7d74fb6205b">INBAND_PHY</a>,
<a name="l00074"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678a2e4dc77e61b007322d2a5421ffae469c">00074</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678a2e4dc77e61b007322d2a5421ffae469c">QUALCOMM_S17</a>,       <span class="comment">/** Qualcomm QCA833X switch */</span>
<a name="l00075"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678ac48f2ab5da786245d3b1b17a8428a089">00075</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678ac48f2ab5da786245d3b1b17a8428a089" title="Qualcomm QCA833X switch.">VITESSE_VSC8490_PHY</a>,    <span class="comment">/** Vitesse VSC8490 is non-standard for SGMII */</span>
<a name="l00076"></a><a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678ad0360c4be804ead742684611f3ae5267">00076</a>     <a class="code" href="cvmx-helper-board_8h.html#abf8cecf4bbc292ad195598fab6f96678ad0360c4be804ead742684611f3ae5267" title="Vitesse VSC8490 is non-standard for SGMII.">FAKE_PHY</a>,       <span class="comment">/** Unsupported or no PHY, use GPIOs for LEDs */</span>
<a name="l00077"></a>00077 } <a class="code" href="cvmx-helper-board_8h.html#a8c15134f1c95ca2d17b5869b4af6ed80">cvmx_phy_type_t</a>;
<a name="l00078"></a>00078 <span class="comment"></span>
<a name="l00079"></a>00079 <span class="comment">/** Used to record the host mode used by the Cortina CS4321 PHY */</span>
<a name="l00080"></a><a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27ee">00080</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00081"></a><a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eeaa3ea51b227d27242fcfc1fb47afd705b">00081</a>     <a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eeaa3ea51b227d27242fcfc1fb47afd705b">CVMX_PHY_HOST_MODE_UNKNOWN</a>,
<a name="l00082"></a><a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eeacbb9c0cb1ce78d74f2ca9b91d9b6f975">00082</a>     <a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eeacbb9c0cb1ce78d74f2ca9b91d9b6f975">CVMX_PHY_HOST_MODE_SGMII</a>,
<a name="l00083"></a><a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eeaaad9ddbc4c0bf60a1ebf399d5bbcb3ca">00083</a>     <a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eeaaad9ddbc4c0bf60a1ebf399d5bbcb3ca">CVMX_PHY_HOST_MODE_QSGMII</a>,
<a name="l00084"></a><a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eeab7fea8b8ef907978d902724668ddc783">00084</a>     <a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eeab7fea8b8ef907978d902724668ddc783">CVMX_PHY_HOST_MODE_XAUI</a>,
<a name="l00085"></a><a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eea74b60189d3bded3af7757f4b48ad0a8d">00085</a>     <a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27eea74b60189d3bded3af7757f4b48ad0a8d">CVMX_PHY_HOST_MODE_RXAUI</a>,
<a name="l00086"></a>00086 } <a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27ee" title="Used to record the host mode used by the Cortina CS4321 PHY.">cvmx_phy_host_mode_t</a>;
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626">00088</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00089"></a><a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626aea2b37b6bbc200daec30ba605efc831c">00089</a>     <a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626aea2b37b6bbc200daec30ba605efc831c">set_phy_link_flags_autoneg</a> = 0x1,
<a name="l00090"></a><a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626a9c5e9c2b8589f2103f2a3d792eabb20f">00090</a>     <a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626a9c5e9c2b8589f2103f2a3d792eabb20f">set_phy_link_flags_flow_control_dont_touch</a> = 0x0 &lt;&lt; 1,
<a name="l00091"></a><a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626a9187f963fc4f5811e761e7f67ca3568a">00091</a>     <a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626a9187f963fc4f5811e761e7f67ca3568a">set_phy_link_flags_flow_control_enable</a> = 0x1 &lt;&lt; 1,
<a name="l00092"></a><a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626a8c36275eb7063a7a80820f06f034244b">00092</a>     <a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626a8c36275eb7063a7a80820f06f034244b">set_phy_link_flags_flow_control_disable</a> = 0x2 &lt;&lt; 1,
<a name="l00093"></a><a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626a3716e63466e8d0108e0f34561010b17a">00093</a>     <a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626a3716e63466e8d0108e0f34561010b17a">set_phy_link_flags_flow_control_mask</a> = 0x3 &lt;&lt; 1,    <span class="comment">/* Mask for 2 bit wide flow control field */</span>
<a name="l00094"></a>00094 } <a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626">cvmx_helper_board_set_phy_link_flags_types_t</a>;
<a name="l00095"></a>00095 <span class="comment"></span>
<a name="l00096"></a>00096 <span class="comment">/**</span>
<a name="l00097"></a>00097 <span class="comment"> * The EBB6600 board uses a MDIO mux device to select between the two QLM</span>
<a name="l00098"></a>00098 <span class="comment"> * modules since both QLM modules share the same PHY addresses.  The</span>
<a name="l00099"></a>00099 <span class="comment"> * MDIO mux is controlled via GPIO by a GPIO device that is also on</span>
<a name="l00100"></a>00100 <span class="comment"> * the TWSI bus rather than native OCTEON GPIO libes.</span>
<a name="l00101"></a>00101 <span class="comment"> *</span>
<a name="l00102"></a>00102 <span class="comment"> * To further complicate matters, the TWSI GPIO device sits behind</span>
<a name="l00103"></a>00103 <span class="comment"> * a TWSI mux device as well, making accessing the MDIO devices on</span>
<a name="l00104"></a>00104 <span class="comment"> * this board a very complex operation involving writing to the TWSI mux,</span>
<a name="l00105"></a>00105 <span class="comment"> * followed by the MDIO mux device.</span>
<a name="l00106"></a>00106 <span class="comment"> */</span>
<a name="l00107"></a>00107 <span class="preprocessor">#ifndef CVMX_BUILD_FOR_LINUX_KERNEL</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span><span class="comment">/** Maximum number of GPIO devices used to control the MDIO mux */</span>
<a name="l00109"></a><a class="code" href="cvmx-helper-board_8h.html#a8a31c6d446f303238004e9e5db1bb9f3">00109</a> <span class="preprocessor">#define CVMX_PHY_MUX_MAX_GPIO   2</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span><span class="comment">/** Type of MDIO mux device, currently OTHER isn&apos;t supported */</span>
<a name="l00111"></a><a class="code" href="cvmx-helper-board_8h.html#a9f33f68d1af51851dc1c2dac81aa8b18">00111</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00112"></a><a class="code" href="cvmx-helper-board_8h.html#a9f33f68d1af51851dc1c2dac81aa8b18a76c0e7ec9d4c2d5dfd7f5d865d8ab52b">00112</a>     <a class="code" href="cvmx-helper-board_8h.html#a9f33f68d1af51851dc1c2dac81aa8b18a76c0e7ec9d4c2d5dfd7f5d865d8ab52b">SN74CBTLV3253</a>,  <span class="comment">/** SN74CBTLV3253 I2C device */</span>
<a name="l00113"></a><a class="code" href="cvmx-helper-board_8h.html#a9f33f68d1af51851dc1c2dac81aa8b18adbf1dee1b8cd7ea3c82661943c7b74f4">00113</a>     <a class="code" href="cvmx-helper-board_8h.html#a9f33f68d1af51851dc1c2dac81aa8b18adbf1dee1b8cd7ea3c82661943c7b74f4" title="SN74CBTLV3253 I2C device.">OTHER</a>       <span class="comment">/** Unknown/other */</span>
<a name="l00114"></a>00114 } <a class="code" href="cvmx-helper-board_8h.html#a9f33f68d1af51851dc1c2dac81aa8b18" title="Type of MDIO mux device, currently OTHER isn&amp;#39;t supported.">cvmx_phy_mux_type_t</a>;
<a name="l00115"></a>00115 <span class="comment"></span>
<a name="l00116"></a>00116 <span class="comment">/** Type of GPIO line controlling MDIO mux */</span>
<a name="l00117"></a><a class="code" href="cvmx-helper-board_8h.html#a6e855bee4c36b70904d0bcaaaad64a02">00117</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00118"></a><a class="code" href="cvmx-helper-board_8h.html#a6e855bee4c36b70904d0bcaaaad64a02a5d738a8bf2d49a0ed3a124039e0cc7ac">00118</a>     <a class="code" href="cvmx-helper-board_8h.html#a6e855bee4c36b70904d0bcaaaad64a02a5d738a8bf2d49a0ed3a124039e0cc7ac">GPIO_OCTEON</a>,    <span class="comment">/** Native OCTEON */</span>
<a name="l00119"></a><a class="code" href="cvmx-helper-board_8h.html#a6e855bee4c36b70904d0bcaaaad64a02a3f9e7c1964a18b4b1340fe852900ad62">00119</a>     <a class="code" href="cvmx-helper-board_8h.html#a6e855bee4c36b70904d0bcaaaad64a02a3f9e7c1964a18b4b1340fe852900ad62" title="Native OCTEON.">GPIO_PCA8574</a>    <span class="comment">/** TWSI mux device */</span>
<a name="l00120"></a>00120 } <a class="code" href="cvmx-helper-board_8h.html#a6e855bee4c36b70904d0bcaaaad64a02" title="Type of GPIO line controlling MDIO mux.">cvmx_phy_gpio_type_t</a>;
<a name="l00121"></a>00121 <span class="preprocessor">#endif</span>
<a name="l00122"></a>00122 <span class="preprocessor"></span>
<a name="l00123"></a>00123 <span class="comment">/* Forward declarations */</span>
<a name="l00124"></a>00124 <span class="keyword">struct </span>cvmx_fdt_sfp_info;   <span class="comment">/** Defined in cvmx-helper-fdt.h */</span>
<a name="l00125"></a>00125 <span class="keyword">struct </span><a class="code" href="structcvmx__vsc7224.html" title="Data structure for Microsemi VSC7224 reclocking chip.">cvmx_vsc7224</a>;
<a name="l00126"></a>00126 <span class="keyword">struct </span>cvmx_fdt_gpio_info;  <span class="comment">/** Defined in cvmx-helper-fdt.h */</span>
<a name="l00127"></a>00127 <span class="keyword">struct </span>cvmx_fdt_i2c_bus_info;   <span class="comment">/** Defined in cvmx-helper-fdt.h */</span>
<a name="l00128"></a>00128 <span class="keyword">struct </span><a class="code" href="structcvmx__phy__info.html" title="Internal use function.">cvmx_phy_info</a>;
<a name="l00129"></a>00129 <span class="comment"></span>
<a name="l00130"></a>00130 <span class="comment">/**</span>
<a name="l00131"></a>00131 <span class="comment"> * @INTERNAL</span>
<a name="l00132"></a>00132 <span class="comment"> * This data structure is used when the port LEDs are wired up to Octeon&apos;s GPIO</span>
<a name="l00133"></a>00133 <span class="comment"> * lines instead of to a traditional PHY.</span>
<a name="l00134"></a>00134 <span class="comment"> */</span>
<a name="l00135"></a><a class="code" href="structcvmx__phy__gpio__leds.html">00135</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structcvmx__phy__gpio__leds.html" title="Internal use function.">cvmx_phy_gpio_leds</a> {
<a name="l00136"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a6a0c032aeb986c5d86bb2615bc7bb146">00136</a>     uint64_t <a class="code" href="structcvmx__phy__gpio__leds.html#a6a0c032aeb986c5d86bb2615bc7bb146">last_rx_count</a>;     <span class="comment">/** Counters used to check for activity */</span>
<a name="l00137"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a0a83d9017e21861604e42f733aa7d52c">00137</a>     uint64_t <a class="code" href="structcvmx__phy__gpio__leds.html#a0a83d9017e21861604e42f733aa7d52c" title="Counters used to check for activity.">last_tx_count</a>;     <span class="comment">/** Counters used to check for activity */</span>
<a name="l00138"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a99f2716ae5a3117fa4d02ead83ae8fc1">00138</a>     uint64_t <a class="code" href="structcvmx__phy__gpio__leds.html#a99f2716ae5a3117fa4d02ead83ae8fc1" title="Counters used to check for activity.">last_activity_poll_time</a>;<span class="comment">/** Last time activity was polled */</span>
<a name="l00139"></a><a class="code" href="structcvmx__phy__gpio__leds.html#aaac051e7d0ffd78f90c04d329a468232">00139</a>     uint64_t <a class="code" href="structcvmx__phy__gpio__leds.html#aaac051e7d0ffd78f90c04d329a468232" title="Last time activity was polled.">last_link_poll_time</a>;   <span class="comment">/** Last time link was polled */</span>
<a name="l00140"></a><a class="code" href="structcvmx__phy__gpio__leds.html#accb8d577d2fdc93fe727d0200708abd9">00140</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__gpio__leds.html#accb8d577d2fdc93fe727d0200708abd9" title="Last time link was polled.">link_poll_interval_ms</a>;  <span class="comment">/** Link polling interval in ms */</span>
<a name="l00141"></a><a class="code" href="structcvmx__phy__gpio__leds.html#aedfec9da753d54852434070fd291c143">00141</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__gpio__leds.html#aedfec9da753d54852434070fd291c143" title="Link polling interval in ms.">activity_poll_interval_ms</a>;  <span class="comment">/** Activity polling interval in ms */</span>
<a name="l00142"></a><a class="code" href="structcvmx__phy__gpio__leds.html#ac46b7e48661d1c351dd06fb2e6b1a21b">00142</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__gpio__leds.html#ac46b7e48661d1c351dd06fb2e6b1a21b" title="Activity polling interval in ms.">link_status_gpio</a>;       <span class="comment">/** Link status LED GPIO, -1 if not used */</span>
<a name="l00143"></a><a class="code" href="structcvmx__phy__gpio__leds.html#acba092c5e6f3805d772df8d892fbd155">00143</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__gpio__leds.html#acba092c5e6f3805d772df8d892fbd155" title="Link status LED GPIO, -1 if not used.">error_gpio</a>;         <span class="comment">/** Error status LED GPIO, -1 if not used */</span>
<a name="l00144"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a2b7ed9e0e7b5918d0d8f335ac87f4f70">00144</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__gpio__leds.html#a2b7ed9e0e7b5918d0d8f335ac87f4f70" title="Error status LED GPIO, -1 if not used.">rx_activity_gpio</a>;       <span class="comment">/** RX activity LED GPIO, -1 if not used */</span>
<a name="l00145"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a486c913f7c3205a7dbff1640bf8b09b9">00145</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__gpio__leds.html#a486c913f7c3205a7dbff1640bf8b09b9" title="RX activity LED GPIO, -1 if not used.">tx_activity_gpio</a>;       <span class="comment">/** TX activity LED GPIO, -1 if not used */</span>
<a name="l00146"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a6df8c7efd0ce93c6710322d62b14e965">00146</a>     uint16_t <a class="code" href="structcvmx__phy__gpio__leds.html#a6df8c7efd0ce93c6710322d62b14e965" title="TX activity LED GPIO, -1 if not used.">rx_activity_hz</a>;    <span class="comment">/** RX activity blink time in hz */</span>
<a name="l00147"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a5a7d337f5f435f209305d2b34e73b331">00147</a>     uint16_t <a class="code" href="structcvmx__phy__gpio__leds.html#a5a7d337f5f435f209305d2b34e73b331" title="RX activity blink time in hz.">tx_activity_hz</a>;    <span class="comment">/** TX activity blink time in hz */</span>
<a name="l00148"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a7ad2b83b20935cdf5d31cb50ba7b7914">00148</a>     <span class="keywordtype">bool</span> <a class="code" href="structcvmx__phy__gpio__leds.html#a7ad2b83b20935cdf5d31cb50ba7b7914" title="TX activity blink time in hz.">link_status_active_low</a>;    <span class="comment">/** True if active link is active low */</span>
<a name="l00149"></a><a class="code" href="structcvmx__phy__gpio__leds.html#ac1230470770e7b2ff656dd73e6705e32">00149</a>     <span class="keywordtype">bool</span> <a class="code" href="structcvmx__phy__gpio__leds.html#ac1230470770e7b2ff656dd73e6705e32" title="True if active link is active low.">error_status_active_low</a>;   <span class="comment">/** True if error LED is active low */</span>
<a name="l00150"></a><a class="code" href="structcvmx__phy__gpio__leds.html#abc1d7341c37b0b4dc99ad794fa84978d">00150</a>     <span class="keywordtype">bool</span> <a class="code" href="structcvmx__phy__gpio__leds.html#abc1d7341c37b0b4dc99ad794fa84978d" title="True if error LED is active low.">error_active_low</a>;      <span class="comment">/** True if error is active low */</span>
<a name="l00151"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a5bcd613e0f9da868da3f4702e3e2d235">00151</a>     <span class="keywordtype">bool</span> <a class="code" href="structcvmx__phy__gpio__leds.html#a5bcd613e0f9da868da3f4702e3e2d235" title="True if error is active low.">rx_activity_active_low</a>;    <span class="comment">/** True if rx activity is active low */</span>
<a name="l00152"></a><a class="code" href="structcvmx__phy__gpio__leds.html#aaeebabe2b9e4247a2f688d7d4efe803c">00152</a>     <span class="keywordtype">bool</span> <a class="code" href="structcvmx__phy__gpio__leds.html#aaeebabe2b9e4247a2f688d7d4efe803c" title="True if rx activity is active low.">tx_activity_active_low</a>;    <span class="comment">/** True if tx activity is active low */</span><span class="comment"></span>
<a name="l00153"></a>00153 <span class="comment">    /** Set true if LEDs are shared on an interface by all ports */</span>
<a name="l00154"></a><a class="code" href="structcvmx__phy__gpio__leds.html#aeb86c1b4a09647d2be8b75627b256306">00154</a>     <span class="keywordtype">bool</span> <a class="code" href="structcvmx__phy__gpio__leds.html#aeb86c1b4a09647d2be8b75627b256306" title="True if tx activity is active low.">interface_leds</a>;
<a name="l00155"></a><a class="code" href="structcvmx__phy__gpio__leds.html#aff973b26d4a6e0d62d2be441964d5d16">00155</a>     int8_t <a class="code" href="structcvmx__phy__gpio__leds.html#aff973b26d4a6e0d62d2be441964d5d16">rx_gpio_timer</a>;       <span class="comment">/** GPIO clock generator timer [0-3] */</span>
<a name="l00156"></a><a class="code" href="structcvmx__phy__gpio__leds.html#a2997268fba60dd3e7f018714ae80b4ab">00156</a>     int8_t <a class="code" href="structcvmx__phy__gpio__leds.html#a2997268fba60dd3e7f018714ae80b4ab" title="GPIO clock generator timer [0-3].">tx_gpio_timer</a>;       <span class="comment">/** GPIO clock generator timer [0-3] */</span>
<a name="l00157"></a>00157 } <a class="code" href="structcvmx__phy__gpio__leds.html" title="Internal use function.">cvmx_phy_gpio_leds_t</a>;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 <span class="preprocessor">#ifndef CVMX_BUILD_FOR_LINUX_KERNEL</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span><span class="comment">/** This structure contains the tap values to use for various cable lengths */</span>
<a name="l00161"></a><a class="code" href="structcvmx__vsc7224__tap.html">00161</a> <span class="keyword">struct </span><a class="code" href="structcvmx__vsc7224__tap.html" title="This structure contains the tap values to use for various cable lengths.">cvmx_vsc7224_tap</a> {
<a name="l00162"></a><a class="code" href="structcvmx__vsc7224__tap.html#ac8156623f49dad4a3c7f71b03af3117e">00162</a>     uint16_t <a class="code" href="structcvmx__vsc7224__tap.html#ac8156623f49dad4a3c7f71b03af3117e">len</a>;       <span class="comment">/** Starting cable length for tap values */</span>
<a name="l00163"></a><a class="code" href="structcvmx__vsc7224__tap.html#a040085ae30fddbaad9b6158a4a343509">00163</a>     uint16_t <a class="code" href="structcvmx__vsc7224__tap.html#a040085ae30fddbaad9b6158a4a343509" title="Starting cable length for tap values.">main_tap</a>;  <span class="comment">/** Main tap value to use */</span>
<a name="l00164"></a><a class="code" href="structcvmx__vsc7224__tap.html#a3ec8440e78016d3735ca24d951afee95">00164</a>     uint16_t <a class="code" href="structcvmx__vsc7224__tap.html#a3ec8440e78016d3735ca24d951afee95" title="Main tap value to use.">pre_tap</a>;   <span class="comment">/** Pre-tap value to use */</span>
<a name="l00165"></a><a class="code" href="structcvmx__vsc7224__tap.html#a4f97fa036c06ae5b350a07c332eda361">00165</a>     uint16_t <a class="code" href="structcvmx__vsc7224__tap.html#a4f97fa036c06ae5b350a07c332eda361" title="Pre-tap value to use.">post_tap</a>;  <span class="comment">/** Post-tap value to use */</span>
<a name="l00166"></a>00166 };
<a name="l00167"></a>00167 <span class="comment"></span>
<a name="l00168"></a>00168 <span class="comment">/** Data structure for Microsemi VSC7224 channel */</span>
<a name="l00169"></a><a class="code" href="structcvmx__vsc7224__chan.html">00169</a> <span class="keyword">struct </span><a class="code" href="structcvmx__vsc7224__chan.html" title="Data structure for Microsemi VSC7224 channel.">cvmx_vsc7224_chan</a> {
<a name="l00170"></a><a class="code" href="structcvmx__vsc7224__chan.html#a9cbd3ef756b6d482a2704cad6f35c82a">00170</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__vsc7224__chan.html" title="Data structure for Microsemi VSC7224 channel.">cvmx_vsc7224_chan</a> *<a class="code" href="structcvmx__vsc7224__chan.html#a39b42558f1478d010cd66fe421600998">next</a>, *<a class="code" href="structcvmx__vsc7224__chan.html#a9cbd3ef756b6d482a2704cad6f35c82a">prev</a>;  <span class="comment">/** Used for linking */</span>
<a name="l00171"></a><a class="code" href="structcvmx__vsc7224__chan.html#ad042bc1575f52ead72dde81b5e09e822">00171</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__vsc7224__chan.html#ad042bc1575f52ead72dde81b5e09e822" title="Used for linking.">ipd_port</a>;       <span class="comment">/** IPD port this channel belongs to */</span>
<a name="l00172"></a><a class="code" href="structcvmx__vsc7224__chan.html#a10da5f0f8e95317aa4de567a4dd3d17b">00172</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__vsc7224__chan.html#a10da5f0f8e95317aa4de567a4dd3d17b" title="IPD port this channel belongs to.">xiface</a>;         <span class="comment">/** xinterface of SFP */</span>
<a name="l00173"></a><a class="code" href="structcvmx__vsc7224__chan.html#a6d652e48458d0184ce8d4bb87f1dd7fa">00173</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__vsc7224__chan.html#a6d652e48458d0184ce8d4bb87f1dd7fa" title="xinterface of SFP">index</a>;          <span class="comment">/** Port index of SFP */</span>
<a name="l00174"></a><a class="code" href="structcvmx__vsc7224__chan.html#ab6c861c2d3ba0e7ee009ac11ec420e71">00174</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__vsc7224__chan.html#ab6c861c2d3ba0e7ee009ac11ec420e71" title="Port index of SFP.">lane</a>;           <span class="comment">/** Lane on port */</span>
<a name="l00175"></a><a class="code" href="structcvmx__vsc7224__chan.html#a98be76cc5d2adc2af3734da0a54ff1a0">00175</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__vsc7224__chan.html#a98be76cc5d2adc2af3734da0a54ff1a0" title="Lane on port.">of_offset</a>;      <span class="comment">/** Offset of channel info in dt */</span>
<a name="l00176"></a><a class="code" href="structcvmx__vsc7224__chan.html#a35c1756b4e78cd62d39258621ba95c39">00176</a>     <span class="keywordtype">bool</span>    <a class="code" href="structcvmx__vsc7224__chan.html#a35c1756b4e78cd62d39258621ba95c39" title="Offset of channel info in dt.">is_tx</a>;          <span class="comment">/** True if is transmit channel */</span>
<a name="l00177"></a><a class="code" href="structcvmx__vsc7224__chan.html#a07580322c636983c892b15a83491e608">00177</a>     <span class="keywordtype">bool</span>    <a class="code" href="structcvmx__vsc7224__chan.html#a07580322c636983c892b15a83491e608" title="True if is transmit channel.">maintap_disable</a>;    <span class="comment">/** True to disable the main tap */</span>
<a name="l00178"></a><a class="code" href="structcvmx__vsc7224__chan.html#a67ecc6c36bb13ddf84f79a2a2d060bdf">00178</a>     <span class="keywordtype">bool</span>    <a class="code" href="structcvmx__vsc7224__chan.html#a67ecc6c36bb13ddf84f79a2a2d060bdf" title="True to disable the main tap.">pretap_disable</a>;     <span class="comment">/** True to disable pre-tap */</span>
<a name="l00179"></a><a class="code" href="structcvmx__vsc7224__chan.html#a251acee416909ac8999f3d7754b21d5b">00179</a>     <span class="keywordtype">bool</span>    <a class="code" href="structcvmx__vsc7224__chan.html#a251acee416909ac8999f3d7754b21d5b" title="True to disable pre-tap.">posttap_disable</a>;    <span class="comment">/** True to disable post-tap */</span>
<a name="l00180"></a><a class="code" href="structcvmx__vsc7224__chan.html#ae0d270057397047e3a3636a245e65ff1">00180</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__vsc7224__chan.html#ae0d270057397047e3a3636a245e65ff1" title="True to disable post-tap.">num_taps</a>;       <span class="comment">/** Number of tap values */</span><span class="comment"></span>
<a name="l00181"></a>00181 <span class="comment">    /** (Q)SFP attached to this channel */</span>
<a name="l00182"></a><a class="code" href="structcvmx__vsc7224__chan.html#a9dc104b982379aa23625495c83a1c68f">00182</a>     <span class="keyword">struct </span>cvmx_fdt_sfp_info *<a class="code" href="structcvmx__vsc7224__chan.html#a9dc104b982379aa23625495c83a1c68f" title="Number of tap values.">sfp_info</a>;
<a name="l00183"></a><a class="code" href="structcvmx__vsc7224__chan.html#a22219f0fd145c71d4a73d7cb44e42551">00183</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__vsc7224.html" title="Data structure for Microsemi VSC7224 reclocking chip.">cvmx_vsc7224</a> *<a class="code" href="structcvmx__vsc7224__chan.html#a22219f0fd145c71d4a73d7cb44e42551">vsc7224</a>;   <span class="comment">/** Pointer to parent */</span><span class="comment"></span>
<a name="l00184"></a>00184 <span class="comment">    /** Tap values for various lengths, must be at the end */</span>
<a name="l00185"></a><a class="code" href="structcvmx__vsc7224__chan.html#abee116c225a995c6525a43de949735e6">00185</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__vsc7224__tap.html" title="This structure contains the tap values to use for various cable lengths.">cvmx_vsc7224_tap</a> <a class="code" href="structcvmx__vsc7224__chan.html#abee116c225a995c6525a43de949735e6" title="Pointer to parent.">taps</a>[0];
<a name="l00186"></a>00186 };
<a name="l00187"></a>00187 <span class="comment"></span>
<a name="l00188"></a>00188 <span class="comment">/** Data structure for Microsemi VSC7224 reclocking chip */</span>
<a name="l00189"></a><a class="code" href="structcvmx__vsc7224.html">00189</a> <span class="keyword">struct </span><a class="code" href="structcvmx__vsc7224.html" title="Data structure for Microsemi VSC7224 reclocking chip.">cvmx_vsc7224</a> {
<a name="l00190"></a><a class="code" href="structcvmx__vsc7224.html#a2638ca556849b79e581cfde1dd3171c1">00190</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcvmx__vsc7224.html#a2638ca556849b79e581cfde1dd3171c1">name</a>;           <span class="comment">/** Name */</span><span class="comment"></span>
<a name="l00191"></a>00191 <span class="comment">    /** Pointer to cannel data */</span>
<a name="l00192"></a><a class="code" href="structcvmx__vsc7224.html#a51d650703f28c1c66fb6d05945fcf454">00192</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__vsc7224__chan.html" title="Data structure for Microsemi VSC7224 channel.">cvmx_vsc7224_chan</a>    *<a class="code" href="structcvmx__vsc7224.html#a51d650703f28c1c66fb6d05945fcf454" title="Name.">channel</a>[4];<span class="comment"></span>
<a name="l00193"></a>00193 <span class="comment">    /** I2C bus device is connected to */</span>
<a name="l00194"></a><a class="code" href="structcvmx__vsc7224.html#ac22b7b77d467d6254bc41d88d857037f">00194</a>     <span class="keyword">struct </span>cvmx_fdt_i2c_bus_info    *<a class="code" href="structcvmx__vsc7224.html#ac22b7b77d467d6254bc41d88d857037f" title="I2C bus device is connected to.">i2c_bus</a>;<span class="comment"></span>
<a name="l00195"></a>00195 <span class="comment">    /** Address of VSC7224 on i2c bus */</span>
<a name="l00196"></a><a class="code" href="structcvmx__vsc7224.html#aeb1a5c0b64e34339dc1a5c513c755c36">00196</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__vsc7224.html#aeb1a5c0b64e34339dc1a5c513c755c36" title="Address of VSC7224 on i2c bus.">i2c_addr</a>;
<a name="l00197"></a><a class="code" href="structcvmx__vsc7224.html#a39b10c23747ab01e7d796dd4970a3328">00197</a>     <span class="keyword">struct </span>cvmx_fdt_gpio_info *<a class="code" href="structcvmx__vsc7224.html#a39b10c23747ab01e7d796dd4970a3328">los_gpio</a>;    <span class="comment">/** LoS GPIO pin */</span>
<a name="l00198"></a><a class="code" href="structcvmx__vsc7224.html#ae85cd054f96dd0833540017df97fa6ed">00198</a>     <span class="keyword">struct </span>cvmx_fdt_gpio_info *<a class="code" href="structcvmx__vsc7224.html#ae85cd054f96dd0833540017df97fa6ed" title="LoS GPIO pin.">reset_gpio</a>;  <span class="comment">/** Reset GPIO pin */</span>
<a name="l00199"></a><a class="code" href="structcvmx__vsc7224.html#ace8dcd406879d3f66126339d27224682">00199</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__vsc7224.html#ace8dcd406879d3f66126339d27224682" title="Reset GPIO pin.">of_offset</a>;  <span class="comment">/** Offset in device tree */</span>
<a name="l00200"></a>00200 };
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="keyword">struct </span><a class="code" href="structcvmx__cs4343__info.html" title="Internal use function.">cvmx_cs4343_info</a>;
<a name="l00203"></a>00203 <span class="comment"></span>
<a name="l00204"></a>00204 <span class="comment">/**</span>
<a name="l00205"></a>00205 <span class="comment"> * @INTERNAL</span>
<a name="l00206"></a>00206 <span class="comment"> *</span>
<a name="l00207"></a>00207 <span class="comment"> * Data structure containing Inphi CS4343 slice information</span>
<a name="l00208"></a>00208 <span class="comment"> */</span>
<a name="l00209"></a><a class="code" href="structcvmx__cs4343__slice__info.html">00209</a> <span class="keyword">struct </span><a class="code" href="structcvmx__cs4343__slice__info.html" title="Internal use function.">cvmx_cs4343_slice_info</a> {
<a name="l00210"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a90f062316cc99b9853c13b38973d2bf0">00210</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcvmx__cs4343__slice__info.html#a90f062316cc99b9853c13b38973d2bf0">name</a>;       <span class="comment">/** Name of this slice in device tree */</span>
<a name="l00211"></a><a class="code" href="structcvmx__cs4343__slice__info.html#abae30f601ca657c54859781bff7eddbe">00211</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__cs4343__info.html" title="Internal use function.">cvmx_cs4343_info</a> *<a class="code" href="structcvmx__cs4343__slice__info.html#abae30f601ca657c54859781bff7eddbe" title="Name of this slice in device tree.">mphy</a>;  <span class="comment">/** Pointer to mphy cs4343 */</span>
<a name="l00212"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a627d789479d037e41acb1cc178130d60">00212</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__phy__info.html" title="Internal use function.">cvmx_phy_info</a> *<a class="code" href="structcvmx__cs4343__slice__info.html#a627d789479d037e41acb1cc178130d60" title="Pointer to mphy cs4343.">phy_info</a>;
<a name="l00213"></a><a class="code" href="structcvmx__cs4343__slice__info.html#ac4bf0d8d039361eb7185c9aa599ca340">00213</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__cs4343__slice__info.html#ac4bf0d8d039361eb7185c9aa599ca340">of_offset</a>;          <span class="comment">/** Offset in device tree */</span>
<a name="l00214"></a><a class="code" href="structcvmx__cs4343__slice__info.html#ac8d4fe175016b550d35de01e4001511e">00214</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__cs4343__slice__info.html#ac8d4fe175016b550d35de01e4001511e" title="Offset in device tree.">slice_no</a>;           <span class="comment">/** Slice number */</span>
<a name="l00215"></a><a class="code" href="structcvmx__cs4343__slice__info.html#afd264ef9444f70d6931f7c242d4508fe">00215</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__cs4343__slice__info.html#afd264ef9444f70d6931f7c242d4508fe" title="Slice number.">reg_offset</a>;         <span class="comment">/** Offset for this slice */</span>
<a name="l00216"></a><a class="code" href="structcvmx__cs4343__slice__info.html#afe0dabaa7462b718aef07e7ec0bdb219">00216</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#afe0dabaa7462b718aef07e7ec0bdb219" title="Offset for this slice.">sr_stx_cmode_res</a>;  <span class="comment">/** See Rainier device tree */</span>
<a name="l00217"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a47632832f88d9cf7dfc6e1f954b71ebf">00217</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#a47632832f88d9cf7dfc6e1f954b71ebf" title="See Rainier device tree.">sr_stx_drv_lower_cm</a>;   <span class="comment">/** See Rainier device tree */</span>
<a name="l00218"></a><a class="code" href="structcvmx__cs4343__slice__info.html#afbd85a83130569e70088ff752d96d747">00218</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#afbd85a83130569e70088ff752d96d747" title="See Rainier device tree.">sr_stx_level</a>;      <span class="comment">/** See Rainier device tree */</span>
<a name="l00219"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a1674e84810cf1a8e4fd7af1d258e42e4">00219</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#a1674e84810cf1a8e4fd7af1d258e42e4" title="See Rainier device tree.">sr_stx_pre_peak</a>;   <span class="comment">/** See Rainier device tree */</span>
<a name="l00220"></a><a class="code" href="structcvmx__cs4343__slice__info.html#aa2b750f996d131f7cf48b1801271de11">00220</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#aa2b750f996d131f7cf48b1801271de11" title="See Rainier device tree.">sr_stx_muxsubrate_sel</a>; <span class="comment">/** See Rainier device tree */</span>
<a name="l00221"></a><a class="code" href="structcvmx__cs4343__slice__info.html#ab32d8e6d5ae4228e9374b6c1512bc5c0">00221</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#ab32d8e6d5ae4228e9374b6c1512bc5c0" title="See Rainier device tree.">sr_stx_post_peak</a>;  <span class="comment">/** See Rainier device tree */</span>
<a name="l00222"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a8193e03c4cb2b219bc038a8dc36ada75">00222</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#a8193e03c4cb2b219bc038a8dc36ada75" title="See Rainier device tree.">cx_stx_cmode_res</a>;  <span class="comment">/** See Rainier device tree */</span>
<a name="l00223"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a800b0bdb094a7f17af6f2ab9993db523">00223</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#a800b0bdb094a7f17af6f2ab9993db523" title="See Rainier device tree.">cx_stx_drv_lower_cm</a>;   <span class="comment">/** See Rainier device tree */</span>
<a name="l00224"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a230d8a70c6432a6c19bb138525c96aa7">00224</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#a230d8a70c6432a6c19bb138525c96aa7" title="See Rainier device tree.">cx_stx_level</a>;      <span class="comment">/** See Rainier device tree */</span>
<a name="l00225"></a><a class="code" href="structcvmx__cs4343__slice__info.html#af600ce4ee91c783016f0df29caa08422">00225</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#af600ce4ee91c783016f0df29caa08422" title="See Rainier device tree.">cx_stx_pre_peak</a>;   <span class="comment">/** See Rainier device tree */</span>
<a name="l00226"></a><a class="code" href="structcvmx__cs4343__slice__info.html#ae59395773fd18fc29b7ca05cca81504e">00226</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#ae59395773fd18fc29b7ca05cca81504e" title="See Rainier device tree.">cx_stx_muxsubrate_sel</a>; <span class="comment">/** See Rainier device tree */</span>
<a name="l00227"></a><a class="code" href="structcvmx__cs4343__slice__info.html#abe5842ee9ff86842b731e306b784aae2">00227</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#abe5842ee9ff86842b731e306b784aae2" title="See Rainier device tree.">cx_stx_post_peak</a>;  <span class="comment">/** See Rainier device tree */</span>
<a name="l00228"></a><a class="code" href="structcvmx__cs4343__slice__info.html#ae1cad36f67764edd4c1ea648cf1252f2">00228</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#ae1cad36f67764edd4c1ea648cf1252f2" title="See Rainier device tree.">basex_stx_cmode_res</a>;   <span class="comment">/** See Rainier device tree */</span>
<a name="l00229"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a18aeaa09dfea1320cef96428414b533b">00229</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#a18aeaa09dfea1320cef96428414b533b" title="See Rainier device tree.">basex_stx_drv_lower_cm</a>;<span class="comment">/** See Rainier device tree */</span>
<a name="l00230"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a6b09cbc7c747c5715fd24dcbcbb6f6fc">00230</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#a6b09cbc7c747c5715fd24dcbcbb6f6fc" title="See Rainier device tree.">basex_stx_level</a>;   <span class="comment">/** See Rainier device tree */</span>
<a name="l00231"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a661b2ee1af971217c3e7c2b2215a1ba6">00231</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#a661b2ee1af971217c3e7c2b2215a1ba6" title="See Rainier device tree.">basex_stx_pre_peak</a>;    <span class="comment">/** See Rainier device tree */</span>
<a name="l00232"></a><a class="code" href="structcvmx__cs4343__slice__info.html#a7d6b23263ba3a6987008a89766f7b4e1">00232</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#a7d6b23263ba3a6987008a89766f7b4e1" title="See Rainier device tree.">basex_stx_muxsubrate_sel</a>;<span class="comment">/** See Rainier device tree */</span>
<a name="l00233"></a><a class="code" href="structcvmx__cs4343__slice__info.html#ac76784c2b31da99031080aa343bea519">00233</a>     uint16_t <a class="code" href="structcvmx__cs4343__slice__info.html#ac76784c2b31da99031080aa343bea519" title="See Rainier device tree.">basex_stx_post_peak</a>;   <span class="comment">/** See Rainier device tree */</span>
<a name="l00234"></a>00234 };
<a name="l00235"></a>00235 <span class="comment"></span>
<a name="l00236"></a>00236 <span class="comment">/**</span>
<a name="l00237"></a>00237 <span class="comment"> * @INTERNAL</span>
<a name="l00238"></a>00238 <span class="comment"> *</span>
<a name="l00239"></a>00239 <span class="comment"> * Data structure for Cortina/Inphi CS4343 device</span>
<a name="l00240"></a>00240 <span class="comment"> */</span>
<a name="l00241"></a><a class="code" href="structcvmx__cs4343__info.html">00241</a> <span class="keyword">struct </span><a class="code" href="structcvmx__cs4343__info.html" title="Internal use function.">cvmx_cs4343_info</a> {
<a name="l00242"></a><a class="code" href="structcvmx__cs4343__info.html#ad034d05e746410dc4933c126656406b6">00242</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcvmx__cs4343__info.html#ad034d05e746410dc4933c126656406b6">name</a>;   <span class="comment">/** Name of Inphi/Cortina CS4343 in DT */</span>
<a name="l00243"></a><a class="code" href="structcvmx__cs4343__info.html#ab8b87a513337fa73c162ce3d62d45bc1">00243</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__phy__info.html" title="Internal use function.">cvmx_phy_info</a> *<a class="code" href="structcvmx__cs4343__info.html#ab8b87a513337fa73c162ce3d62d45bc1" title="Name of Inphi/Cortina CS4343 in DT.">phy_info</a>;
<a name="l00244"></a><a class="code" href="structcvmx__cs4343__info.html#ac159d88ae462d79eeef06c58e6244acb">00244</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__cs4343__slice__info.html" title="Internal use function.">cvmx_cs4343_slice_info</a> <a class="code" href="structcvmx__cs4343__info.html#ac159d88ae462d79eeef06c58e6244acb">slice</a>[4]; <span class="comment">/** Slice information */</span>
<a name="l00245"></a><a class="code" href="structcvmx__cs4343__info.html#a3ec2549152f46a98f3cef3fcb38f52e7">00245</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__cs4343__info.html#a3ec2549152f46a98f3cef3fcb38f52e7" title="Slice information.">of_offset</a>;
<a name="l00246"></a>00246 };
<a name="l00247"></a>00247 <span class="preprocessor">#endif</span>
<a name="l00248"></a>00248 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00249"></a>00249 <span class="comment">/**</span>
<a name="l00250"></a>00250 <span class="comment"> * @INTERNAL</span>
<a name="l00251"></a>00251 <span class="comment"> * This data structure is used to hold PHY information and is subject to change.</span>
<a name="l00252"></a>00252 <span class="comment"> * Please do  not use this data structure directly.</span>
<a name="l00253"></a>00253 <span class="comment"> *</span>
<a name="l00254"></a>00254 <span class="comment"> * NOTE: The U-Boot OCTEON Ethernet drivers depends on this data structure for</span>
<a name="l00255"></a>00255 <span class="comment"> * the mux support.</span>
<a name="l00256"></a>00256 <span class="comment"> */</span>
<a name="l00257"></a><a class="code" href="structcvmx__phy__info.html">00257</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structcvmx__phy__info.html" title="Internal use function.">cvmx_phy_info</a> {
<a name="l00258"></a><a class="code" href="structcvmx__phy__info.html#ae40305cfd5c7a6263fbdc5c6e12c69ed">00258</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#ae40305cfd5c7a6263fbdc5c6e12c69ed">phy_addr</a>;           <span class="comment">/** MDIO address of PHY */</span>
<a name="l00259"></a><a class="code" href="structcvmx__phy__info.html#ad3db61c723884a5c8b211f8a54ada0c6">00259</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#ad3db61c723884a5c8b211f8a54ada0c6" title="MDIO address of PHY.">phy_sub_addr</a>;       <span class="comment">/** Sub-address (i.e. slice), used by Cortina */</span>
<a name="l00260"></a><a class="code" href="structcvmx__phy__info.html#a250e36ee30129af2236bc7750518549c">00260</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a250e36ee30129af2236bc7750518549c" title="Sub-address (i.e.">ipd_port</a>;           <span class="comment">/** IPD port number for the PHY */</span>
<a name="l00261"></a>00261 <span class="preprocessor">#ifndef CVMX_BUILD_FOR_LINUX_KERNEL</span>
<a name="l00262"></a>00262 <span class="preprocessor"></span><span class="comment">    /** MDIO bus PHY connected to (even if behind mux) */</span>
<a name="l00263"></a><a class="code" href="structcvmx__phy__info.html#aadcdeea17dade525430223e71a13a1d4">00263</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#aadcdeea17dade525430223e71a13a1d4" title="IPD port number for the PHY.">mdio_unit</a>;
<a name="l00264"></a><a class="code" href="structcvmx__phy__info.html#a581c993a36433a27ea55a381c3c2edd7">00264</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a581c993a36433a27ea55a381c3c2edd7">direct_connect</a>;     <span class="comment">/** 1 if PHY is directly connected */</span>
<a name="l00265"></a><a class="code" href="structcvmx__phy__info.html#a29b2c30576cfcbacaf141bc744131940">00265</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a29b2c30576cfcbacaf141bc744131940" title="1 if PHY is directly connected">gpio</a>[<a class="code" href="cvmx-helper-board_8h.html#a8a31c6d446f303238004e9e5db1bb9f3" title="The EBB6600 board uses a MDIO mux device to select between the two QLM modules since...">CVMX_PHY_MUX_MAX_GPIO</a>]; <span class="comment">/** GPIOs used to control mux, -1 if not used */</span>
<a name="l00266"></a>00266 <span class="comment"></span>
<a name="l00267"></a>00267 <span class="comment">    /** Type of GPIO.  It can be a local OCTEON GPIO or a TWSI GPIO */</span>
<a name="l00268"></a><a class="code" href="structcvmx__phy__info.html#a74e63ccad7335b02f81778f40a77fda0">00268</a>     <a class="code" href="cvmx-helper-board_8h.html#a6e855bee4c36b70904d0bcaaaad64a02" title="Type of GPIO line controlling MDIO mux.">cvmx_phy_gpio_type_t</a> <a class="code" href="structcvmx__phy__info.html#a74e63ccad7335b02f81778f40a77fda0" title="GPIOs used to control mux, -1 if not used.">gpio_type</a>[<a class="code" href="cvmx-helper-board_8h.html#a8a31c6d446f303238004e9e5db1bb9f3" title="The EBB6600 board uses a MDIO mux device to select between the two QLM modules since...">CVMX_PHY_MUX_MAX_GPIO</a>];
<a name="l00269"></a>00269 <span class="comment"></span>
<a name="l00270"></a>00270 <span class="comment">    /** Address of TWSI GPIO */</span>
<a name="l00271"></a><a class="code" href="structcvmx__phy__info.html#a8d41d2f5d07576185a80b94fdbf957ac">00271</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a8d41d2f5d07576185a80b94fdbf957ac" title="Address of TWSI GPIO.">cvmx_gpio_twsi</a>[<a class="code" href="cvmx-helper-board_8h.html#a8a31c6d446f303238004e9e5db1bb9f3" title="The EBB6600 board uses a MDIO mux device to select between the two QLM modules since...">CVMX_PHY_MUX_MAX_GPIO</a>];
<a name="l00272"></a>00272 <span class="comment"></span>
<a name="l00273"></a>00273 <span class="comment">    /** Value to put into the GPIO lines to select MDIO bus */</span>
<a name="l00274"></a><a class="code" href="structcvmx__phy__info.html#a76d07c5781327cef6aabf0928bf74fff">00274</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a76d07c5781327cef6aabf0928bf74fff" title="Value to put into the GPIO lines to select MDIO bus.">gpio_value</a>;
<a name="l00275"></a><a class="code" href="structcvmx__phy__info.html#a3ef292ca98c03e0020f152f5bc8a30c3">00275</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a3ef292ca98c03e0020f152f5bc8a30c3">gpio_parent_mux_twsi</a>;   <span class="comment">/** -1 if not used, parent TWSI mux for ebb6600 */</span>
<a name="l00276"></a><a class="code" href="structcvmx__phy__info.html#aff7adf7e2a2a3c8197991b3da690eb80">00276</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#aff7adf7e2a2a3c8197991b3da690eb80" title="-1 if not used, parent TWSI mux for ebb6600">gpio_parent_mux_select</a>; <span class="comment">/** selector to use on parent TWSI mux */</span>
<a name="l00277"></a><a class="code" href="structcvmx__phy__info.html#ad3e1f141fa5d3a92d8b4b01121525a6b">00277</a>     <a class="code" href="cvmx-helper-board_8h.html#a8c15134f1c95ca2d17b5869b4af6ed80">cvmx_phy_type_t</a> <a class="code" href="structcvmx__phy__info.html#ad3e1f141fa5d3a92d8b4b01121525a6b" title="selector to use on parent TWSI mux">phy_type</a>;   <span class="comment">/** Type of PHY */</span>
<a name="l00278"></a><a class="code" href="structcvmx__phy__info.html#ac8640cbda2dda8bbbaaf54b0f89d6dec">00278</a>     <a class="code" href="cvmx-helper-board_8h.html#a9f33f68d1af51851dc1c2dac81aa8b18" title="Type of MDIO mux device, currently OTHER isn&amp;#39;t supported.">cvmx_phy_mux_type_t</a> <a class="code" href="structcvmx__phy__info.html#ac8640cbda2dda8bbbaaf54b0f89d6dec" title="Type of PHY.">mux_type</a>;   <span class="comment">/** Type of MDIO mux */</span>
<a name="l00279"></a><a class="code" href="structcvmx__phy__info.html#a3b3d0b09d24944068c81e8421ef71347">00279</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a3b3d0b09d24944068c81e8421ef71347" title="Type of MDIO mux.">mux_twsi_addr</a>;      <span class="comment">/** Address of the MDIO mux */</span>
<a name="l00280"></a><a class="code" href="structcvmx__phy__info.html#a9de7bb3807c971d5b4a18f718400183e">00280</a>     <a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27ee" title="Used to record the host mode used by the Cortina CS4321 PHY.">cvmx_phy_host_mode_t</a> <a class="code" href="structcvmx__phy__info.html#a9de7bb3807c971d5b4a18f718400183e" title="Address of the MDIO mux.">host_mode</a>; <span class="comment">/** Used by Cortina PHY */</span>
<a name="l00281"></a><a class="code" href="structcvmx__phy__info.html#a9b07b7a0559cf2ef360fda701022d8bd">00281</a>     <span class="keywordtype">void</span> *<a class="code" href="structcvmx__phy__info.html#a9b07b7a0559cf2ef360fda701022d8bd" title="Used by Cortina PHY.">phydev</a>;           <span class="comment">/** Pointer to parent phy device */</span>
<a name="l00282"></a><a class="code" href="structcvmx__phy__info.html#a940a32f928c6352e3b05d5276238d5af">00282</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a940a32f928c6352e3b05d5276238d5af" title="Pointer to parent phy device.">fdt_offset</a>;         <span class="comment">/** Node in flat device tree */</span>
<a name="l00283"></a><a class="code" href="structcvmx__phy__info.html#a9541aadfec33e2a5054944a1de5f0f9d">00283</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a9541aadfec33e2a5054944a1de5f0f9d" title="Node in flat device tree.">phy_i2c_bus</a>;        <span class="comment">/** I2C bus for reclocking chips */</span>
<a name="l00284"></a><a class="code" href="structcvmx__phy__info.html#a90282b012e664874b86dddcbae0d5cd8">00284</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#a90282b012e664874b86dddcbae0d5cd8" title="I2C bus for reclocking chips.">phy_i2c_addr</a>;       <span class="comment">/** I2C address of reclocking chip */</span>
<a name="l00285"></a><a class="code" href="structcvmx__phy__info.html#aa3bd2fa8e74ad8cdc79fe457cf45be23">00285</a>     <span class="keywordtype">int</span> <a class="code" href="structcvmx__phy__info.html#aa3bd2fa8e74ad8cdc79fe457cf45be23" title="I2C address of reclocking chip.">num_vsc7224</a>;    <span class="comment">/** Number of Microsemi VSC7224 devices */</span>
<a name="l00286"></a><a class="code" href="structcvmx__phy__info.html#aaad89eb522e6817fc00995372cd45afb">00286</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__vsc7224.html" title="Data structure for Microsemi VSC7224 reclocking chip.">cvmx_vsc7224</a> *<a class="code" href="structcvmx__phy__info.html#aaad89eb522e6817fc00995372cd45afb" title="Number of Microsemi VSC7224 devices.">vsc7224</a>;   <span class="comment">/** Info for VSC7224 devices */</span><span class="comment"></span>
<a name="l00287"></a>00287 <span class="comment">    /** SFP/QSFP descriptor */</span>
<a name="l00288"></a><a class="code" href="structcvmx__phy__info.html#ab16ff149b7b30c37853756f22435b95f">00288</a>     <span class="keyword">struct </span>cvmx_fdt_sfp_info *<a class="code" href="structcvmx__phy__info.html#ab16ff149b7b30c37853756f22435b95f" title="Info for VSC7224 devices.">sfp_info</a>;<span class="comment"></span>
<a name="l00289"></a>00289 <span class="comment">    /** CS4343 slice information for SGMII/XFI.  This is NULL in XLAUI mode */</span>
<a name="l00290"></a><a class="code" href="structcvmx__phy__info.html#ad77b69ff8e86e9a223f92c1fd9b5c7f8">00290</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__cs4343__slice__info.html" title="Internal use function.">cvmx_cs4343_slice_info</a> *<a class="code" href="structcvmx__phy__info.html#ad77b69ff8e86e9a223f92c1fd9b5c7f8" title="CS4343 slice information for SGMII/XFI.">cs4343_slice_info</a>;<span class="comment"></span>
<a name="l00291"></a>00291 <span class="comment">    /** CS4343 mphy information for XLAUI */</span>
<a name="l00292"></a><a class="code" href="structcvmx__phy__info.html#a7a00b4fa35216ec649ecb78f16e3cb37">00292</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__cs4343__info.html" title="Internal use function.">cvmx_cs4343_info</a> *<a class="code" href="structcvmx__phy__info.html#a7a00b4fa35216ec649ecb78f16e3cb37" title="CS4343 mphy information for XLAUI.">cs4343_info</a>;
<a name="l00293"></a>00293 <span class="preprocessor">#endif</span>
<a name="l00294"></a>00294 <span class="preprocessor"></span><span class="comment">    /** Pointer to function to return link information */</span>
<a name="l00295"></a>00295     <a class="code" href="cvmx-helper_8h.html#ae410e243d8b72aa352fcc8ce48fa1ee8">cvmx_helper_link_info_t</a> (*<a class="code" href="structcvmx__phy__info.html#a2f90fcbbbb8590c5ca104ebe37bad78e" title="Pointer to function to return link information.">link_function</a>)(<span class="keyword">struct </span><a class="code" href="structcvmx__phy__info.html" title="Internal use function.">cvmx_phy_info</a> *phy_info);<span class="comment"></span>
<a name="l00296"></a>00296 <span class="comment">    /**</span>
<a name="l00297"></a>00297 <span class="comment">     * If there are LEDs driven by GPIO lines instead of by a PHY device</span>
<a name="l00298"></a>00298 <span class="comment">     * then they are described here, otherwise gpio_leds should be NULL.</span>
<a name="l00299"></a>00299 <span class="comment">     */</span>
<a name="l00300"></a><a class="code" href="structcvmx__phy__info.html#ab31ed8b7ef0f9a015d22e2ac9a8e8504">00300</a>     <span class="keyword">struct </span><a class="code" href="structcvmx__phy__gpio__leds.html" title="Internal use function.">cvmx_phy_gpio_leds</a> *<a class="code" href="structcvmx__phy__info.html#ab31ed8b7ef0f9a015d22e2ac9a8e8504" title="If there are LEDs driven by GPIO lines instead of by a PHY device then they are described...">gpio_leds</a>;
<a name="l00301"></a>00301 } <a class="code" href="structcvmx__phy__info.html" title="Internal use function.">cvmx_phy_info_t</a>;
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 <span class="comment">/* Fake IPD port, the RGMII/MII interface may use different PHY, use this</span>
<a name="l00304"></a>00304 <span class="comment">   macro to return appropriate MIX address to read the PHY. */</span>
<a name="l00305"></a><a class="code" href="cvmx-helper-board_8h.html#af0bb14eb35520973e930283c32f01548">00305</a> <span class="preprocessor">#define CVMX_HELPER_BOARD_MGMT_IPD_PORT     -10</span>
<a name="l00306"></a>00306 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00307"></a>00307 <span class="comment">/**</span>
<a name="l00308"></a>00308 <span class="comment"> * cvmx_override_board_link_get(int ipd_port) is a function</span>
<a name="l00309"></a>00309 <span class="comment"> * pointer. It is meant to allow customization of the process of</span>
<a name="l00310"></a>00310 <span class="comment"> * talking to a PHY to determine link speed. It is called every</span>
<a name="l00311"></a>00311 <span class="comment"> * time a PHY must be polled for link status. Users should set</span>
<a name="l00312"></a>00312 <span class="comment"> * this pointer to a function before calling any cvmx-helper</span>
<a name="l00313"></a>00313 <span class="comment"> * operations.</span>
<a name="l00314"></a>00314 <span class="comment"> */</span>
<a name="l00315"></a>00315 <span class="keyword">extern</span> <a class="code" href="cvmx-platform_8h.html#a845de1642e5d22d87bd00b994bdcd82e">CVMX_SHARED</a> <a class="code" href="cvmx-helper_8h.html#ae410e243d8b72aa352fcc8ce48fa1ee8">cvmx_helper_link_info_t</a>
<a name="l00316"></a>00316 (*<a class="code" href="cvmx-helper-board_8c.html#a711a9d9ccbfc35580196d8eeb4f42b34" title="cvmx_override_board_link_get(int ipd_port) is a function pointer.">cvmx_override_board_link_get</a>) (<span class="keywordtype">int</span> ipd_port);
<a name="l00317"></a>00317 <span class="comment"></span>
<a name="l00318"></a>00318 <span class="comment">/**</span>
<a name="l00319"></a>00319 <span class="comment"> * Return the MII PHY address associated with the given IPD</span>
<a name="l00320"></a>00320 <span class="comment"> * port. A result of -1 means there isn&apos;t a MII capable PHY</span>
<a name="l00321"></a>00321 <span class="comment"> * connected to this port. On chips supporting multiple MII</span>
<a name="l00322"></a>00322 <span class="comment"> * busses the bus number is encoded in bits &lt;15:8&gt;.</span>
<a name="l00323"></a>00323 <span class="comment"> *</span>
<a name="l00324"></a>00324 <span class="comment"> * This function must be modified for every new Octeon board.</span>
<a name="l00325"></a>00325 <span class="comment"> * Internally it uses switch statements based on the cvmx_sysinfo</span>
<a name="l00326"></a>00326 <span class="comment"> * data to determine board types and revisions. It relies on the</span>
<a name="l00327"></a>00327 <span class="comment"> * fact that every Octeon board receives a unique board type</span>
<a name="l00328"></a>00328 <span class="comment"> * enumeration from the bootloader.</span>
<a name="l00329"></a>00329 <span class="comment"> *</span>
<a name="l00330"></a>00330 <span class="comment"> * @param ipd_port Octeon IPD port to get the MII address for.</span>
<a name="l00331"></a>00331 <span class="comment"> *</span>
<a name="l00332"></a>00332 <span class="comment"> * @return MII PHY address and bus number or -1.</span>
<a name="l00333"></a>00333 <span class="comment"> */</span>
<a name="l00334"></a>00334 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#a440bf4897f17bcd1296f4c6f9cddf417" title="Return the MII PHY address associated with the given IPD port.">cvmx_helper_board_get_mii_address</a>(<span class="keywordtype">int</span> ipd_port);
<a name="l00335"></a>00335 <span class="comment"></span>
<a name="l00336"></a>00336 <span class="comment">/**</span>
<a name="l00337"></a>00337 <span class="comment"> * This function as a board specific method of changing the PHY</span>
<a name="l00338"></a>00338 <span class="comment"> * speed, duplex, and autonegotiation. This programs the PHY and</span>
<a name="l00339"></a>00339 <span class="comment"> * not Octeon. This can be used to force Octeon&apos;s links to</span>
<a name="l00340"></a>00340 <span class="comment"> * specific settings.</span>
<a name="l00341"></a>00341 <span class="comment"> *</span>
<a name="l00342"></a>00342 <span class="comment"> * @param phy_addr  The address of the PHY to program</span>
<a name="l00343"></a>00343 <span class="comment"> * @param link_flags</span>
<a name="l00344"></a>00344 <span class="comment"> *                  Flags to control autonegotiation.  Bit 0 is autonegotiation</span>
<a name="l00345"></a>00345 <span class="comment"> *                  enable/disable to maintain backward compatibility.</span>
<a name="l00346"></a>00346 <span class="comment"> * @param link_info Link speed to program. If the speed is zero and autonegotiation</span>
<a name="l00347"></a>00347 <span class="comment"> *                  is enabled, all possible negotiation speeds are advertised.</span>
<a name="l00348"></a>00348 <span class="comment"> *</span>
<a name="l00349"></a>00349 <span class="comment"> * @return Zero on success, negative on failure</span>
<a name="l00350"></a>00350 <span class="comment"> */</span>
<a name="l00351"></a>00351 <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#a5cf1885425c89f025123057c8ea641e9" title="This function as a board specific method of changing the PHY speed, duplex, and auto-negotiation...">cvmx_helper_board_link_set_phy</a>(<span class="keywordtype">int</span> phy_addr,
<a name="l00352"></a>00352                    <a class="code" href="cvmx-helper-board_8h.html#a2ff9999cff7b6a30a8724ea780e5e626">cvmx_helper_board_set_phy_link_flags_types_t</a> link_flags,
<a name="l00353"></a>00353                    <a class="code" href="unioncvmx__helper__link__info.html">cvmx_helper_link_info_t</a> link_info);
<a name="l00354"></a>00354 <span class="comment"></span>
<a name="l00355"></a>00355 <span class="comment">/**</span>
<a name="l00356"></a>00356 <span class="comment"> * @INTERNAL</span>
<a name="l00357"></a>00357 <span class="comment"> * This function is the board specific method of determining an</span>
<a name="l00358"></a>00358 <span class="comment"> * ethernet ports link speed. Most Octeon boards have Marvell PHYs</span>
<a name="l00359"></a>00359 <span class="comment"> * and are handled by the fall through case. This function must be</span>
<a name="l00360"></a>00360 <span class="comment"> * updated for boards that don&apos;t have the normal Marvell PHYs.</span>
<a name="l00361"></a>00361 <span class="comment"> *</span>
<a name="l00362"></a>00362 <span class="comment"> * This function must be modified for every new Octeon board.</span>
<a name="l00363"></a>00363 <span class="comment"> * Internally it uses switch statements based on the cvmx_sysinfo</span>
<a name="l00364"></a>00364 <span class="comment"> * data to determine board types and revisions. It relies on the</span>
<a name="l00365"></a>00365 <span class="comment"> * fact that every Octeon board receives a unique board type</span>
<a name="l00366"></a>00366 <span class="comment"> * enumeration from the bootloader.</span>
<a name="l00367"></a>00367 <span class="comment"> *</span>
<a name="l00368"></a>00368 <span class="comment"> * @param ipd_port IPD input port associated with the port we want to get link</span>
<a name="l00369"></a>00369 <span class="comment"> *                 status for.</span>
<a name="l00370"></a>00370 <span class="comment"> *</span>
<a name="l00371"></a>00371 <span class="comment"> * @return The ports link status. If the link isn&apos;t fully resolved, this must</span>
<a name="l00372"></a>00372 <span class="comment"> *         return zero.</span>
<a name="l00373"></a>00373 <span class="comment"> */</span>
<a name="l00374"></a>00374 <span class="keyword">extern</span> <a class="code" href="unioncvmx__helper__link__info.html">cvmx_helper_link_info_t</a> <a class="code" href="cvmx-helper-board_8c.html#ad023040a89f66c07740671cd39ae8487" title="Internal use function.">__cvmx_helper_board_link_get</a>(<span class="keywordtype">int</span> ipd_port);
<a name="l00375"></a>00375 <span class="comment"></span>
<a name="l00376"></a>00376 <span class="comment">/**</span>
<a name="l00377"></a>00377 <span class="comment"> * @INTERNAL</span>
<a name="l00378"></a>00378 <span class="comment"> * This function is called by cvmx_helper_interface_probe() after it</span>
<a name="l00379"></a>00379 <span class="comment"> * determines the number of ports Octeon can support on a specific</span>
<a name="l00380"></a>00380 <span class="comment"> * interface. This function is the per board location to override</span>
<a name="l00381"></a>00381 <span class="comment"> * this value. It is called with the number of ports Octeon might</span>
<a name="l00382"></a>00382 <span class="comment"> * support and should return the number of actual ports on the</span>
<a name="l00383"></a>00383 <span class="comment"> * board.</span>
<a name="l00384"></a>00384 <span class="comment"> *</span>
<a name="l00385"></a>00385 <span class="comment"> * This function must be modified for every new Octeon board.</span>
<a name="l00386"></a>00386 <span class="comment"> * Internally it uses switch statements based on the cvmx_sysinfo</span>
<a name="l00387"></a>00387 <span class="comment"> * data to determine board types and revisions. It relies on the</span>
<a name="l00388"></a>00388 <span class="comment"> * fact that every Octeon board receives a unique board type</span>
<a name="l00389"></a>00389 <span class="comment"> * enumeration from the bootloader.</span>
<a name="l00390"></a>00390 <span class="comment"> *</span>
<a name="l00391"></a>00391 <span class="comment"> * @param interface Interface to probe</span>
<a name="l00392"></a>00392 <span class="comment"> * @param supported_ports</span>
<a name="l00393"></a>00393 <span class="comment"> *                  Number of ports Octeon supports.</span>
<a name="l00394"></a>00394 <span class="comment"> *</span>
<a name="l00395"></a>00395 <span class="comment"> * @return Number of ports the actual board supports. Many times this will</span>
<a name="l00396"></a>00396 <span class="comment"> *         simple be &quot;support_ports&quot;.</span>
<a name="l00397"></a>00397 <span class="comment"> */</span>
<a name="l00398"></a>00398 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#a0554396e2576c2648cbf46f2d5650a18" title="Internal use function.">__cvmx_helper_board_interface_probe</a>(<span class="keywordtype">int</span> interface, <span class="keywordtype">int</span> supported_ports);
<a name="l00399"></a>00399 <span class="comment"></span>
<a name="l00400"></a>00400 <span class="comment">/**</span>
<a name="l00401"></a>00401 <span class="comment"> * @INTERNAL</span>
<a name="l00402"></a>00402 <span class="comment"> * Enable packet input/output from the hardware. This function is</span>
<a name="l00403"></a>00403 <span class="comment"> * called after by cvmx_helper_packet_hardware_enable() to</span>
<a name="l00404"></a>00404 <span class="comment"> * perform board specific initialization. For most boards</span>
<a name="l00405"></a>00405 <span class="comment"> * nothing is needed.</span>
<a name="l00406"></a>00406 <span class="comment"> *</span>
<a name="l00407"></a>00407 <span class="comment"> * @param interface Interface to enable</span>
<a name="l00408"></a>00408 <span class="comment"> *</span>
<a name="l00409"></a>00409 <span class="comment"> * @return Zero on success, negative on failure</span>
<a name="l00410"></a>00410 <span class="comment"> */</span>
<a name="l00411"></a>00411 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#aed1716db3891650f30277c77f7936ebe" title="Internal use function.">__cvmx_helper_board_hardware_enable</a>(<span class="keywordtype">int</span> interface);
<a name="l00412"></a>00412 <span class="comment"></span>
<a name="l00413"></a>00413 <span class="comment">/**</span>
<a name="l00414"></a>00414 <span class="comment"> * @INTERNAL</span>
<a name="l00415"></a>00415 <span class="comment"> * Gets the clock type used for the USB block based on board type.</span>
<a name="l00416"></a>00416 <span class="comment"> * Used by the USB code for auto configuration of clock type.</span>
<a name="l00417"></a>00417 <span class="comment"> *</span>
<a name="l00418"></a>00418 <span class="comment"> * @return USB clock type enumeration</span>
<a name="l00419"></a>00419 <span class="comment"> */</span>
<a name="l00420"></a>00420 <a class="code" href="cvmx-helper-board_8h.html#aaa4b9df191a08cb6872a5b276edc2be5">cvmx_helper_board_usb_clock_types_t</a> <a class="code" href="cvmx-helper-board_8c.html#afeaddf8f7115083362c6d1f1af86dd40" title="Internal use function.">__cvmx_helper_board_usb_get_clock_type</a>(<span class="keywordtype">void</span>);
<a name="l00421"></a>00421 <span class="comment"></span>
<a name="l00422"></a>00422 <span class="comment">/**</span>
<a name="l00423"></a>00423 <span class="comment"> * @INTERNAL</span>
<a name="l00424"></a>00424 <span class="comment"> * Adjusts the number of available USB ports on Octeon based on board</span>
<a name="l00425"></a>00425 <span class="comment"> * specifics.</span>
<a name="l00426"></a>00426 <span class="comment"> *</span>
<a name="l00427"></a>00427 <span class="comment"> * @param supported_ports expected number of ports based on chip type;</span>
<a name="l00428"></a>00428 <span class="comment"> *</span>
<a name="l00429"></a>00429 <span class="comment"> *</span>
<a name="l00430"></a>00430 <span class="comment"> * @return number of available usb ports, based on board specifics.</span>
<a name="l00431"></a>00431 <span class="comment"> *         Return value is supported_ports if function does not</span>
<a name="l00432"></a>00432 <span class="comment"> *         override.</span>
<a name="l00433"></a>00433 <span class="comment"> */</span>
<a name="l00434"></a>00434 <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#aa2022853b6f9897ecd8fc61166ad5e53" title="Internal use function.">__cvmx_helper_board_usb_get_num_ports</a>(<span class="keywordtype">int</span> supported_ports);
<a name="l00435"></a>00435 
<a name="l00436"></a>00436 <span class="preprocessor">#if !defined(CVMX_BUILD_FOR_LINUX_KERNEL)</span>
<a name="l00437"></a>00437 <span class="preprocessor"></span><span class="comment">/**</span>
<a name="l00438"></a>00438 <span class="comment"> * @INTERNAL</span>
<a name="l00439"></a>00439 <span class="comment"> * Returns if a port is present on an interface</span>
<a name="l00440"></a>00440 <span class="comment"> *</span>
<a name="l00441"></a>00441 <span class="comment"> * @param fdt_addr - address fo flat device tree</span>
<a name="l00442"></a>00442 <span class="comment"> * @param ipd_port - IPD port number</span>
<a name="l00443"></a>00443 <span class="comment"> *</span>
<a name="l00444"></a>00444 <span class="comment"> * @return 1 if port is present, 0 if not present, -1 if error</span>
<a name="l00445"></a>00445 <span class="comment"> */</span>
<a name="l00446"></a>00446 <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#a2b2a0f14980145bcb92a88fa855f284b" title="Returns if a port is present on an interface.">__cvmx_helper_board_get_port_from_dt</a>(<span class="keywordtype">void</span> *fdt_addr, <span class="keywordtype">int</span> ipd_port);
<a name="l00447"></a>00447 <span class="comment"></span>
<a name="l00448"></a>00448 <span class="comment">/**</span>
<a name="l00449"></a>00449 <span class="comment"> * Return the host mode for the PHY.  Currently only the Cortina CS4321 PHY</span>
<a name="l00450"></a>00450 <span class="comment"> * needs this.</span>
<a name="l00451"></a>00451 <span class="comment"> *</span>
<a name="l00452"></a>00452 <span class="comment"> * @param ipd_port - ipd port number to get the host mode for</span>
<a name="l00453"></a>00453 <span class="comment"> *</span>
<a name="l00454"></a>00454 <span class="comment"> * @return host mode for phy</span>
<a name="l00455"></a>00455 <span class="comment"> */</span>
<a name="l00456"></a>00456 <a class="code" href="cvmx-helper-board_8h.html#a05f543aa74c20826661eaeacf65a27ee" title="Used to record the host mode used by the Cortina CS4321 PHY.">cvmx_phy_host_mode_t</a> <a class="code" href="cvmx-helper-board_8c.html#a9495f54f9bc3ad1fc9f4bad14b6efb4a" title="Return the host mode for the PHY.">cvmx_helper_board_get_phy_host_mode</a>(<span class="keywordtype">int</span> ipd_port);
<a name="l00457"></a>00457 <span class="comment"></span>
<a name="l00458"></a>00458 <span class="comment">/**</span>
<a name="l00459"></a>00459 <span class="comment"> * @INTERNAL</span>
<a name="l00460"></a>00460 <span class="comment"> * This function outputs the cvmx_phy_info_t data structure for the specified</span>
<a name="l00461"></a>00461 <span class="comment"> * port.</span>
<a name="l00462"></a>00462 <span class="comment"> *</span>
<a name="l00463"></a>00463 <span class="comment"> * @param[out] - phy_info - phy info data structure</span>
<a name="l00464"></a>00464 <span class="comment"> * @param ipd_port - port to get phy info for</span>
<a name="l00465"></a>00465 <span class="comment"> *</span>
<a name="l00466"></a>00466 <span class="comment"> * @return 0 for success, -1 if info not available</span>
<a name="l00467"></a>00467 <span class="comment"> *</span>
<a name="l00468"></a>00468 <span class="comment"> * NOTE: The phy_info data structure is subject to change.</span>
<a name="l00469"></a>00469 <span class="comment"> */</span>
<a name="l00470"></a>00470 <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#a3c1db76dc486e8420508a6fce2e09ac0" title="Internal use function.">cvmx_helper_board_get_phy_info</a>(<a class="code" href="structcvmx__phy__info.html" title="Internal use function.">cvmx_phy_info_t</a> *phy_info, <span class="keywordtype">int</span> ipd_port);
<a name="l00471"></a>00471 <span class="comment"></span>
<a name="l00472"></a>00472 <span class="comment">/**</span>
<a name="l00473"></a>00473 <span class="comment"> * @INTERNAL</span>
<a name="l00474"></a>00474 <span class="comment"> * Parse the device tree and set whether a port is valid or not.</span>
<a name="l00475"></a>00475 <span class="comment"> *</span>
<a name="l00476"></a>00476 <span class="comment"> * @param fdt_addr  Pointer to device tree</span>
<a name="l00477"></a>00477 <span class="comment"> *</span>
<a name="l00478"></a>00478 <span class="comment"> * @return 0 for success, -1 on error.</span>
<a name="l00479"></a>00479 <span class="comment"> */</span>
<a name="l00480"></a>00480 <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#a712f24b330cbc903514c18299db2bb52" title="Internal use function.">__cvmx_helper_parse_bgx_dt</a>(<span class="keywordtype">void</span> *fdt_addr);
<a name="l00481"></a>00481 <span class="comment"></span>
<a name="l00482"></a>00482 <span class="comment">/**</span>
<a name="l00483"></a>00483 <span class="comment"> * @INTERNAL</span>
<a name="l00484"></a>00484 <span class="comment"> * Parse the device tree and set whether a port is valid or not.</span>
<a name="l00485"></a>00485 <span class="comment"> *</span>
<a name="l00486"></a>00486 <span class="comment"> * @param fdt_addr  Pointer to device tree</span>
<a name="l00487"></a>00487 <span class="comment"> *</span>
<a name="l00488"></a>00488 <span class="comment"> * @return 0 for success, -1 on error.</span>
<a name="l00489"></a>00489 <span class="comment"> */</span>
<a name="l00490"></a>00490 <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#a9823b4b78885bf2260b17c7afe4d04d1" title="Internal use function.">__cvmx_helper_parse_bgx_rgmii_dt</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *fdt_addr);
<a name="l00491"></a>00491 <span class="comment"></span>
<a name="l00492"></a>00492 <span class="comment">/**</span>
<a name="l00493"></a>00493 <span class="comment"> * @INTERNAL</span>
<a name="l00494"></a>00494 <span class="comment"> * Updates any GPIO link LEDs if present</span>
<a name="l00495"></a>00495 <span class="comment"> *</span>
<a name="l00496"></a>00496 <span class="comment"> * @param xiface    Interface number</span>
<a name="l00497"></a>00497 <span class="comment"> * @param index     Port index</span>
<a name="l00498"></a>00498 <span class="comment"> * @param result    Link status result</span>
<a name="l00499"></a>00499 <span class="comment"> */</span>
<a name="l00500"></a>00500 <span class="keywordtype">void</span> <a class="code" href="cvmx-helper-board_8c.html#aefc2c47859975ad3fad18f62137183b1" title="Internal use function.">__cvmx_update_link_led</a>(<span class="keywordtype">int</span> xiface, <span class="keywordtype">int</span> index,
<a name="l00501"></a>00501                 <a class="code" href="unioncvmx__helper__link__info.html">cvmx_helper_link_info_t</a> result);<span class="comment"></span>
<a name="l00502"></a>00502 <span class="comment">/**</span>
<a name="l00503"></a>00503 <span class="comment"> * Update the RX activity LED for the specified interface and port index</span>
<a name="l00504"></a>00504 <span class="comment"> *</span>
<a name="l00505"></a>00505 <span class="comment"> * @param xiface    Interface number</span>
<a name="l00506"></a>00506 <span class="comment"> * @param index     Port index</span>
<a name="l00507"></a>00507 <span class="comment"> * @parma check_time    True if we should bail out before the polling interval</span>
<a name="l00508"></a>00508 <span class="comment"> */</span>
<a name="l00509"></a>00509 <span class="keywordtype">void</span> <a class="code" href="cvmx-helper-board_8c.html#a50af7072449ffdd4d2c7d722d4070169" title="Update the RX activity LED for the specified interface and port index.">cvmx_update_rx_activity_led</a>(<span class="keywordtype">int</span> xiface, <span class="keywordtype">int</span> index, <span class="keywordtype">bool</span> check_time);
<a name="l00510"></a>00510 <span class="comment"></span>
<a name="l00511"></a>00511 <span class="comment">/**</span>
<a name="l00512"></a>00512 <span class="comment"> * @INTERNAL</span>
<a name="l00513"></a>00513 <span class="comment"> * Figure out which mod_abs changed function to use based on the phy type</span>
<a name="l00514"></a>00514 <span class="comment"> *</span>
<a name="l00515"></a>00515 <span class="comment"> * @param   xiface  xinterface number</span>
<a name="l00516"></a>00516 <span class="comment"> * @param   index   port index on interface</span>
<a name="l00517"></a>00517 <span class="comment"> *</span>
<a name="l00518"></a>00518 <span class="comment"> * @return  0 for success, -1 on error</span>
<a name="l00519"></a>00519 <span class="comment"> *</span>
<a name="l00520"></a>00520 <span class="comment"> * This function figures out the proper mod_abs_changed function to use and</span>
<a name="l00521"></a>00521 <span class="comment"> * registers the appropriate function.  This should be called after the device</span>
<a name="l00522"></a>00522 <span class="comment"> * tree has been fully parsed for the given port as well as after all SFP</span>
<a name="l00523"></a>00523 <span class="comment"> * slots and any Microsemi VSC7224 devices have been parsed in the device tree.</span>
<a name="l00524"></a>00524 <span class="comment"> */</span>
<a name="l00525"></a>00525 <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#a0225f539c0b117c4cd568c47955da2f0" title="Internal use function.">cvmx_helper_phy_register_mod_abs_changed</a>(<span class="keywordtype">int</span> xiface, <span class="keywordtype">int</span> index);
<a name="l00526"></a>00526 <span class="comment"></span>
<a name="l00527"></a>00527 <span class="comment">/**</span>
<a name="l00528"></a>00528 <span class="comment"> * @INTERNAL</span>
<a name="l00529"></a>00529 <span class="comment"> * Return loss of signal</span>
<a name="l00530"></a>00530 <span class="comment"> *</span>
<a name="l00531"></a>00531 <span class="comment"> * @param   xiface  xinterface number</span>
<a name="l00532"></a>00532 <span class="comment"> * @param   index   port index on interface</span>
<a name="l00533"></a>00533 <span class="comment"> *</span>
<a name="l00534"></a>00534 <span class="comment"> * @return  0 if signal present, 1 if loss of signal.</span>
<a name="l00535"></a>00535 <span class="comment"> *</span>
<a name="l00536"></a>00536 <span class="comment"> * @NOTE:   A result of 0 is possible in some cases where the signal is</span>
<a name="l00537"></a>00537 <span class="comment"> *      not present.</span>
<a name="l00538"></a>00538 <span class="comment"> *</span>
<a name="l00539"></a>00539 <span class="comment"> * This is for use with __cvmx_qlm_rx_equilization</span>
<a name="l00540"></a>00540 <span class="comment"> */</span>
<a name="l00541"></a>00541 <span class="keywordtype">int</span> <a class="code" href="cvmx-helper-board_8c.html#af00301db6a76cb2b3c6294ead72966d4" title="Internal use function.">__cvmx_helper_get_los</a>(<span class="keywordtype">int</span> xiface, <span class="keywordtype">int</span> index);
<a name="l00542"></a>00542 
<a name="l00543"></a>00543 <span class="preprocessor">#endif</span>
<a name="l00544"></a>00544 <span class="preprocessor"></span>
<a name="l00545"></a>00545 <span class="preprocessor">#ifdef  __cplusplus</span>
<a name="l00546"></a>00546 <span class="preprocessor"></span><span class="comment">/* *INDENT-OFF* */</span>
<a name="l00547"></a>00547 }
<a name="l00548"></a>00548 <span class="comment">/* *INDENT-ON* */</span>
<a name="l00549"></a>00549 <span class="preprocessor">#endif</span>
<a name="l00550"></a>00550 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* __CVMX_HELPER_BOARD_H__ */</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
