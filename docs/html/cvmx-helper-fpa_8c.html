<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-helper-fpa.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-helper-fpa.c File Reference</h1>
<p>Helper functions for FPA setup.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="cvmx_8h_source.html">cvmx.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-bootmem_8h_source.html">cvmx-bootmem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-fpa-defs_8h_source.html">cvmx-fpa-defs.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-fpa_8h_source.html">cvmx-fpa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-helper-fpa_8h_source.html">cvmx-helper-fpa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-ipd_8h_source.html">cvmx-ipd.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-dfa_8h_source.html">cvmx-dfa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-tim_8h_source.html">cvmx-tim.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-pko_8h_source.html">cvmx-pko.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-pki_8h_source.html">cvmx-pki.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-global-resources_8h_source.html">cvmx-global-resources.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for cvmx-helper-fpa.c:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-helper-fpa_8c__incl.png" border="0" usemap="#cvmx-helper-fpa_8c_map" alt=""/></div>
<map name="cvmx-helper-fpa_8c_map" id="cvmx-helper-fpa_8c">
<area shape="rect" id="node3" href="cvmx_8h.html" title="Main Octeon executive header file (This should be the second header file included..." alt="" coords="1055,392,1124,421"/><area shape="rect" id="node55" href="cvmx-fpa-defs_8h.html" title="cvmx&#45;fpa&#45;defs.h" alt="" coords="1727,624,1860,653"/><area shape="rect" id="node69" href="cvmx-fpa_8h.html" title="Interface to the hardware Free Pool Allocator." alt="" coords="1621,469,1720,499"/><area shape="rect" id="node83" href="cvmx-bootmem_8h.html" title="Simple allocate only memory allocator." alt="" coords="1991,83,2132,112"/><area shape="rect" id="node87" href="cvmx-helper-fpa_8h.html" title="Helper functions for FPA setup." alt="" coords="2156,83,2300,112"/><area shape="rect" id="node89" href="cvmx-ipd_8h.html" title="Interface to the hardware Input Packet Data unit." alt="" coords="1524,83,1620,112"/><area shape="rect" id="node91" href="cvmx-pki_8h.html" title="Interface to the hardware Packet Input Data unit." alt="" coords="1499,160,1592,189"/><area shape="rect" id="node103" href="cvmx-dfa_8h.html" title="Interface to the CN31XX, CN38XX, and CN58XX hardware DFA engine." alt="" coords="1940,392,2039,421"/><area shape="rect" id="node114" href="cvmx-tim_8h.html" title="Interface to the hardware work queue timers." alt="" coords="1375,392,1473,421"/><area shape="rect" id="node123" href="cvmx-pko_8h.html" title="cvmx&#45;pko.h" alt="" coords="1709,83,1808,112"/><area shape="rect" id="node131" href="cvmx-global-resources_8h.html" title="cvmx&#45;global&#45;resources.h" alt="" coords="2324,83,2511,112"/><area shape="rect" id="node5" href="cvmx-platform_8h.html" title="This file is resposible for including all system dependent headers for the cvmx&#45;*..." alt="" coords="624,547,757,576"/><area shape="rect" id="node25" href="cvmx-access_8h.html" title="Function prototypes for accessing memory and CSRs on Octeon." alt="" coords="157,547,280,576"/><area shape="rect" id="node27" href="cvmx-address_8h.html" title="Typedefs and defines for working with Octeon physical addresses." alt="" coords="5,547,133,576"/><area shape="rect" id="node30" href="cvmx-asm_8h.html" title="This is file defines ASM primitives for the executive." alt="" coords="1123,701,1227,731"/><area shape="rect" id="node32" href="cvmx-packet_8h.html" title="Packet buffer defines." alt="" coords="447,469,569,499"/><area shape="rect" id="node34" href="cvmx-warn_8h.html" title="Functions for warning users about errors and such." alt="" coords="593,469,703,499"/><area shape="rect" id="node36" href="cvmx-sysinfo_8h.html" title="This module provides system/board information obtained by the bootloader." alt="" coords="249,469,372,499"/><area shape="rect" id="node46" href="octeon-model_8h.html" title="File defining different Octeon model IDs and macros to compare them." alt="" coords="727,469,855,499"/><area shape="rect" id="node48" href="cvmx-csr_8h.html" title="Configuration and status register (CSR) address and type definitions for Octoen." alt="" coords="1041,469,1137,499"/><area shape="rect" id="node61" href="cvmx-utils_8h.html" title="Small utility functions and macros to ease programming of Octeon." alt="" coords="1345,469,1449,499"/><area shape="rect" id="node64" href="cvmx-clock_8h.html" title="Interface to Core, IO and DDR Clock." alt="" coords="1212,469,1321,499"/><area shape="rect" id="node67" href="octeon-feature_8h.html" title="File defining checks for different Octeon features." alt="" coords="879,469,1017,499"/><area shape="rect" id="node7" href="cvmx-abi_8h.html" title="This file defines macros for use in determining the current calling ABI." alt="" coords="80,624,176,653"/><area shape="rect" id="node38" href="cvmx-app-init_8h.html" title="Header file for simple executive application initialization." alt="" coords="355,547,483,576"/><area shape="rect" id="node40" href="cvmx-coremask_8h.html" title="Module to support operations on bitmap of cores." alt="" coords="252,624,393,653"/><area shape="rect" id="node51" href="cvmx-csr-enums_8h.html" title="Definitions for enumerations used with Octeon CSRs." alt="" coords="940,547,1087,576"/><area shape="rect" id="node53" href="cvmx-csr-typedefs_8h.html" title="Configuration and status register (CSR) address and type definitions for Octeon." alt="" coords="1212,547,1375,576"/><area shape="rect" id="node57" href="cvmx-pip-defs_8h.html" title="cvmx&#45;pip&#45;defs.h" alt="" coords="1384,624,1515,653"/><area shape="rect" id="node59" href="cvmx-pki-defs_8h.html" title="cvmx&#45;pki&#45;defs.h" alt="" coords="1229,624,1360,653"/><area shape="rect" id="node71" href="cvmx-scratch_8h.html" title="This file provides support for the processor local scratch memory." alt="" coords="1575,624,1703,653"/><area shape="rect" id="node75" href="cvmx-fpa1_8h.html" title="Interface to the hardware Free Pool Allocator on Octeon chips." alt="" coords="1708,547,1815,576"/><area shape="rect" id="node79" href="cvmx-fpa3_8h.html" title="Interface to the CN78XX Free Pool Allocator, a.k.a." alt="" coords="1527,547,1633,576"/><area shape="rect" id="node94" href="cvmx-helper-util_8h.html" title="Small helper utilities." alt="" coords="1569,315,1713,344"/><area shape="rect" id="node98" href="cvmx-helper-cfg_8h.html" title="Helper Functions for the Configuration Framework." alt="" coords="1569,237,1713,267"/><area shape="rect" id="node101" href="cvmx-error_8h.html" title="Interface to the Octeon extended error status." alt="" coords="1388,237,1495,267"/><area shape="rect" id="node105" href="cvmx-llm_8h.html" title="interface to the low latency DRAM" alt="" coords="2063,469,2159,499"/><area shape="rect" id="node107" href="cvmx-wqe_8h.html" title="This header file defines the work queue entry (wqe) data structure." alt="" coords="1399,547,1503,576"/><area shape="rect" id="node112" href="cvmx-fau_8h.html" title="Interface to the hardware Fetch and Add Unit." alt="" coords="1940,469,2039,499"/><area shape="rect" id="node119" href="cvmx-spinlock_8h.html" title="Implementation of spinlocks." alt="" coords="1940,547,2068,576"/><area shape="rect" id="node125" href="cvmx-hwpko_8h.html" title="Interface to the hardware Packet Output unit." alt="" coords="1695,160,1812,189"/></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-fpa_8c.html#a2d7513916dc1b8c047277e840f473d4b">cvmx_helper_fpa1_dump</a> (int node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-fpa_8c.html#a081e61d9af9184c14b0c4c68e9c13ab9">cvmx_helper_fpa3_dump</a> (unsigned node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-fpa_8c.html#a0ed81105cc8523764ac0333f3d4e4697">cvmx_helper_fpa_dump</a> (int node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-fpa_8c.html#acd06ec096e80e04735c89f2bc647b3df">cvmx_helper_shutdown_fpa_pools</a> (int node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-fpa_8c.html#aeca2ab1628dc0466effe334bd44f25ed">__cvmx_helper_initialize_fpa_pool</a> (int pool, uint64_t buffer_size, uint64_t buffers, const char *name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#aeca2ab1628dc0466effe334bd44f25ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-fpa_8c.html#aa73085691457c4191bef2f77c234edbc">__cvmx_helper_initialize_fpa</a> (int pip_pool, int pip_size, int pip_buffers, int wqe_pool, int wqe_size, int wqe_entries, int pko_pool, int pko_size, int pko_buffers, int tim_pool, int tim_size, int tim_buffers, int dfa_pool, int dfa_size, int dfa_buffers)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#aa73085691457c4191bef2f77c234edbc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-fpa_8c.html#a8098f73c9416fd2d41990cb47f45301a">cvmx_helper_initialize_fpa</a> (int packet_buffers, int work_queue_entries, int pko_buffers, int tim_buffers, int dfa_buffers)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate memory and initialize the FPA pools using memory from cvmx-bootmem.  <a href="#a8098f73c9416fd2d41990cb47f45301a"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Helper functions for FPA setup. </p>
<hr/>
<dl class="rcs"><dt><b>Revision</b></dt><dd>75216 </dd></dl>
<hr/>
 <hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa73085691457c4191bef2f77c234edbc"></a><!-- doxytag: member="cvmx&#45;helper&#45;fpa.c::__cvmx_helper_initialize_fpa" ref="aa73085691457c4191bef2f77c234edbc" args="(int pip_pool, int pip_size, int pip_buffers, int wqe_pool, int wqe_size, int wqe_entries, int pko_pool, int pko_size, int pko_buffers, int tim_pool, int tim_size, int tim_buffers, int dfa_pool, int dfa_size, int dfa_buffers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_helper_initialize_fpa </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pip_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pip_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pip_buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wqe_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wqe_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wqe_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pko_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pko_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pko_buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tim_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tim_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tim_buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dfa_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dfa_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dfa_buffers</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Allocate memory and initialize the FPA pools using memory from cvmx-bootmem. Specifying zero for the number of buffers will cause that FPA pool to not be setup. This is useful if you aren't using some of the hardware and want to save memory. Use cvmx_helper_initialize_fpa instead of this function directly.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pip_pool</em>&nbsp;</td><td>Should always be CVMX_FPA_PACKET_POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pip_size</em>&nbsp;</td><td>Should always be CVMX_FPA_PACKET_POOL_SIZE </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pip_buffers</em>&nbsp;</td><td>Number of packet buffers. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wqe_pool</em>&nbsp;</td><td>Should always be CVMX_FPA_WQE_POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wqe_size</em>&nbsp;</td><td>Should always be CVMX_FPA_WQE_POOL_SIZE </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wqe_entries</em>&nbsp;</td><td>Number of work queue entries </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pko_pool</em>&nbsp;</td><td>Should always be CVMX_FPA_OUTPUT_BUFFER_POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pko_size</em>&nbsp;</td><td>Should always be CVMX_FPA_OUTPUT_BUFFER_POOL_SIZE </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pko_buffers</em>&nbsp;</td><td>PKO Command buffers. You should at minimum have two per each PKO queue. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tim_pool</em>&nbsp;</td><td>Should always be CVMX_FPA_TIMER_POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tim_size</em>&nbsp;</td><td>Should always be CVMX_FPA_TIMER_POOL_SIZE </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tim_buffers</em>&nbsp;</td><td>TIM ring buffer command queues. At least two per timer bucket is recommended. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dfa_pool</em>&nbsp;</td><td>Should always be CVMX_FPA_DFA_POOL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dfa_size</em>&nbsp;</td><td>Should always be CVMX_FPA_DFA_POOL_SIZE </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dfa_buffers</em>&nbsp;</td><td>DFA command buffer. A relatively small (32 for example) number should work. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, non-zero if out of memory </dd></dl>

</div>
</div>
<a class="anchor" id="aeca2ab1628dc0466effe334bd44f25ed"></a><!-- doxytag: member="cvmx&#45;helper&#45;fpa.c::__cvmx_helper_initialize_fpa_pool" ref="aeca2ab1628dc0466effe334bd44f25ed" args="(int pool, uint64_t buffer_size, uint64_t buffers, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __cvmx_helper_initialize_fpa_pool </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 OBSOLETE</p>
<p>Allocate memory for and initialize a single FPA pool.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>Pool to initialize </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer_size</em>&nbsp;</td><td>Size of buffers to allocate in bytes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffers</em>&nbsp;</td><td>Number of buffers to put in the pool. Zero is allowed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>String name of the pool for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, non-zero on failure</dd></dl>
<p>This function is only for transition, will be removed. </p>

</div>
</div>
<a class="anchor" id="a2d7513916dc1b8c047277e840f473d4b"></a><!-- doxytag: member="cvmx&#45;helper&#45;fpa.c::cvmx_helper_fpa1_dump" ref="a2d7513916dc1b8c047277e840f473d4b" args="(int node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_helper_fpa1_dump </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a081e61d9af9184c14b0c4c68e9c13ab9"></a><!-- doxytag: member="cvmx&#45;helper&#45;fpa.c::cvmx_helper_fpa3_dump" ref="a081e61d9af9184c14b0c4c68e9c13ab9" args="(unsigned node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_helper_fpa3_dump </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0ed81105cc8523764ac0333f3d4e4697"></a><!-- doxytag: member="cvmx&#45;helper&#45;fpa.c::cvmx_helper_fpa_dump" ref="a0ed81105cc8523764ac0333f3d4e4697" args="(int node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_helper_fpa_dump </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8098f73c9416fd2d41990cb47f45301a"></a><!-- doxytag: member="cvmx&#45;helper&#45;fpa.c::cvmx_helper_initialize_fpa" ref="a8098f73c9416fd2d41990cb47f45301a" args="(int packet_buffers, int work_queue_entries, int pko_buffers, int tim_buffers, int dfa_buffers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_helper_initialize_fpa </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>packet_buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>work_queue_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pko_buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tim_buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dfa_buffers</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate memory and initialize the FPA pools using memory from cvmx-bootmem. </p>
<p>Sizes of each element in the pools is controlled by the cvmx-config.h header file. Specifying zero for any parameter will cause that FPA pool to not be setup. This is useful if you aren't using some of the hardware and want to save memory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet_buffers</em>&nbsp;</td><td>Number of packet buffers to allocate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>work_queue_entries</em>&nbsp;</td><td>Number of work queue entries </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pko_buffers</em>&nbsp;</td><td>PKO Command buffers. You should at minimum have two per each PKO queue. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tim_buffers</em>&nbsp;</td><td>TIM ring buffer command queues. At least two per timer bucket is recommended. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dfa_buffers</em>&nbsp;</td><td>DFA command buffer. A relatively small (32 for example) number should work. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, non-zero if out of memory </dd></dl>

</div>
</div>
<a class="anchor" id="acd06ec096e80e04735c89f2bc647b3df"></a><!-- doxytag: member="cvmx&#45;helper&#45;fpa.c::cvmx_helper_shutdown_fpa_pools" ref="acd06ec096e80e04735c89f2bc647b3df" args="(int node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_helper_shutdown_fpa_pools </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
