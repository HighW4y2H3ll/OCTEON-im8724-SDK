<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-helper-jtag.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-helper-jtag.c File Reference</h1>
<p>Helper utilities for qlm_jtag.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="cvmx_8h_source.html">cvmx.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for cvmx-helper-jtag.c:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-helper-jtag_8c__incl.png" border="0" usemap="#cvmx-helper-jtag_8c_map" alt=""/></div>
<map name="cvmx-helper-jtag_8c_map" id="cvmx-helper-jtag_8c">
<area shape="rect" id="node3" href="cvmx_8h.html" title="Main Octeon executive header file (This should be the second header file included..." alt="" coords="796,83,865,112"/><area shape="rect" id="node5" href="cvmx-platform_8h.html" title="This file is resposible for including all system dependent headers for the cvmx&#45;*..." alt="" coords="663,237,796,267"/><area shape="rect" id="node27" href="cvmx-access_8h.html" title="Function prototypes for accessing memory and CSRs on Octeon." alt="" coords="287,237,409,267"/><area shape="rect" id="node29" href="cvmx-address_8h.html" title="Typedefs and defines for working with Octeon physical addresses." alt="" coords="433,237,561,267"/><area shape="rect" id="node32" href="cvmx-asm_8h.html" title="This is file defines ASM primitives for the executive." alt="" coords="5,392,109,421"/><area shape="rect" id="node34" href="cvmx-packet_8h.html" title="Packet buffer defines." alt="" coords="436,160,559,189"/><area shape="rect" id="node36" href="cvmx-warn_8h.html" title="Functions for warning users about errors and such." alt="" coords="583,160,692,189"/><area shape="rect" id="node38" href="cvmx-sysinfo_8h.html" title="This module provides system/board information obtained by the bootloader." alt="" coords="163,160,285,189"/><area shape="rect" id="node48" href="octeon-model_8h.html" title="File defining different Octeon model IDs and macros to compare them." alt="" coords="767,160,895,189"/><area shape="rect" id="node50" href="cvmx-csr_8h.html" title="Configuration and status register (CSR) address and type definitions for Octoen." alt="" coords="919,160,1015,189"/><area shape="rect" id="node93" href="cvmx-utils_8h.html" title="Small utility functions and macros to ease programming of Octeon." alt="" coords="1000,237,1104,267"/><area shape="rect" id="node96" href="cvmx-clock_8h.html" title="Interface to Core, IO and DDR Clock." alt="" coords="1089,160,1199,189"/><area shape="rect" id="node99" href="octeon-feature_8h.html" title="File defining checks for different Octeon features." alt="" coords="1223,160,1361,189"/><area shape="rect" id="node101" href="cvmx-fpa_8h.html" title="Interface to the hardware Free Pool Allocator." alt="" coords="3839,160,3937,189"/><area shape="rect" id="node7" href="cvmx-abi_8h.html" title="This file defines macros for use in determining the current calling ABI." alt="" coords="249,315,345,344"/><area shape="rect" id="node40" href="cvmx-app-init_8h.html" title="Header file for simple executive application initialization." alt="" coords="135,237,263,267"/><area shape="rect" id="node42" href="cvmx-coremask_8h.html" title="Module to support operations on bitmap of cores." alt="" coords="84,315,225,344"/><area shape="rect" id="node53" href="cvmx-csr-enums_8h.html" title="Definitions for enumerations used with Octeon CSRs." alt="" coords="829,237,976,267"/><area shape="rect" id="node55" href="cvmx-csr-typedefs_8h.html" title="Configuration and status register (CSR) address and type definitions for Octeon." alt="" coords="2420,237,2583,267"/><area shape="rect" id="node57" href="cvmx-agl-defs_8h.html" title="cvmx&#45;agl&#45;defs.h" alt="" coords="3095,315,3225,344"/><area shape="rect" id="node59" href="cvmx-ase-defs_8h.html" title="cvmx&#45;ase&#45;defs.h" alt="" coords="3249,315,3385,344"/><area shape="rect" id="node61" href="cvmx-asxx-defs_8h.html" title="cvmx&#45;asxx&#45;defs.h" alt="" coords="3409,315,3551,344"/><area shape="rect" id="node63" href="cvmx-asx0-defs_8h.html" title="cvmx&#45;asx0&#45;defs.h" alt="" coords="3575,315,3716,344"/><area shape="rect" id="node65" href="cvmx-bbp-defs_8h.html" title="cvmx&#45;bbp&#45;defs.h" alt="" coords="3740,315,3876,344"/><area shape="rect" id="node67" href="cvmx-bbxa-defs_8h.html" title="cvmx&#45;bbxa&#45;defs.h" alt="" coords="1113,315,1257,344"/><area shape="rect" id="node69" href="cvmx-bbxbx-defs_8h.html" title="cvmx&#45;bbxbx&#45;defs.h" alt="" coords="1281,315,1433,344"/><area shape="rect" id="node71" href="cvmx-bbxc-defs_8h.html" title="cvmx&#45;bbxc&#45;defs.h" alt="" coords="1457,315,1601,344"/><area shape="rect" id="node73" href="cvmx-bch-defs_8h.html" title="cvmx&#45;bch&#45;defs.h" alt="" coords="1625,315,1761,344"/><area shape="rect" id="node75" href="cvmx-bgxx-defs_8h.html" title="cvmx&#45;bgxx&#45;defs.h" alt="" coords="1785,315,1929,344"/><area shape="rect" id="node77" href="cvmx-bts-defs_8h.html" title="cvmx&#45;bts&#45;defs.h" alt="" coords="1953,315,2087,344"/><area shape="rect" id="node79" href="cvmx-ciu2-defs_8h.html" title="cvmx&#45;ciu2&#45;defs.h" alt="" coords="2111,315,2249,344"/><area shape="rect" id="node81" href="cvmx-ciu3-defs_8h.html" title="cvmx&#45;ciu3&#45;defs.h" alt="" coords="2273,315,2412,344"/><area shape="rect" id="node83" href="cvmx-ciu-defs_8h.html" title="cvmx&#45;ciu&#45;defs.h" alt="" coords="2436,315,2567,344"/><area shape="rect" id="node85" href="cvmx-cprix-defs_8h.html" title="cvmx&#45;cprix&#45;defs.h" alt="" coords="2591,315,2735,344"/><area shape="rect" id="node87" href="cvmx-dbg-defs_8h.html" title="cvmx&#45;dbg&#45;defs.h" alt="" coords="2759,315,2895,344"/><area shape="rect" id="node89" href="cvmx-dencx-defs_8h.html" title="cvmx&#45;dencx&#45;defs.h" alt="" coords="2919,315,3071,344"/><area shape="rect" id="node91" href="cvmx-fpa-defs_8h.html" title="cvmx&#45;fpa&#45;defs.h" alt="" coords="3900,315,4033,344"/><area shape="rect" id="node103" href="cvmx-scratch_8h.html" title="This file provides support for the processor local scratch memory." alt="" coords="4057,315,4185,344"/><area shape="rect" id="node107" href="cvmx-fpa1_8h.html" title="Interface to the hardware Free Pool Allocator on Octeon chips." alt="" coords="3880,237,3987,267"/><area shape="rect" id="node111" href="cvmx-fpa3_8h.html" title="Interface to the CN78XX Free Pool Allocator, a.k.a." alt="" coords="4011,237,4117,267"/></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-jtag_8c.html#ae60e35444a46c103882c4414c2ddab38">cvmx_helper_qlm_jtag_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the internal QLM JTAG logic to allow programming of the JTAG chain by the cvmx_helper_qlm_jtag_*() functions.  <a href="#ae60e35444a46c103882c4414c2ddab38"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-jtag_8c.html#ada67c64f8d1f107169120bcceddfbb3f">cvmx_helper_qlm_jtag_shift</a> (int qlm, int bits, uint32_t data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write up to 32bits into the QLM jtag chain.  <a href="#ada67c64f8d1f107169120bcceddfbb3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-jtag_8c.html#a7a4e4d997e8534160deb6c391cc4cd7c">cvmx_helper_qlm_jtag_shift_zeros</a> (int qlm, int bits)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shift long sequences of zeros into the QLM JTAG chain.  <a href="#a7a4e4d997e8534160deb6c391cc4cd7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-jtag_8c.html#a3c0eaae07a2ffdb133a1cfa753ac0e22">cvmx_helper_qlm_jtag_update</a> (int qlm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Program the QLM JTAG chain into all lanes of the QLM.  <a href="#a3c0eaae07a2ffdb133a1cfa753ac0e22"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-jtag_8c.html#a3ebab564dd08ffcbab49b09094330d06">cvmx_helper_qlm_jtag_capture</a> (int qlm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load the QLM JTAG chain with data from all lanes of the QLM.  <a href="#a3ebab564dd08ffcbab49b09094330d06"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Helper utilities for qlm_jtag. </p>
<hr/>
<dl class="rcs"><dt><b>Revision</b></dt><dd>42480 </dd></dl>
<hr/>
 <hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3ebab564dd08ffcbab49b09094330d06"></a><!-- doxytag: member="cvmx&#45;helper&#45;jtag.c::cvmx_helper_qlm_jtag_capture" ref="a3ebab564dd08ffcbab49b09094330d06" args="(int qlm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_helper_qlm_jtag_capture </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>qlm</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load the QLM JTAG chain with data from all lanes of the QLM. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qlm</em>&nbsp;</td><td>QLM to program </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae60e35444a46c103882c4414c2ddab38"></a><!-- doxytag: member="cvmx&#45;helper&#45;jtag.c::cvmx_helper_qlm_jtag_init" ref="ae60e35444a46c103882c4414c2ddab38" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_helper_qlm_jtag_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the internal QLM JTAG logic to allow programming of the JTAG chain by the cvmx_helper_qlm_jtag_*() functions. </p>
<p>These functions should only be used at the direction of Cavium Networks. Programming incorrect values into the JTAG chain can cause chip damage. </p>

</div>
</div>
<a class="anchor" id="ada67c64f8d1f107169120bcceddfbb3f"></a><!-- doxytag: member="cvmx&#45;helper&#45;jtag.c::cvmx_helper_qlm_jtag_shift" ref="ada67c64f8d1f107169120bcceddfbb3f" args="(int qlm, int bits, uint32_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t cvmx_helper_qlm_jtag_shift </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>qlm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write up to 32bits into the QLM jtag chain. </p>
<p>Bits are shifted into the MSB and out the LSB, so you should shift in the low order bits followed by the high order bits. The JTAG chain for CN52XX and CN56XX is 4 * 268 bits long, or 1072. The JTAG chain for CN63XX is 4 * 300 bits long, or 1200.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qlm</em>&nbsp;</td><td>QLM to shift value into </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bits</em>&nbsp;</td><td>Number of bits to shift in (1-32). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data to shift in. Bit 0 enters the chain first, followed by bit 1, etc.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The low order bits of the JTAG chain that shifted out of the circle. </dd></dl>

</div>
</div>
<a class="anchor" id="a7a4e4d997e8534160deb6c391cc4cd7c"></a><!-- doxytag: member="cvmx&#45;helper&#45;jtag.c::cvmx_helper_qlm_jtag_shift_zeros" ref="a7a4e4d997e8534160deb6c391cc4cd7c" args="(int qlm, int bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_helper_qlm_jtag_shift_zeros </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>qlm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shift long sequences of zeros into the QLM JTAG chain. </p>
<p>It is common to need to shift more than 32 bits of zeros into the chain. This function is a convience wrapper around <a class="el" href="cvmx-helper-jtag_8c.html#ada67c64f8d1f107169120bcceddfbb3f" title="Write up to 32bits into the QLM jtag chain.">cvmx_helper_qlm_jtag_shift()</a> to shift more than 32 bits of zeros at a time.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qlm</em>&nbsp;</td><td>QLM to shift zeros into </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bits</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3c0eaae07a2ffdb133a1cfa753ac0e22"></a><!-- doxytag: member="cvmx&#45;helper&#45;jtag.c::cvmx_helper_qlm_jtag_update" ref="a3c0eaae07a2ffdb133a1cfa753ac0e22" args="(int qlm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_helper_qlm_jtag_update </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>qlm</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Program the QLM JTAG chain into all lanes of the QLM. </p>
<p>You must have already shifted in the proper number of bits into the JTAG chain. Updating invalid values can possibly cause chip damage.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qlm</em>&nbsp;</td><td>QLM to program </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
