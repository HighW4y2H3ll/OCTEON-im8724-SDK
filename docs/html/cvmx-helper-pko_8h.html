<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-helper-pko.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-helper-pko.h File Reference</h1>
<p>PKO helper, configuration API.  
<a href="#_details">More...</a></p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-helper-pko_8h__dep__incl.png" border="0" usemap="#cvmx-helper-pko_8hdep_map" alt=""/></div>
<map name="cvmx-helper-pko_8hdep_map" id="cvmx-helper-pko_8hdep">
<area shape="rect" id="node3" href="cvmx-helper-pko3_8c.html" title="cvmx&#45;helper&#45;pko3.c" alt="" coords="5,83,160,112"/><area shape="rect" id="node5" href="cvmx-helper_8c.html" title="Helper functions for common, but complicated tasks." alt="" coords="593,237,711,267"/><area shape="rect" id="node7" href="cvmx-hwpko_8h.html" title="Interface to the hardware Packet Output unit." alt="" coords="939,83,1056,112"/><area shape="rect" id="node9" href="cvmx-helper-errata_8c.html" title="Fixes and workaround for Octeon chip errata." alt="" coords="235,160,400,189"/><area shape="rect" id="node11" href="cvmx-helper-ilk_8c.html" title="Functions for ILK initialization, configuration, and monitoring." alt="" coords="424,160,560,189"/><area shape="rect" id="node13" href="cvmx-helper-npi_8c.html" title="Functions for NPI initialization, configuration, and monitoring." alt="" coords="584,160,725,189"/><area shape="rect" id="node15" href="cvmx-helper-pko_8c.html" title="Helper Functions for the PKO." alt="" coords="749,160,896,189"/><area shape="rect" id="node17" href="cvmx-helper-rgmii_8c.html" title="Functions for RGMII/GMII/MII initialization, configuration, and monitoring." alt="" coords="920,160,1075,189"/><area shape="rect" id="node19" href="cvmx-helper-util_8c.html" title="Small helper utilities." alt="" coords="1099,160,1243,189"/><area shape="rect" id="node21" href="cvmx-ilk_8c.html" title="Support library for the ILK." alt="" coords="1267,160,1357,189"/><area shape="rect" id="node23" href="cvmx-pko_8h.html" title="cvmx&#45;pko.h" alt="" coords="1381,160,1480,189"/><area shape="rect" id="node34" href="cvmx-pko3_8c.html" title="cvmx&#45;pko3.c" alt="" coords="1504,160,1611,189"/><area shape="rect" id="node36" href="cvmx-spi_8c.html" title="Support library for the SPI." alt="" coords="1635,160,1728,189"/><area shape="rect" id="node25" href="cvmx-config-init_8c.html" title="cvmx&#45;config&#45;init.c" alt="" coords="1117,237,1261,267"/><area shape="rect" id="node27" href="cvmx-helper-fpa_8c.html" title="Helper functions for FPA setup." alt="" coords="1285,237,1429,267"/><area shape="rect" id="node30" href="cvmx-pko_8c.html" title="Support library for the hardware Packet Output unit." alt="" coords="1453,237,1552,267"/><area shape="rect" id="node32" href="cvmx-pko3-compat_8c.html" title="cvmx&#45;pko3&#45;compat.c" alt="" coords="1576,237,1741,267"/></map>
</div>

<p><a href="cvmx-helper-pko_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-pko_8h.html#a83bb85ef8a7d043c91c0808ff07106a4">cvmx_fpa_get_pko_pool</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the fpa pool number of pko pool.  <a href="#a83bb85ef8a7d043c91c0808ff07106a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-pko_8h.html#a63061e8d347cab911e1fa18d8d2e48f7">cvmx_fpa_get_pko_pool_block_size</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the buffer size of pko pool.  <a href="#a63061e8d347cab911e1fa18d8d2e48f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-pko_8h.html#afa43bd45df84583bdc6f888b7e04164e">cvmx_fpa_get_pko_pool_buffer_count</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the buffer size of pko pool.  <a href="#afa43bd45df84583bdc6f888b7e04164e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-pko_8h.html#a9e5a45b521e806a2d0cc9709202b98bd">cvmx_helper_pko_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the PKO.  <a href="#a9e5a45b521e806a2d0cc9709202b98bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-pko_8h.html#a18ac15237a011ee8002745916674a542">cvmx_pko_initialize_local</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-pko_8h.html#a268cab44f88b8b0c9081c4b7a787b721">__cvmx_helper_pko_drain</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a268cab44f88b8b0c9081c4b7a787b721"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-pko_8h.html#acaf5807555d80e30f81f7812a3104abf">__cvmx_helper_interface_setup_pko</a> (int interface)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#acaf5807555d80e30f81f7812a3104abf"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CVMX_SHARED void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-helper-pko_8h.html#a135343af1f5a21bdc8001c5a841d2f47">cvmx_override_pko_queue_priority</a> )(int ipd_port, uint8_t *priorities)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">cvmx_override_pko_queue_priority(int ipd_port, uint64_t priorities[16]) is a function pointer.  <a href="#a135343af1f5a21bdc8001c5a841d2f47"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>PKO helper, configuration API. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="acaf5807555d80e30f81f7812a3104abf"></a><!-- doxytag: member="cvmx&#45;helper&#45;pko.h::__cvmx_helper_interface_setup_pko" ref="acaf5807555d80e30f81f7812a3104abf" args="(int interface)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __cvmx_helper_interface_setup_pko </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>interface</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Setup the PKO for the ports on an interface. The number of queues per port and the priority of each PKO output queue is set here. PKO must be disabled when this function is called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>interface</em>&nbsp;</td><td>Interface to setup PKO for</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This is for PKO1/PKO2, and is not used for PKO3. </dd></dl>

</div>
</div>
<a class="anchor" id="a268cab44f88b8b0c9081c4b7a787b721"></a><!-- doxytag: member="cvmx&#45;helper&#45;pko.h::__cvmx_helper_pko_drain" ref="a268cab44f88b8b0c9081c4b7a787b721" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __cvmx_helper_pko_drain </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
</p>
<p>Drain and wait until all PKO queues are empty. </p>

</div>
</div>
<a class="anchor" id="a83bb85ef8a7d043c91c0808ff07106a4"></a><!-- doxytag: member="cvmx&#45;helper&#45;pko.h::cvmx_fpa_get_pko_pool" ref="a83bb85ef8a7d043c91c0808ff07106a4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t cvmx_fpa_get_pko_pool </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the fpa pool number of pko pool. </p>

</div>
</div>
<a class="anchor" id="a63061e8d347cab911e1fa18d8d2e48f7"></a><!-- doxytag: member="cvmx&#45;helper&#45;pko.h::cvmx_fpa_get_pko_pool_block_size" ref="a63061e8d347cab911e1fa18d8d2e48f7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t cvmx_fpa_get_pko_pool_block_size </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the buffer size of pko pool. </p>

</div>
</div>
<a class="anchor" id="afa43bd45df84583bdc6f888b7e04164e"></a><!-- doxytag: member="cvmx&#45;helper&#45;pko.h::cvmx_fpa_get_pko_pool_buffer_count" ref="afa43bd45df84583bdc6f888b7e04164e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t cvmx_fpa_get_pko_pool_buffer_count </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the buffer size of pko pool. </p>

</div>
</div>
<a class="anchor" id="a9e5a45b521e806a2d0cc9709202b98bd"></a><!-- doxytag: member="cvmx&#45;helper&#45;pko.h::cvmx_helper_pko_init" ref="a9e5a45b521e806a2d0cc9709202b98bd" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_helper_pko_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the PKO. </p>

</div>
</div>
<a class="anchor" id="a18ac15237a011ee8002745916674a542"></a><!-- doxytag: member="cvmx&#45;helper&#45;pko.h::cvmx_pko_initialize_local" ref="a18ac15237a011ee8002745916674a542" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_pko_initialize_local </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a135343af1f5a21bdc8001c5a841d2f47"></a><!-- doxytag: member="cvmx&#45;helper&#45;pko.h::cvmx_override_pko_queue_priority" ref="a135343af1f5a21bdc8001c5a841d2f47" args=")(int ipd_port, uint8_t *priorities)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CVMX_SHARED void(* <a class="el" href="cvmx-helper-pko_8h.html#a135343af1f5a21bdc8001c5a841d2f47">cvmx_override_pko_queue_priority</a>)(int ipd_port, uint8_t *priorities)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>cvmx_override_pko_queue_priority(int ipd_port, uint64_t priorities[16]) is a function pointer. </p>
<p>It is meant to allow customization of the PKO queue priorities based on the port number. Users should set this pointer to a function before calling any cvmx-helper operations.</p>
<p>cvmx_override_pko_queue_priority(int ipd_port, uint64_t priorities[16]) is a function pointer.</p>
<p>It is meant to allow customization of the PKO queue priorities based on the port number. Users should set this pointer to a function before calling any cvmx-helper operations. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
