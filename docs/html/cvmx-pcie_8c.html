<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-pcie.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-pcie.c File Reference</h1>
<p>Interface to PCIe as a host(RC) or target(EP).  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="cvmx_8h_source.html">cvmx.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-csr-db_8h_source.html">cvmx-csr-db.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-pcie_8h_source.html">cvmx-pcie.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-sysinfo_8h_source.html">cvmx-sysinfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-swap_8h_source.html">cvmx-swap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-wqe_8h_source.html">cvmx-wqe.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-error_8h_source.html">cvmx-error.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-helper-errata_8h_source.html">cvmx-helper-errata.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-qlm_8h_source.html">cvmx-qlm.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-bootmem_8h_source.html">cvmx-bootmem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-rst-defs_8h_source.html">cvmx-rst-defs.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="octeon__mem__map_8h_source.html">octeon_mem_map.h</a>&quot;</code><br/>
<code>#include &quot;libfdt/libfdt.h&quot;</code><br/>
<code>#include &quot;libfdt/cvmx-helper-fdt.h&quot;</code><br/>
<div class="dynheader">
Include dependency graph for cvmx-pcie.c:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-pcie_8c__incl.png" border="0" usemap="#cvmx-pcie_8c_map" alt=""/></div>
<map name="cvmx-pcie_8c_map" id="cvmx-pcie_8c">
<area shape="rect" id="node3" href="cvmx_8h.html" title="Main Octeon executive header file (This should be the second header file included..." alt="" coords="1108,160,1177,189"/><area shape="rect" id="node38" href="cvmx-sysinfo_8h.html" title="This module provides system/board information obtained by the bootloader." alt="" coords="352,237,475,267"/><area shape="rect" id="node67" href="cvmx-rst-defs_8h.html" title="cvmx&#45;rst&#45;defs.h" alt="" coords="2019,392,2149,421"/><area shape="rect" id="node91" href="cvmx-csr-db_8h.html" title="Interface for the Octeon CSR database." alt="" coords="645,160,763,189"/><area shape="rect" id="node94" href="cvmx-pcie_8h.html" title="Interface to PCIe as a host(RC) or target(EP)." alt="" coords="1125,83,1229,112"/><area shape="rect" id="node98" href="cvmx-swap_8h.html" title="Utility functions for endian swapping." alt="" coords="2129,83,2239,112"/><area shape="rect" id="node100" href="cvmx-wqe_8h.html" title="This header file defines the work queue entry (wqe) data structure." alt="" coords="1732,160,1836,189"/><area shape="rect" id="node104" href="cvmx-error_8h.html" title="Interface to the Octeon extended error status." alt="" coords="2263,83,2369,112"/><area shape="rect" id="node106" href="cvmx-helper-errata_8h.html" title="Fixes and workaround for Octeon chip errata." alt="" coords="1705,83,1871,112"/><area shape="rect" id="node109" href="cvmx-qlm_8h.html" title="Helper utilities for qlm." alt="" coords="1273,83,1375,112"/><area shape="rect" id="node112" href="cvmx-bootmem_8h.html" title="Simple allocate only memory allocator." alt="" coords="2393,83,2535,112"/><area shape="rect" id="node115" href="octeon__mem__map_8h.html" title="octeon_mem_map.h" alt="" coords="1945,83,2105,112"/><area shape="rect" id="node5" href="cvmx-platform_8h.html" title="This file is resposible for including all system dependent headers for the cvmx&#45;*..." alt="" coords="499,315,632,344"/><area shape="rect" id="node27" href="cvmx-access_8h.html" title="Function prototypes for accessing memory and CSRs on Octeon." alt="" coords="352,315,475,344"/><area shape="rect" id="node29" href="cvmx-address_8h.html" title="Typedefs and defines for working with Octeon physical addresses." alt="" coords="656,315,784,344"/><area shape="rect" id="node32" href="cvmx-asm_8h.html" title="This is file defines ASM primitives for the executive." alt="" coords="1775,469,1879,499"/><area shape="rect" id="node34" href="cvmx-packet_8h.html" title="Packet buffer defines." alt="" coords="1197,237,1320,267"/><area shape="rect" id="node36" href="cvmx-warn_8h.html" title="Functions for warning users about errors and such." alt="" coords="1344,237,1453,267"/><area shape="rect" id="node48" href="octeon-model_8h.html" title="File defining different Octeon model IDs and macros to compare them." alt="" coords="1477,237,1605,267"/><area shape="rect" id="node50" href="cvmx-csr_8h.html" title="Configuration and status register (CSR) address and type definitions for Octoen." alt="" coords="955,237,1051,267"/><area shape="rect" id="node69" href="cvmx-utils_8h.html" title="Small utility functions and macros to ease programming of Octeon." alt="" coords="808,315,912,344"/><area shape="rect" id="node72" href="cvmx-clock_8h.html" title="Interface to Core, IO and DDR Clock." alt="" coords="1629,237,1739,267"/><area shape="rect" id="node75" href="octeon-feature_8h.html" title="File defining checks for different Octeon features." alt="" coords="640,237,779,267"/><area shape="rect" id="node77" href="cvmx-fpa_8h.html" title="Interface to the hardware Free Pool Allocator." alt="" coords="1075,237,1173,267"/><area shape="rect" id="node7" href="cvmx-abi_8h.html" title="This file defines macros for use in determining the current calling ABI." alt="" coords="813,392,909,421"/><area shape="rect" id="node40" href="cvmx-app-init_8h.html" title="Header file for simple executive application initialization." alt="" coords="47,315,175,344"/><area shape="rect" id="node42" href="cvmx-coremask_8h.html" title="Module to support operations on bitmap of cores." alt="" coords="5,392,147,421"/><area shape="rect" id="node53" href="cvmx-csr-enums_8h.html" title="Definitions for enumerations used with Octeon CSRs." alt="" coords="936,315,1083,344"/><area shape="rect" id="node55" href="cvmx-csr-typedefs_8h.html" title="Configuration and status register (CSR) address and type definitions for Octeon." alt="" coords="1488,315,1651,344"/><area shape="rect" id="node57" href="cvmx-agl-defs_8h.html" title="cvmx&#45;agl&#45;defs.h" alt="" coords="1504,392,1635,421"/><area shape="rect" id="node59" href="cvmx-ase-defs_8h.html" title="cvmx&#45;ase&#45;defs.h" alt="" coords="1344,392,1480,421"/><area shape="rect" id="node61" href="cvmx-fpa-defs_8h.html" title="cvmx&#45;fpa&#45;defs.h" alt="" coords="1035,392,1168,421"/><area shape="rect" id="node63" href="cvmx-pip-defs_8h.html" title="cvmx&#45;pip&#45;defs.h" alt="" coords="1659,392,1789,421"/><area shape="rect" id="node65" href="cvmx-pki-defs_8h.html" title="cvmx&#45;pki&#45;defs.h" alt="" coords="1864,392,1995,421"/><area shape="rect" id="node79" href="cvmx-scratch_8h.html" title="This file provides support for the processor local scratch memory." alt="" coords="1192,392,1320,421"/><area shape="rect" id="node83" href="cvmx-fpa1_8h.html" title="Interface to the hardware Free Pool Allocator on Octeon chips." alt="" coords="1288,315,1395,344"/><area shape="rect" id="node87" href="cvmx-fpa3_8h.html" title="Interface to the CN78XX Free Pool Allocator, a.k.a." alt="" coords="1157,315,1264,344"/><area shape="rect" id="node117" href="octeon-boot-info_8h.html" title="Interface to Octeon boot structure." alt="" coords="2037,160,2187,189"/></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a4d9492a72b50b11a1b3fbe6136eb24a5">MRRS_CN5XXX</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a05be2101524303febcba05199177a6c3">MPS_CN5XXX</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a8770aa42b7a15693816144d05366c152">MRRS_CN6XXX</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#aecf8753cd289d3074c74d0ba301b8426">MPS_CN6XXX</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#ab05d033ffa139f5d1c5d02357b72cb54">_CVMX_PCIE_ES</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a6a58e03bdcddcb41d2d5c48fb4f3373c">CVMX_READ_CSR</a>(addr)&nbsp;&nbsp;&nbsp;cvmx_read_csr_node(node,addr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a0173654e2882fc9e5f2765c43911fd2b">CVMX_WRITE_CSR</a>(addr, val)&nbsp;&nbsp;&nbsp;cvmx_write_csr_node(node,addr,val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a2168146823477935c74a4b29c4a98bd2">CVMX_PCIE_CFGX_READ</a>(p, addr)&nbsp;&nbsp;&nbsp;cvmx_pcie_cfgx_read_node(node,p,addr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a861562ccb577c082f90ed6b38de8e32c">CVMX_PCIE_CFGX_WRITE</a>(p, addr, val)&nbsp;&nbsp;&nbsp;cvmx_pcie_cfgx_write_node(node,p,addr,val)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#ad5d9461b45ddb32ffd48448196858f1d">cvmx_pcie_get_io_base_address</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the Core virtual base address for PCIe IO access.  <a href="#ad5d9461b45ddb32ffd48448196858f1d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a9ebece80daf85057ea312ed38ff98ab2">cvmx_pcie_get_io_size</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size of the IO address region returned at address <a class="el" href="cvmx-pcie_8c.html#ad5d9461b45ddb32ffd48448196858f1d" title="Return the Core virtual base address for PCIe IO access.">cvmx_pcie_get_io_base_address()</a>.  <a href="#a9ebece80daf85057ea312ed38ff98ab2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a17eef45e056ceeab46368cafaf4d9cee">cvmx_pcie_get_mem_base_address</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the Core virtual base address for PCIe MEM access.  <a href="#a17eef45e056ceeab46368cafaf4d9cee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a0ff7df5980696bc3f8cab34518ed9bd2">cvmx_pcie_get_mem_size</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size of the Mem address region returned at address <a class="el" href="cvmx-pcie_8c.html#a17eef45e056ceeab46368cafaf4d9cee" title="Return the Core virtual base address for PCIe MEM access.">cvmx_pcie_get_mem_base_address()</a>.  <a href="#a0ff7df5980696bc3f8cab34518ed9bd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a63b94bc6e659af2c9c6a905f03afb6f1">__cvmx_pcie_get_qlm</a> (int node, int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a63b94bc6e659af2c9c6a905f03afb6f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a44d097a4b1c3dee0d62670adca7930e2">__cvmx_pcie_rc_initialize_config_space</a> (int node, int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a44d097a4b1c3dee0d62670adca7930e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a03fa50bc1c8abb31330e38db72e61bbf">__cvmx_pcie_rc_initialize_link_gen1</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a03fa50bc1c8abb31330e38db72e61bbf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a82e8308277de19eb2cbca08596fb0fa5">__cvmx_increment_ba</a> (<a class="el" href="unioncvmx__sli__mem__access__subidx.html">cvmx_sli_mem_access_subidx_t</a> *pmas)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#af82e9ef5db95f7d0c706146a1eb51b37">cfg_retries</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#ad3300f116d7d012c536db49a6ba08490">__cvmx_pcie_rc_initialize_gen1</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a PCIe gen 1 port for use in host(RC) mode.  <a href="#ad3300f116d7d012c536db49a6ba08490"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a15f54ab289d4c7d19b8b98619278de42">__cvmx_pcie_config_pemon</a> (int node, int pcie_port, bool direction)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a15f54ab289d4c7d19b8b98619278de42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a76458a16a5e5a2a6bbc1073f18ae7581">__cvmx_pcie_gser_phy_config</a> (int node, int pcie_port, int qlm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a76458a16a5e5a2a6bbc1073f18ae7581"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#ab693f4aede101ef504d003b662abc78b">__cvmx_pcie_rc_initialize_link_gen2</a> (int node, int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#ab693f4aede101ef504d003b662abc78b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a5f2b01d178f0897367330d09ef5d76ec">octeon_pcie_get_qlm_from_fdt</a> (int numa_node, int pcie_port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#ad680cc0226fcab61b71ddcc99c8b59cf">__cvmx_pcie_rc_initialize_gen2</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a PCIe gen 2 port for use in host(RC) mode.  <a href="#ad680cc0226fcab61b71ddcc99c8b59cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#acc0ad94e3ce63489adf5b854489cb852">cvmx_pcie_rc_initialize</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a PCIe port for use in host(RC) mode.  <a href="#acc0ad94e3ce63489adf5b854489cb852"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a2140771e2e79965386b3f8adb23ca438">EXPORT_SYMBOL</a> (cvmx_pcie_rc_initialize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#ae520e4c22fa1f479241f411e819cef37">cvmx_pcie_rc_shutdown</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shutdown a PCIe port and put it in reset.  <a href="#ae520e4c22fa1f479241f411e819cef37"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a0085ce9b70e5281f6a6eff6a04f67a5a">__cvmx_pcie_build_config_addr</a> (int node, int port, int bus, int dev, int fn, int reg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a0085ce9b70e5281f6a6eff6a04f67a5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a578b959d1c2c592cd4815d05bd3db171">cvmx_pcie_config_read8</a> (int pcie_port, int bus, int dev, int fn, int reg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read 8bits from a Device's config space.  <a href="#a578b959d1c2c592cd4815d05bd3db171"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a28f6519e1176ade214e2fe67b9f0b8af">cvmx_pcie_config_read16</a> (int pcie_port, int bus, int dev, int fn, int reg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read 16bits from a Device's config space.  <a href="#a28f6519e1176ade214e2fe67b9f0b8af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a6ad1f91f103dc8d3bbf69e18cf7ed0c9">cvmx_pcie_config_read32</a> (int pcie_port, int bus, int dev, int fn, int reg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read 32bits from a Device's config space.  <a href="#a6ad1f91f103dc8d3bbf69e18cf7ed0c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#adb1ee3d9a33ee5db6f4111960e8d5ea4">cvmx_pcie_config_write8</a> (int pcie_port, int bus, int dev, int fn, int reg, uint8_t val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write 8bits to a Device's config space.  <a href="#adb1ee3d9a33ee5db6f4111960e8d5ea4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#aa57c0a1a2ae274bbe9f3b8a463973819">cvmx_pcie_config_write16</a> (int pcie_port, int bus, int dev, int fn, int reg, uint16_t val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write 16bits to a Device's config space.  <a href="#aa57c0a1a2ae274bbe9f3b8a463973819"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a99007379cff74f3b64494fc46cde35d8">cvmx_pcie_config_write32</a> (int pcie_port, int bus, int dev, int fn, int reg, uint32_t val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write 32bits to a Device's config space.  <a href="#a99007379cff74f3b64494fc46cde35d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a261b3c74c21b6a3f310b6f7757510762">cvmx_pcie_cfgx_read</a> (int pcie_port, uint32_t cfg_offset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a PCIe config space register indirectly.  <a href="#a261b3c74c21b6a3f310b6f7757510762"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a4c0826dccc473a9b7780bc07725148f6">cvmx_pcie_cfgx_read_node</a> (int node, int pcie_port, uint32_t cfg_offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a6291253ba7b9883fb078457b2e89e55f">cvmx_pcie_cfgx_write</a> (int pcie_port, uint32_t cfg_offset, uint32_t val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a PCIe config space register indirectly.  <a href="#a6291253ba7b9883fb078457b2e89e55f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a8196c28341764eb56febc830e1a10e02">cvmx_pcie_cfgx_write_node</a> (int node, int pcie_port, uint32_t cfg_offset, uint32_t val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#addc6294f5f881afb30fead5d37415ff7">cvmx_pcie_is_host_mode</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns if a PCIe port is in host or target mode.  <a href="#addc6294f5f881afb30fead5d37415ff7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#acb0e7c181dade662202251042ca1a191">cvmx_pcie_ep_initialize</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a PCIe port for use in target(EP) mode.  <a href="#acb0e7c181dade662202251042ca1a191"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#ada59d102f3d750087c5b564ae06acac3">cvmx_pcie_wait_for_pending</a> (int pcie_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for posted PCIe read/writes to reach the other side of the internal PCIe switch.  <a href="#ada59d102f3d750087c5b564ae06acac3"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#a56b897743e25cc7526751d4f7e46ceea">pcie_link_initialized</a> [CVMX_MAX_NODES][CVMX_PCIE_MAX_PORTS]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#afffa28e9139066945cb68f8f9315af46">cvmx_primary_pcie_bus_number</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pcie_8c.html#aa4ba499da936cba08ad04c69bb47b832">cfg_timeout</a> = 200</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Interface to PCIe as a host(RC) or target(EP). </p>
<hr/>
<dl class="rcs"><dt><b>Revision</b></dt><dd>167433 </dd></dl>
<hr/>
 <hr/><h2>Define Documentation</h2>
<a class="anchor" id="ab05d033ffa139f5d1c5d02357b72cb54"></a><!-- doxytag: member="cvmx&#45;pcie.c::_CVMX_PCIE_ES" ref="ab05d033ffa139f5d1c5d02357b72cb54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _CVMX_PCIE_ES&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2168146823477935c74a4b29c4a98bd2"></a><!-- doxytag: member="cvmx&#45;pcie.c::CVMX_PCIE_CFGX_READ" ref="a2168146823477935c74a4b29c4a98bd2" args="(p, addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_PCIE_CFGX_READ</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">addr&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;cvmx_pcie_cfgx_read_node(node,p,addr)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a861562ccb577c082f90ed6b38de8e32c"></a><!-- doxytag: member="cvmx&#45;pcie.c::CVMX_PCIE_CFGX_WRITE" ref="a861562ccb577c082f90ed6b38de8e32c" args="(p, addr, val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_PCIE_CFGX_WRITE</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">val&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;cvmx_pcie_cfgx_write_node(node,p,addr,val)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6a58e03bdcddcb41d2d5c48fb4f3373c"></a><!-- doxytag: member="cvmx&#45;pcie.c::CVMX_READ_CSR" ref="a6a58e03bdcddcb41d2d5c48fb4f3373c" args="(addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_READ_CSR</td>
          <td>(</td>
          <td class="paramtype">addr&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;cvmx_read_csr_node(node,addr)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0173654e2882fc9e5f2765c43911fd2b"></a><!-- doxytag: member="cvmx&#45;pcie.c::CVMX_WRITE_CSR" ref="a0173654e2882fc9e5f2765c43911fd2b" args="(addr, val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_WRITE_CSR</td>
          <td>(</td>
          <td class="paramtype">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">val&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;cvmx_write_csr_node(node,addr,val)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a05be2101524303febcba05199177a6c3"></a><!-- doxytag: member="cvmx&#45;pcie.c::MPS_CN5XXX" ref="a05be2101524303febcba05199177a6c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPS_CN5XXX&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aecf8753cd289d3074c74d0ba301b8426"></a><!-- doxytag: member="cvmx&#45;pcie.c::MPS_CN6XXX" ref="aecf8753cd289d3074c74d0ba301b8426" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPS_CN6XXX&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4d9492a72b50b11a1b3fbe6136eb24a5"></a><!-- doxytag: member="cvmx&#45;pcie.c::MRRS_CN5XXX" ref="a4d9492a72b50b11a1b3fbe6136eb24a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MRRS_CN5XXX&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8770aa42b7a15693816144d05366c152"></a><!-- doxytag: member="cvmx&#45;pcie.c::MRRS_CN6XXX" ref="a8770aa42b7a15693816144d05366c152" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MRRS_CN6XXX&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a82e8308277de19eb2cbca08596fb0fa5"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_increment_ba" ref="a82e8308277de19eb2cbca08596fb0fa5" args="(cvmx_sli_mem_access_subidx_t *pmas)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __cvmx_increment_ba </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unioncvmx__sli__mem__access__subidx.html">cvmx_sli_mem_access_subidx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pmas</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0085ce9b70e5281f6a6eff6a04f67a5a"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_pcie_build_config_addr" ref="a0085ce9b70e5281f6a6eff6a04f67a5a" args="(int node, int port, int bus, int dev, int fn, int reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t __cvmx_pcie_build_config_addr </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Build a PCIe config space request address for a device</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>node </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>PCIe port (relative to the node) to access </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bus</em>&nbsp;</td><td>Sub bus </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Device ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Device sub function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>Register to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>64bit Octeon IO address </dd></dl>

</div>
</div>
<a class="anchor" id="a15f54ab289d4c7d19b8b98619278de42"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_pcie_config_pemon" ref="a15f54ab289d4c7d19b8b98619278de42" args="(int node, int pcie_port, bool direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __cvmx_pcie_config_pemon </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>direction</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Enable/Disable PEMX_PEMON.pemon based on the direction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>node </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>direction</em>&nbsp;</td><td>0 to disable, 1 to enable </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a63b94bc6e659af2c9c6a905f03afb6f1"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_pcie_get_qlm" ref="a63b94bc6e659af2c9c6a905f03afb6f1" args="(int node, int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_pcie_get_qlm </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Return the QLM number for the PCIE port.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>QLM number to return for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>QLM number. </dd></dl>

</div>
</div>
<a class="anchor" id="a76458a16a5e5a2a6bbc1073f18ae7581"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_pcie_gser_phy_config" ref="a76458a16a5e5a2a6bbc1073f18ae7581" args="(int node, int pcie_port, int qlm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __cvmx_pcie_gser_phy_config </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>qlm</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 De-assert GSER_PHY.phy_reset for a given qlm</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>node </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qlm</em>&nbsp;</td><td>qlm for a given PCIe port </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a44d097a4b1c3dee0d62670adca7930e2"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_pcie_rc_initialize_config_space" ref="a44d097a4b1c3dee0d62670adca7930e2" args="(int node, int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __cvmx_pcie_rc_initialize_config_space </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Initialize the RC config space CSRs</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>node </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to initialize </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad3300f116d7d012c536db49a6ba08490"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_pcie_rc_initialize_gen1" ref="ad3300f116d7d012c536db49a6ba08490" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_pcie_rc_initialize_gen1 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a PCIe gen 1 port for use in host(RC) mode. </p>
<p>It doesn't enumerate the bus.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to initialize</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success </dd></dl>

</div>
</div>
<a class="anchor" id="ad680cc0226fcab61b71ddcc99c8b59cf"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_pcie_rc_initialize_gen2" ref="ad680cc0226fcab61b71ddcc99c8b59cf" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_pcie_rc_initialize_gen2 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a PCIe gen 2 port for use in host(RC) mode. </p>
<p>It doesn't enumerate the bus.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to initialize</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success </dd></dl>

</div>
</div>
<a class="anchor" id="a03fa50bc1c8abb31330e38db72e61bbf"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_pcie_rc_initialize_link_gen1" ref="a03fa50bc1c8abb31330e38db72e61bbf" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_pcie_rc_initialize_link_gen1 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Initialize a host mode PCIe gen 1 link. This function takes a PCIe port from reset to a link up state. Software can then begin configuring the rest of the link.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to initialize</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success </dd></dl>

</div>
</div>
<a class="anchor" id="ab693f4aede101ef504d003b662abc78b"></a><!-- doxytag: member="cvmx&#45;pcie.c::__cvmx_pcie_rc_initialize_link_gen2" ref="ab693f4aede101ef504d003b662abc78b" args="(int node, int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_pcie_rc_initialize_link_gen2 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Initialize a host mode PCIe gen 2 link. This function takes a PCIe port from reset to a link up state. Software can then begin configuring the rest of the link.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>node </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to initialize</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success </dd></dl>

</div>
</div>
<a class="anchor" id="af82e9ef5db95f7d0c706146a1eb51b37"></a><!-- doxytag: member="cvmx&#45;pcie.c::cfg_retries" ref="af82e9ef5db95f7d0c706146a1eb51b37" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfg_retries </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a261b3c74c21b6a3f310b6f7757510762"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_cfgx_read" ref="a261b3c74c21b6a3f310b6f7757510762" args="(int pcie_port, uint32_t cfg_offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t cvmx_pcie_cfgx_read </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>cfg_offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a PCIe config space register indirectly. </p>
<p>This is used for registers of the form PCIEEP_CFG??? and PCIERC?_CFG???.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to read from </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg_offset</em>&nbsp;</td><td>Address to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value read </dd></dl>

</div>
</div>
<a class="anchor" id="a4c0826dccc473a9b7780bc07725148f6"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_cfgx_read_node" ref="a4c0826dccc473a9b7780bc07725148f6" args="(int node, int pcie_port, uint32_t cfg_offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t cvmx_pcie_cfgx_read_node </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>cfg_offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6291253ba7b9883fb078457b2e89e55f"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_cfgx_write" ref="a6291253ba7b9883fb078457b2e89e55f" args="(int pcie_port, uint32_t cfg_offset, uint32_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_pcie_cfgx_write </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>cfg_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write a PCIe config space register indirectly. </p>
<p>This is used for registers of the form PCIEEP_CFG??? and PCIERC?_CFG???.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg_offset</em>&nbsp;</td><td>Address to write </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Value to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8196c28341764eb56febc830e1a10e02"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_cfgx_write_node" ref="a8196c28341764eb56febc830e1a10e02" args="(int node, int pcie_port, uint32_t cfg_offset, uint32_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_pcie_cfgx_write_node </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>cfg_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a28f6519e1176ade214e2fe67b9f0b8af"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_config_read16" ref="a28f6519e1176ade214e2fe67b9f0b8af" args="(int pcie_port, int bus, int dev, int fn, int reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t cvmx_pcie_config_read16 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read 16bits from a Device's config space. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bus</em>&nbsp;</td><td>Sub bus </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Device ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Device sub function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>Register to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Result of the read </dd></dl>

</div>
</div>
<a class="anchor" id="a6ad1f91f103dc8d3bbf69e18cf7ed0c9"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_config_read32" ref="a6ad1f91f103dc8d3bbf69e18cf7ed0c9" args="(int pcie_port, int bus, int dev, int fn, int reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t cvmx_pcie_config_read32 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read 32bits from a Device's config space. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bus</em>&nbsp;</td><td>Sub bus </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Device ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Device sub function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>Register to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Result of the read </dd></dl>

</div>
</div>
<a class="anchor" id="a578b959d1c2c592cd4815d05bd3db171"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_config_read8" ref="a578b959d1c2c592cd4815d05bd3db171" args="(int pcie_port, int bus, int dev, int fn, int reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t cvmx_pcie_config_read8 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read 8bits from a Device's config space. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bus</em>&nbsp;</td><td>Sub bus </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Device ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Device sub function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>Register to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Result of the read </dd></dl>

</div>
</div>
<a class="anchor" id="aa57c0a1a2ae274bbe9f3b8a463973819"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_config_write16" ref="aa57c0a1a2ae274bbe9f3b8a463973819" args="(int pcie_port, int bus, int dev, int fn, int reg, uint16_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_pcie_config_write16 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write 16bits to a Device's config space. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bus</em>&nbsp;</td><td>Sub bus </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Device ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Device sub function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>Register to access </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Value to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a99007379cff74f3b64494fc46cde35d8"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_config_write32" ref="a99007379cff74f3b64494fc46cde35d8" args="(int pcie_port, int bus, int dev, int fn, int reg, uint32_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_pcie_config_write32 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write 32bits to a Device's config space. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bus</em>&nbsp;</td><td>Sub bus </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Device ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Device sub function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>Register to access </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Value to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adb1ee3d9a33ee5db6f4111960e8d5ea4"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_config_write8" ref="adb1ee3d9a33ee5db6f4111960e8d5ea4" args="(int pcie_port, int bus, int dev, int fn, int reg, uint8_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_pcie_config_write8 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write 8bits to a Device's config space. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bus</em>&nbsp;</td><td>Sub bus </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Device ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Device sub function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>Register to access </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Value to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acb0e7c181dade662202251042ca1a191"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_ep_initialize" ref="acb0e7c181dade662202251042ca1a191" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pcie_ep_initialize </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a PCIe port for use in target(EP) mode. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to initialize for a node</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success </dd></dl>

</div>
</div>
<a class="anchor" id="ad5d9461b45ddb32ffd48448196858f1d"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_get_io_base_address" ref="ad5d9461b45ddb32ffd48448196858f1d" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t cvmx_pcie_get_io_base_address </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the Core virtual base address for PCIe IO access. </p>
<p>IOs are read/written as an offset from this address.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the IO is for</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>64bit Octeon IO base address for read/write </dd></dl>

</div>
</div>
<a class="anchor" id="a9ebece80daf85057ea312ed38ff98ab2"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_get_io_size" ref="a9ebece80daf85057ea312ed38ff98ab2" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t cvmx_pcie_get_io_size </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Size of the IO address region returned at address <a class="el" href="cvmx-pcie_8c.html#ad5d9461b45ddb32ffd48448196858f1d" title="Return the Core virtual base address for PCIe IO access.">cvmx_pcie_get_io_base_address()</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the IO is for</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Size of the IO window </dd></dl>

</div>
</div>
<a class="anchor" id="a17eef45e056ceeab46368cafaf4d9cee"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_get_mem_base_address" ref="a17eef45e056ceeab46368cafaf4d9cee" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t cvmx_pcie_get_mem_base_address </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the Core virtual base address for PCIe MEM access. </p>
<p>Memory is read/written as an offset from this address.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the IO is for</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>64bit Octeon IO base address for read/write </dd></dl>

</div>
</div>
<a class="anchor" id="a0ff7df5980696bc3f8cab34518ed9bd2"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_get_mem_size" ref="a0ff7df5980696bc3f8cab34518ed9bd2" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t cvmx_pcie_get_mem_size </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Size of the Mem address region returned at address <a class="el" href="cvmx-pcie_8c.html#a17eef45e056ceeab46368cafaf4d9cee" title="Return the Core virtual base address for PCIe MEM access.">cvmx_pcie_get_mem_base_address()</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port the IO is for</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Size of the Mem window </dd></dl>

</div>
</div>
<a class="anchor" id="addc6294f5f881afb30fead5d37415ff7"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_is_host_mode" ref="addc6294f5f881afb30fead5d37415ff7" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pcie_is_host_mode </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns if a PCIe port is in host or target mode. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port number (PEM number)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if PCIe port is in target mode, !0 if in host mode. </dd></dl>

</div>
</div>
<a class="anchor" id="acc0ad94e3ce63489adf5b854489cb852"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_rc_initialize" ref="acc0ad94e3ce63489adf5b854489cb852" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pcie_rc_initialize </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a PCIe port for use in host(RC) mode. </p>
<p>It doesn't enumerate the bus.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to initialize for a node</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success </dd></dl>

</div>
</div>
<a class="anchor" id="ae520e4c22fa1f479241f411e819cef37"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_rc_shutdown" ref="ae520e4c22fa1f479241f411e819cef37" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pcie_rc_shutdown </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shutdown a PCIe port and put it in reset. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to shutdown for a node</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success </dd></dl>

</div>
</div>
<a class="anchor" id="ada59d102f3d750087c5b564ae06acac3"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_pcie_wait_for_pending" ref="ada59d102f3d750087c5b564ae06acac3" args="(int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_pcie_wait_for_pending </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for posted PCIe read/writes to reach the other side of the internal PCIe switch. </p>
<p>This will insure that core read/writes are posted before anything after this function is called. This may be necessary when writing to memory that will later be read using the DMA/PKT engines.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcie_port</em>&nbsp;</td><td>PCIe port to wait for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2140771e2e79965386b3f8adb23ca438"></a><!-- doxytag: member="cvmx&#45;pcie.c::EXPORT_SYMBOL" ref="a2140771e2e79965386b3f8adb23ca438" args="(cvmx_pcie_rc_initialize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype">cvmx_pcie_rc_initialize&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5f2b01d178f0897367330d09ef5d76ec"></a><!-- doxytag: member="cvmx&#45;pcie.c::octeon_pcie_get_qlm_from_fdt" ref="a5f2b01d178f0897367330d09ef5d76ec" args="(int numa_node, int pcie_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_pcie_get_qlm_from_fdt </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numa_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pcie_port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aa4ba499da936cba08ad04c69bb47b832"></a><!-- doxytag: member="cvmx&#45;pcie.c::cfg_timeout" ref="aa4ba499da936cba08ad04c69bb47b832" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="cvmx-pcie_8c.html#aa4ba499da936cba08ad04c69bb47b832">cfg_timeout</a> = 200<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afffa28e9139066945cb68f8f9315af46"></a><!-- doxytag: member="cvmx&#45;pcie.c::cvmx_primary_pcie_bus_number" ref="afffa28e9139066945cb68f8f9315af46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="cvmx-pcie_8c.html#afffa28e9139066945cb68f8f9315af46">cvmx_primary_pcie_bus_number</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a56b897743e25cc7526751d4f7e46ceea"></a><!-- doxytag: member="cvmx&#45;pcie.c::pcie_link_initialized" ref="a56b897743e25cc7526751d4f7e46ceea" args="[CVMX_MAX_NODES][CVMX_PCIE_MAX_PORTS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="cvmx-pcie_8c.html#a56b897743e25cc7526751d4f7e46ceea">pcie_link_initialized</a>[CVMX_MAX_NODES][CVMX_PCIE_MAX_PORTS]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
