<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-pko3-queue.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-pko3-queue.c File Reference</h1><code>#include &quot;<a class="el" href="cvmx_8h_source.html">cvmx.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-pko3_8h_source.html">cvmx-pko3.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-pko3-resources_8h_source.html">cvmx-pko3-resources.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-pko3-queue_8h_source.html">cvmx-pko3-queue.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-helper-pko3_8h_source.html">cvmx-helper-pko3.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-bootmem_8h_source.html">cvmx-bootmem.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for cvmx-pko3-queue.c:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-pko3-queue_8c__incl.png" border="0" usemap="#cvmx-pko3-queue_8c_map" alt=""/></div>
<map name="cvmx-pko3-queue_8c_map" id="cvmx-pko3-queue_8c">
<area shape="rect" id="node3" href="cvmx_8h.html" title="Main Octeon executive header file (This should be the second header file included..." alt="" coords="1653,315,1723,344"/><area shape="rect" id="node81" href="cvmx-pko3_8h.html" title="cvmx&#45;pko3.h" alt="" coords="2376,83,2483,112"/><area shape="rect" id="node84" href="cvmx-pko3-queue_8h.html" title="cvmx&#45;pko3&#45;queue.h" alt="" coords="2559,160,2713,189"/><area shape="rect" id="node119" href="cvmx-pko3-resources_8h.html" title="cvmx&#45;pko3&#45;resources.h" alt="" coords="2788,83,2967,112"/><area shape="rect" id="node122" href="cvmx-helper-pko3_8h.html" title="cvmx&#45;helper&#45;pko3.h" alt="" coords="2991,83,3145,112"/><area shape="rect" id="node124" href="cvmx-bootmem_8h.html" title="Simple allocate only memory allocator." alt="" coords="3169,83,3311,112"/><area shape="rect" id="node5" href="cvmx-platform_8h.html" title="This file is resposible for including all system dependent headers for the cvmx&#45;*..." alt="" coords="879,469,1012,499"/><area shape="rect" id="node25" href="cvmx-access_8h.html" title="Function prototypes for accessing memory and CSRs on Octeon." alt="" coords="1775,469,1897,499"/><area shape="rect" id="node27" href="cvmx-address_8h.html" title="Typedefs and defines for working with Octeon physical addresses." alt="" coords="884,392,1012,421"/><area shape="rect" id="node30" href="cvmx-asm_8h.html" title="This is file defines ASM primitives for the executive." alt="" coords="2468,624,2572,653"/><area shape="rect" id="node32" href="cvmx-packet_8h.html" title="Packet buffer defines." alt="" coords="1761,392,1884,421"/><area shape="rect" id="node34" href="cvmx-warn_8h.html" title="Functions for warning users about errors and such." alt="" coords="1087,392,1196,421"/><area shape="rect" id="node36" href="cvmx-sysinfo_8h.html" title="This module provides system/board information obtained by the bootloader." alt="" coords="1441,392,1564,421"/><area shape="rect" id="node46" href="octeon-model_8h.html" title="File defining different Octeon model IDs and macros to compare them." alt="" coords="1908,392,2036,421"/><area shape="rect" id="node48" href="cvmx-csr_8h.html" title="Configuration and status register (CSR) address and type definitions for Octoen." alt="" coords="1321,392,1417,421"/><area shape="rect" id="node59" href="cvmx-utils_8h.html" title="Small utility functions and macros to ease programming of Octeon." alt="" coords="1087,469,1191,499"/><area shape="rect" id="node62" href="cvmx-clock_8h.html" title="Interface to Core, IO and DDR Clock." alt="" coords="2060,392,2169,421"/><area shape="rect" id="node65" href="octeon-feature_8h.html" title="File defining checks for different Octeon features." alt="" coords="2193,392,2332,421"/><area shape="rect" id="node67" href="cvmx-fpa_8h.html" title="Interface to the hardware Free Pool Allocator." alt="" coords="1639,392,1737,421"/><area shape="rect" id="node7" href="cvmx-abi_8h.html" title="This file defines macros for use in determining the current calling ABI." alt="" coords="532,547,628,576"/><area shape="rect" id="node38" href="cvmx-app-init_8h.html" title="Header file for simple executive application initialization." alt="" coords="1572,469,1700,499"/><area shape="rect" id="node40" href="cvmx-coremask_8h.html" title="Module to support operations on bitmap of cores." alt="" coords="1616,547,1757,576"/><area shape="rect" id="node51" href="cvmx-csr-enums_8h.html" title="Definitions for enumerations used with Octeon CSRs." alt="" coords="1215,469,1361,499"/><area shape="rect" id="node53" href="cvmx-csr-typedefs_8h.html" title="Configuration and status register (CSR) address and type definitions for Octeon." alt="" coords="1385,469,1548,499"/><area shape="rect" id="node55" href="cvmx-fpa-defs_8h.html" title="cvmx&#45;fpa&#45;defs.h" alt="" coords="1913,547,2047,576"/><area shape="rect" id="node57" href="cvmx-pko-defs_8h.html" title="cvmx&#45;pko&#45;defs.h" alt="" coords="1397,547,1531,576"/><area shape="rect" id="node69" href="cvmx-scratch_8h.html" title="This file provides support for the processor local scratch memory." alt="" coords="2183,547,2311,576"/><area shape="rect" id="node73" href="cvmx-fpa1_8h.html" title="Interface to the hardware Free Pool Allocator on Octeon chips." alt="" coords="1972,469,2079,499"/><area shape="rect" id="node77" href="cvmx-fpa3_8h.html" title="Interface to the CN78XX Free Pool Allocator, a.k.a." alt="" coords="2103,469,2209,499"/><area shape="rect" id="node86" href="cvmx-helper_8h.html" title="Helper functions for common, but complicated tasks." alt="" coords="675,160,792,189"/><area shape="rect" id="node107" href="cvmx-ilk_8h.html" title="This file contains defines for the ILK interface." alt="" coords="2343,160,2433,189"/><area shape="rect" id="node110" href="cvmx-atomic_8h.html" title="This file provides atomic operations." alt="" coords="2509,315,2632,344"/><area shape="rect" id="node113" href="cvmx-pow_8h.html" title="Interface to the hardware Scheduling unit." alt="" coords="1091,237,1192,267"/><area shape="rect" id="node88" href="cvmx-wqe_8h.html" title="This header file defines the work queue entry (wqe) data structure." alt="" coords="156,315,260,344"/><area shape="rect" id="node90" href="cvmx-helper-fpa_8h.html" title="Helper functions for FPA setup." alt="" coords="245,237,389,267"/><area shape="rect" id="node92" href="cvmx-helper-agl_8h.html" title="Functions for AGL (RGMII) initialization, configuration, and monitoring." alt="" coords="1216,237,1357,267"/><area shape="rect" id="node96" href="cvmx-helper-errata_8h.html" title="Fixes and workaround for Octeon chip errata." alt="" coords="5,237,171,267"/><area shape="rect" id="node99" href="cvmx-helper-ilk_8h.html" title="Functions for ILK initialization, configuration, and monitoring." alt="" coords="413,237,549,267"/><area shape="rect" id="node101" href="cvmx-helper-loop_8h.html" title="Functions for LOOP initialization, configuration, and monitoring." alt="" coords="573,237,723,267"/><area shape="rect" id="node103" href="cvmx-helper-npi_8h.html" title="Functions for NPI initialization, configuration, and monitoring." alt="" coords="747,237,888,267"/><area shape="rect" id="node105" href="cvmx-helper-rgmii_8h.html" title="Functions for RGMII/GMII/MII initialization, configuration, and monitoring." alt="" coords="912,237,1067,267"/></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcvmx__pko3__dq.html">cvmx_pko3_dq</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpko3__cfg__tab__s.html">pko3_cfg_tab_s</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a5c2abd448593577709883f6d8ad55473">CVMX_PKO3_RR_QUANTUM_MIN</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#af78dbfc8f438735cde4c579e8c6f5685">CVMX_PKO3_SWIZZLE_IPD</a>&nbsp;&nbsp;&nbsp;0x3</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a1c430383440ab3f6bd798f399e5af123">cvmx_pko3_get_queue_base</a> (int ipd_port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a72d67fb2bc799906b7f8e9671aa4fbe6">EXPORT_SYMBOL</a> (cvmx_pko3_get_queue_base)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a81bc236dec6ebffbe04b57a1dbc8c075">cvmx_pko3_get_queue_num</a> (int ipd_port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#ab2a5692b2ef76d2b990c1231e1f71cfe">cvmx_pko3_get_port_queue</a> (int xiface, int index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get L1/Port Queue number assigned to interface port.  <a href="#ab2a5692b2ef76d2b990c1231e1f71cfe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#ae95c2d3a5a7b6853a989e29e8e2ff462">__cvmx_pko3_dq_table_init</a> (void *ptr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#ae95c2d3a5a7b6853a989e29e8e2ff462"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#ae77e58e8aabc86f0e33270efb0cfa9d2">__cvmx_pko3_dq_table_setup</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#ae77e58e8aabc86f0e33270efb0cfa9d2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a1f7a8ccb4defb01d36fb0b4e59772f68">__cvmx_pko3_ipd_dq_register</a> (int xiface, int index, unsigned dq_base, unsigned dq_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a8dbde8ab436b6dd2e3fc8bcb47562927">__cvmx_pko3_ipd_dq_unregister</a> (int xiface, int index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a8dbde8ab436b6dd2e3fc8bcb47562927"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#ae790d5a3cfc6fb29e99c0bfb8c8ff5a1">cvmx_pko3_chan_2_xchan</a> (uint16_t ipd_port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#ae12e37ff79c5867f74fd24197f1b2e50">cvmx_pko3_map_channel</a> (unsigned node, unsigned pq_num, unsigned l2_l3_q_num, uint16_t channel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#ae77bdf1f3d055bdbb15d080946878abe">cvmx_pko_configure_port_queue</a> (int node, int port_queue, int mac_num)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a057fa8f7e4c4297e390278bc7e04eaf3">cvmx_pko_configure_l2_queue</a> (int node, int queue, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#adbb05b067e8bd483144ad5080ce379f7">cvmx_pko_configure_l3_queue</a> (int node, int queue, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#af4be83fb10556e829fcc1fc8ef26d9a7">cvmx_pko_configure_l4_queue</a> (int node, int queue, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#abbf5a638fd2d8f71bd05e28bd0ff6a42">cvmx_pko_configure_l5_queue</a> (int node, int queue, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a03f4b9e0a2ce5cb1805a8dbf1d3c5a3f">cvmx_pko_configure_dq</a> (int node, int dq, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a6b8a574368f2c3a96805baf7bd8e23b6">cvmx_pko3_pq_config</a> (unsigned node, unsigned mac_num, unsigned pq_num)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a1e7129d6727b3e79d5c4f0bcb02e70af">cvmx_pko3_sq_config_children</a> (unsigned int node, enum <a class="el" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254b">cvmx_pko3_level_e</a> child_level, unsigned parent_queue, unsigned child_base, unsigned child_count, int stat_prio_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a157c82ba911fe5aba5bfce55bd990e4c">cvmx_pko3_shaper_rate_compute</a> (unsigned long tclk, <a class="el" href="unioncvmx__pko__l1__sqx__cir.html">cvmx_pko_l1_sqx_cir_t</a> *reg, unsigned long rate_kbips, unsigned burst_bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert bitrate and burst size to SQx_xIR register values.  <a href="#a157c82ba911fe5aba5bfce55bd990e4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#ae1f36e4d87e482786d254cde1d9360a9">cvmx_pko3_port_cir_set</a> (unsigned node, unsigned pq_num, unsigned long rate_kbips, unsigned burst_bytes, int adj_bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure per-port CIR rate limit parameters.  <a href="#ae1f36e4d87e482786d254cde1d9360a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#adacee3d83d69e8d38eeffade31f5e6da">cvmx_pko3_dq_cir_set</a> (unsigned node, unsigned dq_num, unsigned long rate_kbips, unsigned burst_bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure per-queue CIR rate limit parameters.  <a href="#adacee3d83d69e8d38eeffade31f5e6da"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a923a4e745145e58e906d55a50bc588ab">cvmx_pko3_dq_pir_set</a> (unsigned node, unsigned dq_num, unsigned long rate_kbips, unsigned burst_bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure per-queue PIR rate limit parameters.  <a href="#a923a4e745145e58e906d55a50bc588ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a37224193c2ecceb4038ef4834fb70d63">cvmx_pko3_dq_red</a> (unsigned node, unsigned dq_num, <a class="el" href="cvmx-pko3-queue_8h.html#a76c5d0c0aa2b484057848a5f63d71e55">red_action_t</a> red_act, int8_t len_adjust)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure per-queue treatment of excess traffic.  <a href="#a37224193c2ecceb4038ef4834fb70d63"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CVMX_TLS struct <a class="el" href="structcvmx__pko3__dq.html">cvmx_pko3_dq</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#acbcc290bccdf797e04fc86ff6c9f2b20">__cvmx_pko3_dq_table</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structpko3__cfg__tab__s.html">pko3_cfg_tab_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a815b6fbdee5f5579571e1957cf0e6a15">pko3_cn78xx_cfg</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structpko3__cfg__tab__s.html">pko3_cfg_tab_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-pko3-queue_8c.html#a5346e66c9402ea8ccec51ca4a73a1267">pko3_cn73xx_cfg</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a5c2abd448593577709883f6d8ad55473"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::CVMX_PKO3_RR_QUANTUM_MIN" ref="a5c2abd448593577709883f6d8ad55473" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_PKO3_RR_QUANTUM_MIN&nbsp;&nbsp;&nbsp;0x10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af78dbfc8f438735cde4c579e8c6f5685"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::CVMX_PKO3_SWIZZLE_IPD" ref="af78dbfc8f438735cde4c579e8c6f5685" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_PKO3_SWIZZLE_IPD&nbsp;&nbsp;&nbsp;0x3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ae95c2d3a5a7b6853a989e29e8e2ff462"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::__cvmx_pko3_dq_table_init" ref="ae95c2d3a5a7b6853a989e29e8e2ff462" args="(void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __cvmx_pko3_dq_table_init </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
</p>
<p>Initialize port/dq table contents </p>

</div>
</div>
<a class="anchor" id="ae77e58e8aabc86f0e33270efb0cfa9d2"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::__cvmx_pko3_dq_table_setup" ref="ae77e58e8aabc86f0e33270efb0cfa9d2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __cvmx_pko3_dq_table_setup </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
</p>
<p>Find or allocate global port/dq map table which is a named table, contains entries for all possible OCI nodes.</p>
<p>The table global pointer is stored in core-local variable so that every core will call this function once, on first use. </p>

</div>
</div>
<a class="anchor" id="a1f7a8ccb4defb01d36fb0b4e59772f68"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::__cvmx_pko3_ipd_dq_register" ref="a1f7a8ccb4defb01d36fb0b4e59772f68" args="(int xiface, int index, unsigned dq_base, unsigned dq_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __cvmx_pko3_ipd_dq_register </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xiface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>dq_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>dq_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8dbde8ab436b6dd2e3fc8bcb47562927"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::__cvmx_pko3_ipd_dq_unregister" ref="a8dbde8ab436b6dd2e3fc8bcb47562927" args="(int xiface, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __cvmx_pko3_ipd_dq_unregister </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xiface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
</p>
<p>Unregister DQs associated with CHAN_E (IPD port)</p>
<p>NOTE: This function would be cleaner if it had a single ipd_port argument </p>

</div>
</div>
<a class="anchor" id="ae790d5a3cfc6fb29e99c0bfb8c8ff5a1"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_chan_2_xchan" ref="ae790d5a3cfc6fb29e99c0bfb8c8ff5a1" args="(uint16_t ipd_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_pko3_chan_2_xchan </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>ipd_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adacee3d83d69e8d38eeffade31f5e6da"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_dq_cir_set" ref="adacee3d83d69e8d38eeffade31f5e6da" args="(unsigned node, unsigned dq_num, unsigned long rate_kbips, unsigned burst_bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pko3_dq_cir_set </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>dq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>rate_kbips</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>burst_bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure per-queue CIR rate limit parameters. </p>
<p>This function configures rate limit at the <a class="el" href="structdescriptor.html">descriptor</a> queue level.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>The OCI node where the target port is located </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dq_num</em>&nbsp;</td><td>The <a class="el" href="structdescriptor.html">descriptor</a> queue number for this setting </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate_kbips</em>&nbsp;</td><td>The desired throughput in kilo-bits-per-second </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>burst_bytes</em>&nbsp;</td><td>The size of a burst in bytes, at least MTU</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns zero if both settings applied within allowed tolerance, otherwise the error is returned in parts-per-million. 'rate_bps error is a negative number, otherwise 'birst_rate' error is returned as a positive integer. </dd></dl>

</div>
</div>
<a class="anchor" id="a923a4e745145e58e906d55a50bc588ab"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_dq_pir_set" ref="a923a4e745145e58e906d55a50bc588ab" args="(unsigned node, unsigned dq_num, unsigned long rate_kbips, unsigned burst_bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pko3_dq_pir_set </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>dq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>rate_kbips</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>burst_bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure per-queue PIR rate limit parameters. </p>
<p>This function configures rate limit at the <a class="el" href="structdescriptor.html">descriptor</a> queue level.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>The OCI node where the target port is located </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dq_num</em>&nbsp;</td><td>The <a class="el" href="structdescriptor.html">descriptor</a> queue number for this setting </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate_kbips</em>&nbsp;</td><td>The desired throughput in kilo-bits-per-second </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>burst_bytes</em>&nbsp;</td><td>The size of a burst in bytes, at least MTU</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns zero if both settings applied within allowed tolerance, otherwise the error is returned in parts-per-million. 'rate_bps error is a negative number, otherwise 'birst_rate' error is returned as a positive integer. </dd></dl>

</div>
</div>
<a class="anchor" id="a37224193c2ecceb4038ef4834fb70d63"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_dq_red" ref="a37224193c2ecceb4038ef4834fb70d63" args="(unsigned node, unsigned dq_num, red_action_t red_act, int8_t len_adjust)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_pko3_dq_red </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>dq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-pko3-queue_8h.html#a76c5d0c0aa2b484057848a5f63d71e55">red_action_t</a>&nbsp;</td>
          <td class="paramname"> <em>red_act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&nbsp;</td>
          <td class="paramname"> <em>len_adjust</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure per-queue treatment of excess traffic. </p>
<p>The default and most sensible behavior is to stall the packets colored Red (i.e. exceeding the PIR rate in full 3-color mode). There is also the option to discard excess traffic, which is the desired action for some applications that do not rely on back-pressure flow control. The shaper may be programmed to pass the RED packets onwards, which may be useful it the color is translated to a change in packet priority on egress.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>The OCI node where the target port is located </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dq_num</em>&nbsp;</td><td>The <a class="el" href="structdescriptor.html">descriptor</a> queue number for this setting </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>red_act</em>&nbsp;</td><td>The action required for all packets in excess of PIR </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len_adjust</em>&nbsp;</td><td>A 2's complement 8 bit value to add/subtract from packet length for the purpose of shaping calculations, e.g. a value of -14 will subtract the length of the Ethernet header and hence only account IP packet size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>N/A </dd></dl>

</div>
</div>
<a class="anchor" id="ab2a5692b2ef76d2b990c1231e1f71cfe"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_get_port_queue" ref="ab2a5692b2ef76d2b990c1231e1f71cfe" args="(int xiface, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pko3_get_port_queue </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xiface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get L1/Port Queue number assigned to interface port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>xiface</em>&nbsp;</td><td>is interface number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>is port index. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1c430383440ab3f6bd798f399e5af123"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_get_queue_base" ref="a1c430383440ab3f6bd798f399e5af123" args="(int ipd_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pko3_get_queue_base </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ipd_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a81bc236dec6ebffbe04b57a1dbc8c075"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_get_queue_num" ref="a81bc236dec6ebffbe04b57a1dbc8c075" args="(int ipd_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pko3_get_queue_num </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ipd_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae12e37ff79c5867f74fd24197f1b2e50"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_map_channel" ref="ae12e37ff79c5867f74fd24197f1b2e50" args="(unsigned node, unsigned pq_num, unsigned l2_l3_q_num, uint16_t channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_pko3_map_channel </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>pq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>l2_l3_q_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>channel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae1f36e4d87e482786d254cde1d9360a9"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_port_cir_set" ref="ae1f36e4d87e482786d254cde1d9360a9" args="(unsigned node, unsigned pq_num, unsigned long rate_kbips, unsigned burst_bytes, int adj_bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pko3_port_cir_set </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>pq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>rate_kbips</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>burst_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>adj_bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure per-port CIR rate limit parameters. </p>
<p>This function configures rate limit at the L1/PQ level, i.e. for an entire MAC or physical port.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>The OCI node where the target port is located </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pq_num</em>&nbsp;</td><td>The L1/PQ queue number for this setting </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate_kbips</em>&nbsp;</td><td>The desired throughput in kilo-bits-per-second </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>burst_bytes</em>&nbsp;</td><td>The size of a burst in bytes, at least MTU</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns zero if both settings applied within allowed tolerance, otherwise the error is returned in parts-per-million. 'rate_bps error is e negative number, otherwise 'birst_rate' error is returned as a positive integer. </dd></dl>

</div>
</div>
<a class="anchor" id="a6b8a574368f2c3a96805baf7bd8e23b6"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_pq_config" ref="a6b8a574368f2c3a96805baf7bd8e23b6" args="(unsigned node, unsigned mac_num, unsigned pq_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pko3_pq_config </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mac_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>pq_num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a157c82ba911fe5aba5bfce55bd990e4c"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_shaper_rate_compute" ref="a157c82ba911fe5aba5bfce55bd990e4c" args="(unsigned long tclk, cvmx_pko_l1_sqx_cir_t *reg, unsigned long rate_kbips, unsigned burst_bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_pko3_shaper_rate_compute </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>tclk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unioncvmx__pko__l1__sqx__cir.html">cvmx_pko_l1_sqx_cir_t</a> *&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>rate_kbips</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>burst_bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert bitrate and burst size to SQx_xIR register values. </p>
<p>Internal use function. <b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
</p>
<p>Common function to convert bit-rate (ie kilo-bits-per-sec) and maximum burst (in bytes) values to PKO shaper register format, that is a short-float type, with divisor.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tclk</em>&nbsp;</td><td>is the time-wheel clock for the specific shaper </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>is a pointer to a register structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate_kbips</em>&nbsp;</td><td>is the requested bit rate in kilobits/sec </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>burst_bytes</em>&nbsp;</td><td>is the size of maximum burst in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A negative number means the transfer rate could not be set within acceptable tolerance, and the actual error in PPM is the negative of the returned value. A positive value indicates that the bit rate was set within acceptable tolerance, but the burst rate had an error, which is returned in PPM. A value of 0 means both measures were set within tolerance.</dd></dl>
<p>Note that the bust error could be as a result of this function enforcing the minimum MTU as the minimum burst size allowed. </p>

</div>
</div>
<a class="anchor" id="a1e7129d6727b3e79d5c4f0bcb02e70af"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko3_sq_config_children" ref="a1e7129d6727b3e79d5c4f0bcb02e70af" args="(unsigned int node, enum cvmx_pko3_level_e child_level, unsigned parent_queue, unsigned child_base, unsigned child_count, int stat_prio_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_pko3_sq_config_children </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254b">cvmx_pko3_level_e</a>&nbsp;</td>
          <td class="paramname"> <em>child_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>parent_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>child_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>child_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stat_prio_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a03f4b9e0a2ce5cb1805a8dbf1d3c5a3f"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko_configure_dq" ref="a03f4b9e0a2ce5cb1805a8dbf1d3c5a3f" args="(int node, int dq, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_pko_configure_dq </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>parent_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rr_quantum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_rr_prio</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a057fa8f7e4c4297e390278bc7e04eaf3"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko_configure_l2_queue" ref="a057fa8f7e4c4297e390278bc7e04eaf3" args="(int node, int queue, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_pko_configure_l2_queue </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>parent_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rr_quantum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_rr_prio</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adbb05b067e8bd483144ad5080ce379f7"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko_configure_l3_queue" ref="adbb05b067e8bd483144ad5080ce379f7" args="(int node, int queue, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_pko_configure_l3_queue </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>parent_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rr_quantum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_rr_prio</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af4be83fb10556e829fcc1fc8ef26d9a7"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko_configure_l4_queue" ref="af4be83fb10556e829fcc1fc8ef26d9a7" args="(int node, int queue, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_pko_configure_l4_queue </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>parent_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rr_quantum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_rr_prio</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abbf5a638fd2d8f71bd05e28bd0ff6a42"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko_configure_l5_queue" ref="abbf5a638fd2d8f71bd05e28bd0ff6a42" args="(int node, int queue, int parent_queue, int prio, int rr_quantum, int child_base, int child_rr_prio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_pko_configure_l5_queue </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>parent_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rr_quantum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>child_rr_prio</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae77bdf1f3d055bdbb15d080946878abe"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::cvmx_pko_configure_port_queue" ref="ae77bdf1f3d055bdbb15d080946878abe" args="(int node, int port_queue, int mac_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cvmx_pko_configure_port_queue </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mac_num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a72d67fb2bc799906b7f8e9671aa4fbe6"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::EXPORT_SYMBOL" ref="a72d67fb2bc799906b7f8e9671aa4fbe6" args="(cvmx_pko3_get_queue_base)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype">cvmx_pko3_get_queue_base&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="acbcc290bccdf797e04fc86ff6c9f2b20"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::__cvmx_pko3_dq_table" ref="acbcc290bccdf797e04fc86ff6c9f2b20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CVMX_TLS struct <a class="el" href="structcvmx__pko3__dq.html">cvmx_pko3_dq</a>* <a class="el" href="cvmx-pko3-queue_8c.html#acbcc290bccdf797e04fc86ff6c9f2b20">__cvmx_pko3_dq_table</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac3e1795766a80ec63b157951b4b9a7d4"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::debug" ref="ac3e1795766a80ec63b157951b4b9a7d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="cvmx-tim-atomic_8c.html#a656b8d50e4036b8ae51663e47beea58d">debug</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5346e66c9402ea8ccec51ca4a73a1267"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::pko3_cn73xx_cfg" ref="a5346e66c9402ea8ccec51ca4a73a1267" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structpko3__cfg__tab__s.html">pko3_cfg_tab_s</a> <a class="el" href="cvmx-pko3-queue_8c.html#a5346e66c9402ea8ccec51ca4a73a1267">pko3_cn73xx_cfg</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    {
    [<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254bace8acc210d80596922bbed1dcc2e16ec">CVMX_PKO_L2_QUEUES</a>] =
        {<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba430e534b0c9cc343f96554eaa559c1a6">CVMX_PKO_PORT_QUEUES</a>, <a class="code" href="cvmx-pko3-queue_8c.html#a057fa8f7e4c4297e390278bc7e04eaf3">cvmx_pko_configure_l2_queue</a> },
    [<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba3cd44b972b34a4fdee00800ed009be47">CVMX_PKO_L3_QUEUES</a>] =
        {<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254bace8acc210d80596922bbed1dcc2e16ec">CVMX_PKO_L2_QUEUES</a>, <a class="code" href="cvmx-pko3-queue_8c.html#adbb05b067e8bd483144ad5080ce379f7">cvmx_pko_configure_l3_queue</a> },
    [<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254bad50595267b0de1a3c7595fe89b024de8">CVMX_PKO_DESCR_QUEUES</a>] =
        {<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba3cd44b972b34a4fdee00800ed009be47">CVMX_PKO_L3_QUEUES</a>, <a class="code" href="cvmx-pko3-queue_8c.html#a03f4b9e0a2ce5cb1805a8dbf1d3c5a3f">cvmx_pko_configure_dq</a> }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a815b6fbdee5f5579571e1957cf0e6a15"></a><!-- doxytag: member="cvmx&#45;pko3&#45;queue.c::pko3_cn78xx_cfg" ref="a815b6fbdee5f5579571e1957cf0e6a15" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structpko3__cfg__tab__s.html">pko3_cfg_tab_s</a> <a class="el" href="cvmx-pko3-queue_8c.html#a815b6fbdee5f5579571e1957cf0e6a15">pko3_cn78xx_cfg</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    {
    [<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254bace8acc210d80596922bbed1dcc2e16ec">CVMX_PKO_L2_QUEUES</a>] =
        {<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba430e534b0c9cc343f96554eaa559c1a6">CVMX_PKO_PORT_QUEUES</a>, <a class="code" href="cvmx-pko3-queue_8c.html#a057fa8f7e4c4297e390278bc7e04eaf3">cvmx_pko_configure_l2_queue</a> },
    [<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba3cd44b972b34a4fdee00800ed009be47">CVMX_PKO_L3_QUEUES</a>] =
        {<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254bace8acc210d80596922bbed1dcc2e16ec">CVMX_PKO_L2_QUEUES</a>, <a class="code" href="cvmx-pko3-queue_8c.html#adbb05b067e8bd483144ad5080ce379f7">cvmx_pko_configure_l3_queue</a> },
    [<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba16b00d95c791713f8eba4553f5fff9e2">CVMX_PKO_L4_QUEUES</a>] =
        {<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba3cd44b972b34a4fdee00800ed009be47">CVMX_PKO_L3_QUEUES</a>, <a class="code" href="cvmx-pko3-queue_8c.html#af4be83fb10556e829fcc1fc8ef26d9a7">cvmx_pko_configure_l4_queue</a> },
    [<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba1ac6a013beff076bda7dfb2de8f6efe6">CVMX_PKO_L5_QUEUES</a>] =
        {<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba16b00d95c791713f8eba4553f5fff9e2">CVMX_PKO_L4_QUEUES</a>, <a class="code" href="cvmx-pko3-queue_8c.html#abbf5a638fd2d8f71bd05e28bd0ff6a42">cvmx_pko_configure_l5_queue</a> },
    [<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254bad50595267b0de1a3c7595fe89b024de8">CVMX_PKO_DESCR_QUEUES</a>] =
        {<a class="code" href="cvmx-pko3_8h.html#adb936c330325cc89cb4ac32d4676254ba1ac6a013beff076bda7dfb2de8f6efe6">CVMX_PKO_L5_QUEUES</a>, <a class="code" href="cvmx-pko3-queue_8c.html#a03f4b9e0a2ce5cb1805a8dbf1d3c5a3f">cvmx_pko_configure_dq</a> }
    }
}
</pre></div>
</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
