<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-srio.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-srio.c File Reference</h1>
<p>Interface to SRIO.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="cvmx_8h_source.html">cvmx.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-srio_8h_source.html">cvmx-srio.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-clock_8h_source.html">cvmx-clock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-helper_8h_source.html">cvmx-helper.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-atomic_8h_source.html">cvmx-atomic.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-error_8h_source.html">cvmx-error.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-helper-errata_8h_source.html">cvmx-helper-errata.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-spinlock_8h_source.html">cvmx-spinlock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-qlm_8h_source.html">cvmx-qlm.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for cvmx-srio.c:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-srio_8c__incl.png" border="0" usemap="#cvmx-srio_8c_map" alt=""/></div>
<map name="cvmx-srio_8c_map" id="cvmx-srio_8c">
<area shape="rect" id="node3" href="cvmx_8h.html" title="Main Octeon executive header file (This should be the second header file included..." alt="" coords="1750,237,1820,267"/><area shape="rect" id="node60" href="cvmx-clock_8h.html" title="Interface to Core, IO and DDR Clock." alt="" coords="1009,315,1118,344"/><area shape="rect" id="node75" href="cvmx-srio_8h.html" title="Interface to SRIO." alt="" coords="1093,83,1192,112"/><area shape="rect" id="node78" href="cvmx-helper_8h.html" title="Helper functions for common, but complicated tasks." alt="" coords="1216,83,1333,112"/><area shape="rect" id="node88" href="cvmx-helper-errata_8h.html" title="Fixes and workaround for Octeon chip errata." alt="" coords="36,160,201,189"/><area shape="rect" id="node113" href="cvmx-atomic_8h.html" title="This file provides atomic operations." alt="" coords="2301,237,2424,267"/><area shape="rect" id="node116" href="cvmx-error_8h.html" title="Interface to the Octeon extended error status." alt="" coords="2246,83,2353,112"/><area shape="rect" id="node119" href="cvmx-spinlock_8h.html" title="Implementation of spinlocks." alt="" coords="2448,237,2576,267"/><area shape="rect" id="node122" href="cvmx-qlm_8h.html" title="Helper utilities for qlm." alt="" coords="2070,83,2172,112"/><area shape="rect" id="node5" href="cvmx-platform_8h.html" title="This file is resposible for including all system dependent headers for the cvmx&#45;*..." alt="" coords="1586,392,1720,421"/><area shape="rect" id="node25" href="cvmx-access_8h.html" title="Function prototypes for accessing memory and CSRs on Octeon." alt="" coords="2024,392,2146,421"/><area shape="rect" id="node27" href="cvmx-address_8h.html" title="Typedefs and defines for working with Octeon physical addresses." alt="" coords="1744,392,1872,421"/><area shape="rect" id="node30" href="cvmx-asm_8h.html" title="This is file defines ASM primitives for the executive." alt="" coords="2362,547,2466,576"/><area shape="rect" id="node32" href="cvmx-packet_8h.html" title="Packet buffer defines." alt="" coords="2284,315,2406,344"/><area shape="rect" id="node34" href="cvmx-warn_8h.html" title="Functions for warning users about errors and such." alt="" coords="1316,315,1425,344"/><area shape="rect" id="node36" href="cvmx-sysinfo_8h.html" title="This module provides system/board information obtained by the bootloader." alt="" coords="2086,315,2209,344"/><area shape="rect" id="node46" href="octeon-model_8h.html" title="File defining different Octeon model IDs and macros to compare them." alt="" coords="1569,315,1697,344"/><area shape="rect" id="node48" href="cvmx-csr_8h.html" title="Configuration and status register (CSR) address and type definitions for Octoen." alt="" coords="1449,315,1545,344"/><area shape="rect" id="node57" href="cvmx-utils_8h.html" title="Small utility functions and macros to ease programming of Octeon." alt="" coords="1896,392,2000,421"/><area shape="rect" id="node63" href="octeon-feature_8h.html" title="File defining checks for different Octeon features." alt="" coords="1822,315,1961,344"/><area shape="rect" id="node65" href="cvmx-fpa_8h.html" title="Interface to the hardware Free Pool Allocator." alt="" coords="1142,315,1241,344"/><area shape="rect" id="node7" href="cvmx-abi_8h.html" title="This file defines macros for use in determining the current calling ABI." alt="" coords="1905,469,2001,499"/><area shape="rect" id="node38" href="cvmx-app-init_8h.html" title="Header file for simple executive application initialization." alt="" coords="2170,392,2298,421"/><area shape="rect" id="node40" href="cvmx-coremask_8h.html" title="Module to support operations on bitmap of cores." alt="" coords="2206,469,2348,499"/><area shape="rect" id="node51" href="cvmx-csr-enums_8h.html" title="Definitions for enumerations used with Octeon CSRs." alt="" coords="1416,392,1562,421"/><area shape="rect" id="node53" href="cvmx-csr-typedefs_8h.html" title="Configuration and status register (CSR) address and type definitions for Octeon." alt="" coords="1229,392,1392,421"/><area shape="rect" id="node55" href="cvmx-fpa-defs_8h.html" title="cvmx&#45;fpa&#45;defs.h" alt="" coords="1105,469,1238,499"/><area shape="rect" id="node67" href="cvmx-scratch_8h.html" title="This file provides support for the processor local scratch memory." alt="" coords="950,469,1078,499"/><area shape="rect" id="node71" href="cvmx-fpa1_8h.html" title="Interface to the hardware Free Pool Allocator on Octeon chips." alt="" coords="1048,392,1154,421"/><area shape="rect" id="node80" href="cvmx-wqe_8h.html" title="This header file defines the work queue entry (wqe) data structure." alt="" coords="126,237,230,267"/><area shape="rect" id="node82" href="cvmx-helper-fpa_8h.html" title="Helper functions for FPA setup." alt="" coords="449,160,593,189"/><area shape="rect" id="node84" href="cvmx-helper-agl_8h.html" title="Functions for AGL (RGMII) initialization, configuration, and monitoring." alt="" coords="1980,160,2121,189"/><area shape="rect" id="node91" href="cvmx-helper-ilk_8h.html" title="Functions for ILK initialization, configuration, and monitoring." alt="" coords="617,160,753,189"/><area shape="rect" id="node93" href="cvmx-helper-loop_8h.html" title="Functions for LOOP initialization, configuration, and monitoring." alt="" coords="777,160,926,189"/><area shape="rect" id="node95" href="cvmx-helper-npi_8h.html" title="Functions for NPI initialization, configuration, and monitoring." alt="" coords="950,160,1092,189"/><area shape="rect" id="node97" href="cvmx-helper-rgmii_8h.html" title="Functions for RGMII/GMII/MII initialization, configuration, and monitoring." alt="" coords="1284,160,1438,189"/><area shape="rect" id="node99" href="cvmx-helper-sgmii_8h.html" title="Functions for SGMII initialization, configuration, and monitoring." alt="" coords="1462,160,1620,189"/><area shape="rect" id="node101" href="cvmx-helper-spi_8h.html" title="Functions for SPI initialization, configuration, and monitoring." alt="" coords="1644,160,1785,189"/><area shape="rect" id="node104" href="cvmx-helper-srio_8h.html" title="Functions for SRIO initialization, configuration, and monitoring." alt="" coords="1809,160,1956,189"/><area shape="rect" id="node106" href="cvmx-helper-util_8h.html" title="Small helper utilities." alt="" coords="1116,160,1260,189"/><area shape="rect" id="node111" href="cvmx-helper-xaui_8h.html" title="Functions for XAUI initialization, configuration, and monitoring." alt="" coords="276,160,425,189"/></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">union &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__sli__address__t.html">cvmx_sli_address_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct____cvmx__srio__state__t.html">__cvmx_srio_state_t</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a680f69e395c213453d2915990bdcc34f">CVMX_SRIO_CONFIG_TIMEOUT</a>&nbsp;&nbsp;&nbsp;10000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#aeef7550367006314d0167960be199f54">CVMX_SRIO_DOORBELL_TIMEOUT</a>&nbsp;&nbsp;&nbsp;10000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a75af7b9bb21733082b365e8216403fff">CVMX_SRIO_CONFIG_PRIORITY</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#ad934b5fb0a2bd651dd30e7387e47c139">__cvmx_srio_to_rst</a> (unsigned srio_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#ad934b5fb0a2bd651dd30e7387e47c139"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a6f3b0c274effa50bd53572c721a138e9">__cvmx_srio_to_sli</a> (unsigned srio_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a6f3b0c274effa50bd53572c721a138e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a4ba0fa5ccc7c5367c9284da752002bab">__cvmx_srio_num_s2m</a> (unsigned srio_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a4ba0fa5ccc7c5367c9284da752002bab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a5dfded83731b5d007a0b62c4c205f277">__cvmx_srio_alloc_s2m</a> (int srio_port, <a class="el" href="unioncvmx__sriox__s2m__typex.html">cvmx_sriox_s2m_typex_t</a> s2m)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a5dfded83731b5d007a0b62c4c205f277"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#af6cda28846d046caebf6f7c46618df1e">__cvmx_srio_free_s2m</a> (int srio_port, int index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#af6cda28846d046caebf6f7c46618df1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a522e0c3633786b666827280cc1c3b49b">__cvmx_srio_alloc_subid</a> (<a class="el" href="unioncvmx__sli__mem__access__subidx.html">cvmx_sli_mem_access_subidx_t</a> subid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a522e0c3633786b666827280cc1c3b49b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a63b1f53cd8547a9b5d5ae283b471bbf7">__cvmx_srio_free_subid</a> (int index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a63b1f53cd8547a9b5d5ae283b471bbf7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#aea66078601208457b3c73a964da39b44">__cvmx_srio_local_read32</a> (int srio_port, uint32_t offset, uint32_t *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#aea66078601208457b3c73a964da39b44"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a94ed692cf49fabc5d199aa885aa1bd1a">__cvmx_srio_local_write32</a> (int srio_port, uint32_t offset, uint32_t data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a94ed692cf49fabc5d199aa885aa1bd1a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a86f5eca932d4315f5ef5d427b05c76e4">cvmx_srio_ipd2srio</a> (int ipd_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert an ipd port number to its sRIO link number per SoC model.  <a href="#a86f5eca932d4315f5ef5d427b05c76e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#ae774ca8adc84d9bfee8445b1bdef3ed5">cvmx_srio_get_did</a> (int srio_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get our device ID.  <a href="#ae774ca8adc84d9bfee8445b1bdef3ed5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a7ef12c46a06a46131578de73dad92647">cvmx_srio_set_did</a> (int srio_port, int did)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set our device ID.  <a href="#a7ef12c46a06a46131578de73dad92647"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a54de84c9f65dd4959ea6325d67b622b0">cvmx_srio_link_rst</a> (int srio_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset SRIO to link partner.  <a href="#a54de84c9f65dd4959ea6325d67b622b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a141424379af1e3448ade51e99f839e86">cvmx_srio_init_cn75xx</a> (int srio_port, <a class="el" href="cvmx-srio_8h.html#a0171651b734934600be137cc82b833f3">cvmx_srio_initialize_flags_t</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#af46d9e48a0614c5b706312dca75b357c">cvmx_srio_init_cn6xxx</a> (int srio_port, <a class="el" href="cvmx-srio_8h.html#a0171651b734934600be137cc82b833f3">cvmx_srio_initialize_flags_t</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a19084240262847520d51fdfc63746c5a">cvmx_srio_initialize</a> (int srio_port, <a class="el" href="cvmx-srio_8h.html#a0171651b734934600be137cc82b833f3">cvmx_srio_initialize_flags_t</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a SRIO port for use.  <a href="#a19084240262847520d51fdfc63746c5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a8df2c35daf38beb23397ba60f69376ac">_cvmx_srio_config_read32</a> (int, int, int, int, uint8_t, uint32_t, uint32_t *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a4d424a4a18c0a5ec2066ffa5e1e20a36">cvmx_srio_config_read32</a> (int srio_port, int srcid_index, int destid, int is16bit, uint8_t hopcount, uint32_t offset, uint32_t *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read 32bits from a Device's config space.  <a href="#a4d424a4a18c0a5ec2066ffa5e1e20a36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a68a7331fe4691f848b9a5e78a17fffc9">EXPORT_SYMBOL</a> (cvmx_srio_config_read32)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a9b617c1615a5c9e4689de5e0e200296b">cvmx_srio_config_write32</a> (int srio_port, int srcid_index, int destid, int is16bit, uint8_t hopcount, uint32_t offset, uint32_t data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write 32bits to a Device's config space.  <a href="#a9b617c1615a5c9e4689de5e0e200296b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#aac64dded400cb513756c5cab2607ee8a">_cvmx_srio_config_write32</a> (int srio_port, int srcid_index, int destid, int is16bit, uint8_t hopcount, uint32_t offset, uint32_t data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a4445ab64702c3511f481e1c71bf54b6c">EXPORT_SYMBOL</a> (cvmx_srio_config_write32)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a43fe5f9bae749dad4346676665ee019d">cvmx_srio_send_doorbell</a> (int srio_port, int srcid_index, int destid, int is16bit, int priority, uint16_t data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a RapidIO doorbell to a remote device.  <a href="#a43fe5f9bae749dad4346676665ee019d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a8981a6dac4d8dfee56c86da340c91c15">EXPORT_SYMBOL</a> (cvmx_srio_send_doorbell)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cvmx-srio_8h.html#a2f66dbdb7bf17c798047e0162ab4984b">cvmx_srio_doorbell_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a2642997f303900e85205f3debb856e44">cvmx_srio_send_doorbell_status</a> (int srio_port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the status of the last doorbell sent.  <a href="#a2642997f303900e85205f3debb856e44"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cvmx-srio_8h.html#a2f66dbdb7bf17c798047e0162ab4984b">cvmx_srio_doorbell_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a925b6ca1880892dad43393f8a0b5c83c">cvmx_srio_receive_doorbell</a> (int srio_port, int *destid_index, uint32_t *sequence_num, int *srcid, int *priority, int *is16bit, uint16_t *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a received doorbell and report data about it.  <a href="#a925b6ca1880892dad43393f8a0b5c83c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a26cea5dfcb180987ff1ae187cd9a1358">cvmx_srio_transmit_spf</a> (int srio_port, void *buffer, int buffer_length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">transmit a packet to the Soft Packet FIFO (SPF).  <a href="#a26cea5dfcb180987ff1ae187cd9a1358"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a858d9521ec0ccd833b4c30859d07c7a7">EXPORT_SYMBOL</a> (cvmx_srio_transmit_spf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#ae993309ece65b5fa7eb8a8083fa5aee9">cvmx_srio_receive_spf</a> (int srio_port, void *buffer, int buffer_length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive a packet from the Soft Packet FIFO (SPF).  <a href="#ae993309ece65b5fa7eb8a8083fa5aee9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a2758cebf7c02708bbab73c9936b0717b">cvmx_srio_set_pkind</a> (int srio_link, int index, int pkind)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure PKIND value for SRIO ports.  <a href="#a2758cebf7c02708bbab73c9936b0717b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a5908f12c4365b3d395a2944afc62e7ae">cvmx_srio_physical_map</a> (int srio_port, <a class="el" href="cvmx-srio_8h.html#a075deffae712d0f281b2d9faa7f8d105">cvmx_srio_write_mode_t</a> write_op, int write_priority, <a class="el" href="cvmx-srio_8h.html#a6ac0950e1658f66b233125b9a26434e1">cvmx_srio_read_mode_t</a> read_op, int read_priority, int srcid_index, int destid, int is16bit, uint64_t base, uint64_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map a remote device's memory region into Octeon's physical address area.  <a href="#a5908f12c4365b3d395a2944afc62e7ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#afaf08026661bbf9ed5396f22e3af0d5a">cvmx_srio_physical_unmap</a> (uint64_t physical_address, uint64_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unmap a physical address window created by cvmx_srio_phys_map().  <a href="#afaf08026661bbf9ed5396f22e3af0d5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#aa3d1e170dbde5ac4f751b551119f2969">cvmx_srio_omsg_desc</a> (uint64_t port, <a class="el" href="unioncvmx__buf__ptr.html">cvmx_buf_ptr_t</a> *buf_ptr, <a class="el" href="unioncvmx__srio__tx__message__header.html">cvmx_srio_tx_message_header_t</a> *desc_ptr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">fill out outbound message <a class="el" href="structdescriptor.html">descriptor</a>  <a href="#aa3d1e170dbde5ac4f751b551119f2969"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#a656b8d50e4036b8ae51663e47beea58d">debug</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static CVMX_SHARED <br class="typebreak"/>
<a class="el" href="struct____cvmx__srio__state__t.html">__cvmx_srio_state_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#af6694f71a85e11ddf54df16f895032d9">__cvmx_srio_state</a> [4]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static CVMX_SHARED <a class="el" href="structcvmx__spinlock__t.html">cvmx_spinlock_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-srio_8c.html#ac004a62cd8429856d9140cecce4647ab">cvmx_srio_lock</a> [2]</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Interface to SRIO. </p>
<hr/>
<dl class="rcs"><dt><b>Revision</b></dt><dd>41586 </dd></dl>
<hr/>
 <hr/><h2>Define Documentation</h2>
<a class="anchor" id="a75af7b9bb21733082b365e8216403fff"></a><!-- doxytag: member="cvmx&#45;srio.c::CVMX_SRIO_CONFIG_PRIORITY" ref="a75af7b9bb21733082b365e8216403fff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_SRIO_CONFIG_PRIORITY&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a680f69e395c213453d2915990bdcc34f"></a><!-- doxytag: member="cvmx&#45;srio.c::CVMX_SRIO_CONFIG_TIMEOUT" ref="a680f69e395c213453d2915990bdcc34f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_SRIO_CONFIG_TIMEOUT&nbsp;&nbsp;&nbsp;10000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aeef7550367006314d0167960be199f54"></a><!-- doxytag: member="cvmx&#45;srio.c::CVMX_SRIO_DOORBELL_TIMEOUT" ref="aeef7550367006314d0167960be199f54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVMX_SRIO_DOORBELL_TIMEOUT&nbsp;&nbsp;&nbsp;10000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a5dfded83731b5d007a0b62c4c205f277"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_alloc_s2m" ref="a5dfded83731b5d007a0b62c4c205f277" args="(int srio_port, cvmx_sriox_s2m_typex_t s2m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_srio_alloc_s2m </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unioncvmx__sriox__s2m__typex.html">cvmx_sriox_s2m_typex_t</a>&nbsp;</td>
          <td class="paramname"> <em>s2m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Allocate a SRIOX_S2M_TYPEX register for mapping a remote SRIO device's address range into Octeons SLI address space. Reference counting is used to allow sharing of duplicate setups. The current implementation treats reads and writes as paired, but this could be changed if we have trouble running out of indexes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s2m</em>&nbsp;</td><td>SRIOX_S2M_TYPEX setup required</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Index of CSR, or negative on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a522e0c3633786b666827280cc1c3b49b"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_alloc_subid" ref="a522e0c3633786b666827280cc1c3b49b" args="(cvmx_sli_mem_access_subidx_t subid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_srio_alloc_subid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unioncvmx__sli__mem__access__subidx.html">cvmx_sli_mem_access_subidx_t</a>&nbsp;</td>
          <td class="paramname"> <em>subid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Allocate a SLI SubID to map a region of memory. Reference counting is used to allow sharing of duplicate setups.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>subid</em>&nbsp;</td><td>SLI_MEM_ACCESS_SUBIDX we need an index for</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Index of CSR, or negative on failure </dd></dl>

</div>
</div>
<a class="anchor" id="af6cda28846d046caebf6f7c46618df1e"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_free_s2m" ref="af6cda28846d046caebf6f7c46618df1e" args="(int srio_port, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __cvmx_srio_free_s2m </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Free a handle allocated by __cvmx_srio_alloc_s2m</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>Index to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a63b1f53cd8547a9b5d5ae283b471bbf7"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_free_subid" ref="a63b1f53cd8547a9b5d5ae283b471bbf7" args="(int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __cvmx_srio_free_subid </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Free a handle allocated by __cvmx_srio_alloc_subid</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>Index to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aea66078601208457b3c73a964da39b44"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_local_read32" ref="aea66078601208457b3c73a964da39b44" args="(int srio_port, uint32_t offset, uint32_t *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_srio_local_read32 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Read 32bits from a local port</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Offset in config space. This must be a multiple of 32 bits. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>Result of the read. This will be unmodified on failure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a94ed692cf49fabc5d199aa885aa1bd1a"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_local_write32" ref="a94ed692cf49fabc5d199aa885aa1bd1a" args="(int srio_port, uint32_t offset, uint32_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cvmx_srio_local_write32 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Write 32bits to a local port </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Offset in config space. This must be a multiple of 32 bits. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a4ba0fa5ccc7c5367c9284da752002bab"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_num_s2m" ref="a4ba0fa5ccc7c5367c9284da752002bab" args="(unsigned srio_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned __cvmx_srio_num_s2m </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>srio_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Return the number of S2M_TYPE registers per sRIO port for the given model. </p>

</div>
</div>
<a class="anchor" id="ad934b5fb0a2bd651dd30e7387e47c139"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_to_rst" ref="ad934b5fb0a2bd651dd30e7387e47c139" args="(unsigned srio_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned __cvmx_srio_to_rst </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>srio_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Convert sRIO port number to RST unit number </p>

</div>
</div>
<a class="anchor" id="a6f3b0c274effa50bd53572c721a138e9"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_to_sli" ref="a6f3b0c274effa50bd53572c721a138e9" args="(unsigned srio_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned __cvmx_srio_to_sli </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>srio_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Convert sRIO port number to SLI unit number </p>

</div>
</div>
<a class="anchor" id="a8df2c35daf38beb23397ba60f69376ac"></a><!-- doxytag: member="cvmx&#45;srio.c::_cvmx_srio_config_read32" ref="a8df2c35daf38beb23397ba60f69376ac" args="(int, int, int, int, uint8_t, uint32_t, uint32_t *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _cvmx_srio_config_read32 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srcid_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>destid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is16bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>hopcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aac64dded400cb513756c5cab2607ee8a"></a><!-- doxytag: member="cvmx&#45;srio.c::_cvmx_srio_config_write32" ref="aac64dded400cb513756c5cab2607ee8a" args="(int srio_port, int srcid_index, int destid, int is16bit, uint8_t hopcount, uint32_t offset, uint32_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _cvmx_srio_config_write32 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srcid_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>destid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is16bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>hopcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4d424a4a18c0a5ec2066ffa5e1e20a36"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_config_read32" ref="a4d424a4a18c0a5ec2066ffa5e1e20a36" args="(int srio_port, int srcid_index, int destid, int is16bit, uint8_t hopcount, uint32_t offset, uint32_t *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_config_read32 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srcid_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>destid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is16bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>hopcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read 32bits from a Device's config space. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcid_index</em>&nbsp;</td><td>Which SRIO source ID to use. 0 = Primary, 1 = Secondary </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destid</em>&nbsp;</td><td>RapidIO device ID, or -1 for the local Octeon. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is16bit</em>&nbsp;</td><td>Non zero if the transactions should use 16bit device IDs. Zero if transactions should use 8bit device IDs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hopcount</em>&nbsp;</td><td>Number of hops to the remote device. Use 0 for the local Octeon. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Offset in config space. This must be a multiple of 32 bits. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>Result of the read. This will be unmodified on failure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a9b617c1615a5c9e4689de5e0e200296b"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_config_write32" ref="a9b617c1615a5c9e4689de5e0e200296b" args="(int srio_port, int srcid_index, int destid, int is16bit, uint8_t hopcount, uint32_t offset, uint32_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_config_write32 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srcid_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>destid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is16bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>hopcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write 32bits to a Device's config space. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcid_index</em>&nbsp;</td><td>Which SRIO source ID to use. 0 = Primary, 1 = Secondary </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destid</em>&nbsp;</td><td>RapidIO device ID, or -1 for the local Octeon. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is16bit</em>&nbsp;</td><td>Non zero if the transactions should use 16bit device IDs. Zero if transactions should use 8bit device IDs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hopcount</em>&nbsp;</td><td>Number of hops to the remote device. Use 0 for the local Octeon. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Offset in config space. This must be a multiple of 32 bits. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ae774ca8adc84d9bfee8445b1bdef3ed5"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_get_did" ref="ae774ca8adc84d9bfee8445b1bdef3ed5" args="(int srio_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_get_did </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get our device ID. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Device ID, or negative number on error </dd></dl>

</div>
</div>
<a class="anchor" id="af46d9e48a0614c5b706312dca75b357c"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_init_cn6xxx" ref="af46d9e48a0614c5b706312dca75b357c" args="(int srio_port, cvmx_srio_initialize_flags_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_srio_init_cn6xxx </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-srio_8h.html#a0171651b734934600be137cc82b833f3">cvmx_srio_initialize_flags_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a141424379af1e3448ade51e99f839e86"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_init_cn75xx" ref="a141424379af1e3448ade51e99f839e86" args="(int srio_port, cvmx_srio_initialize_flags_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cvmx_srio_init_cn75xx </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-srio_8h.html#a0171651b734934600be137cc82b833f3">cvmx_srio_initialize_flags_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a19084240262847520d51fdfc63746c5a"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_initialize" ref="a19084240262847520d51fdfc63746c5a" args="(int srio_port, cvmx_srio_initialize_flags_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_initialize </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-srio_8h.html#a0171651b734934600be137cc82b833f3">cvmx_srio_initialize_flags_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a SRIO port for use. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port to initialize </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Optional flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success </dd></dl>

</div>
</div>
<a class="anchor" id="a86f5eca932d4315f5ef5d427b05c76e4"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_ipd2srio" ref="a86f5eca932d4315f5ef5d427b05c76e4" args="(int ipd_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_ipd2srio </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ipd_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert an ipd port number to its sRIO link number per SoC model. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ipd_port</em>&nbsp;</td><td>Ipd port number to convert</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Srio link number </dd></dl>

</div>
</div>
<a class="anchor" id="a54de84c9f65dd4959ea6325d67b622b0"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_link_rst" ref="a54de84c9f65dd4959ea6325d67b622b0" args="(int srio_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_link_rst </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset SRIO to link partner. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port to initialize</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success </dd></dl>

</div>
</div>
<a class="anchor" id="aa3d1e170dbde5ac4f751b551119f2969"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_omsg_desc" ref="aa3d1e170dbde5ac4f751b551119f2969" args="(uint64_t port, cvmx_buf_ptr_t *buf_ptr, cvmx_srio_tx_message_header_t *desc_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_omsg_desc </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unioncvmx__buf__ptr.html">cvmx_buf_ptr_t</a> *&nbsp;</td>
          <td class="paramname"> <em>buf_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unioncvmx__srio__tx__message__header.html">cvmx_srio_tx_message_header_t</a> *&nbsp;</td>
          <td class="paramname"> <em>desc_ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>fill out outbound message <a class="el" href="structdescriptor.html">descriptor</a> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>pip/ipd port number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf_ptr</em>&nbsp;</td><td>pointer to a buffer pointer. the buffer pointer points to a chain of buffers that hold an outbound srio packet. the packet can take the format of (1) a pip/ipd inbound message or (2) an application-generated outbound message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desc_ptr</em>&nbsp;</td><td>pointer to an outbound message <a class="el" href="structdescriptor.html">descriptor</a>. should be null if *buf_ptr is in the format (1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success; negative of failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a5908f12c4365b3d395a2944afc62e7ae"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_physical_map" ref="a5908f12c4365b3d395a2944afc62e7ae" args="(int srio_port, cvmx_srio_write_mode_t write_op, int write_priority, cvmx_srio_read_mode_t read_op, int read_priority, int srcid_index, int destid, int is16bit, uint64_t base, uint64_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t cvmx_srio_physical_map </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-srio_8h.html#a075deffae712d0f281b2d9faa7f8d105">cvmx_srio_write_mode_t</a>&nbsp;</td>
          <td class="paramname"> <em>write_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>write_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-srio_8h.html#a6ac0950e1658f66b233125b9a26434e1">cvmx_srio_read_mode_t</a>&nbsp;</td>
          <td class="paramname"> <em>read_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>read_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srcid_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>destid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is16bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Map a remote device's memory region into Octeon's physical address area. </p>
<p>The caller can then map this into a core using the TLB or XKPHYS.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port to map the device on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>write_op</em>&nbsp;</td><td>Type of operation to perform on a write to the device. Normally should be CVMX_SRIO_WRITE_MODE_AUTO. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>write_priority</em>&nbsp;</td><td>SRIO priority of writes (0-3) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>read_op</em>&nbsp;</td><td>Type of operation to perform on reads to the device. Normally should be CVMX_SRIO_READ_MODE_NORMAL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>read_priority</em>&nbsp;</td><td>SRIO priority of reads (0-3) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcid_index</em>&nbsp;</td><td>Which SRIO source ID to use. 0 = Primary, 1 = Secondary </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destid</em>&nbsp;</td><td>RapidIO device ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is16bit</em>&nbsp;</td><td>Non zero if the transactions should use 16bit device IDs. Zero if transactions should use 8bit device IDs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>base</em>&nbsp;</td><td>Device base address to start the mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of the mapping in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Octeon 64bit physical address that accesses the remote device, or zero on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="afaf08026661bbf9ed5396f22e3af0d5a"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_physical_unmap" ref="afaf08026661bbf9ed5396f22e3af0d5a" args="(uint64_t physical_address, uint64_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_physical_unmap </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>physical_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unmap a physical address window created by cvmx_srio_phys_map(). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>physical_address</em>&nbsp;</td><td>Physical address returned by cvmx_srio_phys_map(). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size used on original call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a925b6ca1880892dad43393f8a0b5c83c"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_receive_doorbell" ref="a925b6ca1880892dad43393f8a0b5c83c" args="(int srio_port, int *destid_index, uint32_t *sequence_num, int *srcid, int *priority, int *is16bit, uint16_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvmx-srio_8h.html#a2f66dbdb7bf17c798047e0162ab4984b">cvmx_srio_doorbell_status_t</a> cvmx_srio_receive_doorbell </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>destid_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>sequence_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>srcid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>is16bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a received doorbell and report data about it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port to check for the received doorbell </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destid_index</em>&nbsp;</td><td>Which Octeon destination ID was the doorbell for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sequence_num</em>&nbsp;</td><td>Sequence number of doorbell (32bits) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcid</em>&nbsp;</td><td>RapidIO source ID of the doorbell sender </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>Priority of the doorbell (0-3) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is16bit</em>&nbsp;</td><td>Non zero if the transactions should use 16bit device IDs. Zero if transactions should use 8bit device IDs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data in the doorbell (16 bits)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Doorbell status. Either DONE, NONE, or ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="ae993309ece65b5fa7eb8a8083fa5aee9"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_receive_spf" ref="ae993309ece65b5fa7eb8a8083fa5aee9" args="(int srio_port, void *buffer, int buffer_length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_receive_spf </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buffer_length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive a packet from the Soft Packet FIFO (SPF). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port to read the packet from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Buffer to receive the packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer_length</em>&nbsp;</td><td>Length of the buffer in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the length of the packet read. Negative on failure. Zero if no packets are available. </dd></dl>

</div>
</div>
<a class="anchor" id="a43fe5f9bae749dad4346676665ee019d"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_send_doorbell" ref="a43fe5f9bae749dad4346676665ee019d" args="(int srio_port, int srcid_index, int destid, int is16bit, int priority, uint16_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_send_doorbell </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srcid_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>destid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is16bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a RapidIO doorbell to a remote device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port the device is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcid_index</em>&nbsp;</td><td>Which SRIO source ID to use. 0 = Primary, 1 = Secondary </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destid</em>&nbsp;</td><td>RapidIO device ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is16bit</em>&nbsp;</td><td>Non zero if the transactions should use 16bit device IDs. Zero if transactions should use 8bit device IDs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>Doorbell priority (0-3) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data for doorbell.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a2642997f303900e85205f3debb856e44"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_send_doorbell_status" ref="a2642997f303900e85205f3debb856e44" args="(int srio_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvmx-srio_8h.html#a2f66dbdb7bf17c798047e0162ab4984b">cvmx_srio_doorbell_status_t</a> cvmx_srio_send_doorbell_status </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the status of the last doorbell sent. </p>
<p>If the dooorbell hardware is done, then the status is cleared to get ready for the next doorbell (or retry).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port to check doorbell on</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Doorbell status </dd></dl>

</div>
</div>
<a class="anchor" id="a7ef12c46a06a46131578de73dad92647"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_set_did" ref="a7ef12c46a06a46131578de73dad92647" args="(int srio_port, int did)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_set_did </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>did</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set our device ID. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Device ID, or negative number on error </dd></dl>

</div>
</div>
<a class="anchor" id="a2758cebf7c02708bbab73c9936b0717b"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_set_pkind" ref="a2758cebf7c02708bbab73c9936b0717b" args="(int srio_link, int index, int pkind)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_srio_set_pkind </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pkind</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure PKIND value for SRIO ports. </p>
<p>NOTE: This is for the use of global or PKI helper. </p>

</div>
</div>
<a class="anchor" id="a26cea5dfcb180987ff1ae187cd9a1358"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_transmit_spf" ref="a26cea5dfcb180987ff1ae187cd9a1358" args="(int srio_port, void *buffer, int buffer_length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_srio_transmit_spf </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srio_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buffer_length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>transmit a packet to the Soft Packet FIFO (SPF). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srio_port</em>&nbsp;</td><td>SRIO port to read the packet from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Buffer holding the packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer_length</em>&nbsp;</td><td>Length of the buffer in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the length of the packet sent. Negative on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a858d9521ec0ccd833b4c30859d07c7a7"></a><!-- doxytag: member="cvmx&#45;srio.c::EXPORT_SYMBOL" ref="a858d9521ec0ccd833b4c30859d07c7a7" args="(cvmx_srio_transmit_spf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype">cvmx_srio_transmit_spf&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8981a6dac4d8dfee56c86da340c91c15"></a><!-- doxytag: member="cvmx&#45;srio.c::EXPORT_SYMBOL" ref="a8981a6dac4d8dfee56c86da340c91c15" args="(cvmx_srio_send_doorbell)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype">cvmx_srio_send_doorbell&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4445ab64702c3511f481e1c71bf54b6c"></a><!-- doxytag: member="cvmx&#45;srio.c::EXPORT_SYMBOL" ref="a4445ab64702c3511f481e1c71bf54b6c" args="(cvmx_srio_config_write32)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype">cvmx_srio_config_write32&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a68a7331fe4691f848b9a5e78a17fffc9"></a><!-- doxytag: member="cvmx&#45;srio.c::EXPORT_SYMBOL" ref="a68a7331fe4691f848b9a5e78a17fffc9" args="(cvmx_srio_config_read32)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype">cvmx_srio_config_read32&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="af6694f71a85e11ddf54df16f895032d9"></a><!-- doxytag: member="cvmx&#45;srio.c::__cvmx_srio_state" ref="af6694f71a85e11ddf54df16f895032d9" args="[4]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CVMX_SHARED <a class="el" href="struct____cvmx__srio__state__t.html">__cvmx_srio_state_t</a> <a class="el" href="cvmx-srio_8c.html#af6694f71a85e11ddf54df16f895032d9">__cvmx_srio_state</a>[4]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac004a62cd8429856d9140cecce4647ab"></a><!-- doxytag: member="cvmx&#45;srio.c::cvmx_srio_lock" ref="ac004a62cd8429856d9140cecce4647ab" args="[2]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CVMX_SHARED <a class="el" href="structcvmx__spinlock__t.html">cvmx_spinlock_t</a> <a class="el" href="cvmx-srio_8c.html#ac004a62cd8429856d9140cecce4647ab">cvmx_srio_lock</a>[2]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a656b8d50e4036b8ae51663e47beea58d"></a><!-- doxytag: member="cvmx&#45;srio.c::debug" ref="a656b8d50e4036b8ae51663e47beea58d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="cvmx-tim-atomic_8c.html#a656b8d50e4036b8ae51663e47beea58d">debug</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
