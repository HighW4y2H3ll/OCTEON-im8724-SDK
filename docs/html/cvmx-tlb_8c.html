<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-tlb.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-tlb.c File Reference</h1>
<p>cvmx-tlb supplies per core TLB access functions for simple executive applications.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="cvmx_8h_source.html">cvmx.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-tlb_8h_source.html">cvmx-tlb.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cvmx-core_8h_source.html">cvmx-core.h</a>&quot;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<div class="dynheader">
Include dependency graph for cvmx-tlb.c:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-tlb_8c__incl.png" border="0" usemap="#cvmx-tlb_8c_map" alt=""/></div>
<map name="cvmx-tlb_8c_map" id="cvmx-tlb_8c">
<area shape="rect" id="node3" href="cvmx_8h.html" title="Main Octeon executive header file (This should be the second header file included..." alt="" coords="1220,83,1289,112"/><area shape="rect" id="node109" href="cvmx-tlb_8h.html" title="cvmx&#45;tlb provides access functions for setting up TLB entries for simple executive..." alt="" coords="1313,83,1407,112"/><area shape="rect" id="node111" href="cvmx-core_8h.html" title="Module to support operations on core such as TLB config, etc." alt="" coords="1431,83,1537,112"/><area shape="rect" id="node5" href="cvmx-platform_8h.html" title="This file is resposible for including all system dependent headers for the cvmx&#45;*..." alt="" coords="557,237,691,267"/><area shape="rect" id="node27" href="cvmx-access_8h.html" title="Function prototypes for accessing memory and CSRs on Octeon." alt="" coords="411,237,533,267"/><area shape="rect" id="node29" href="cvmx-address_8h.html" title="Typedefs and defines for working with Octeon physical addresses." alt="" coords="25,237,153,267"/><area shape="rect" id="node32" href="cvmx-asm_8h.html" title="This is file defines ASM primitives for the executive." alt="" coords="941,392,1045,421"/><area shape="rect" id="node34" href="cvmx-packet_8h.html" title="Packet buffer defines." alt="" coords="1328,160,1451,189"/><area shape="rect" id="node36" href="cvmx-warn_8h.html" title="Functions for warning users about errors and such." alt="" coords="1475,160,1584,189"/><area shape="rect" id="node38" href="cvmx-sysinfo_8h.html" title="This module provides system/board information obtained by the bootloader." alt="" coords="856,160,979,189"/><area shape="rect" id="node48" href="octeon-model_8h.html" title="File defining different Octeon model IDs and macros to compare them." alt="" coords="1608,160,1736,189"/><area shape="rect" id="node50" href="cvmx-csr_8h.html" title="Configuration and status register (CSR) address and type definitions for Octoen." alt="" coords="1085,160,1181,189"/><area shape="rect" id="node87" href="cvmx-utils_8h.html" title="Small utility functions and macros to ease programming of Octeon." alt="" coords="212,237,316,267"/><area shape="rect" id="node90" href="cvmx-clock_8h.html" title="Interface to Core, IO and DDR Clock." alt="" coords="1760,160,1869,189"/><area shape="rect" id="node93" href="octeon-feature_8h.html" title="File defining checks for different Octeon features." alt="" coords="1893,160,2032,189"/><area shape="rect" id="node95" href="cvmx-fpa_8h.html" title="Interface to the hardware Free Pool Allocator." alt="" coords="1205,160,1304,189"/><area shape="rect" id="node7" href="cvmx-abi_8h.html" title="This file defines macros for use in determining the current calling ABI." alt="" coords="5,315,101,344"/><area shape="rect" id="node40" href="cvmx-app-init_8h.html" title="Header file for simple executive application initialization." alt="" coords="803,237,931,267"/><area shape="rect" id="node42" href="cvmx-coremask_8h.html" title="Module to support operations on bitmap of cores." alt="" coords="869,315,1011,344"/><area shape="rect" id="node53" href="cvmx-csr-enums_8h.html" title="Definitions for enumerations used with Octeon CSRs." alt="" coords="2223,237,2369,267"/><area shape="rect" id="node55" href="cvmx-csr-typedefs_8h.html" title="Configuration and status register (CSR) address and type definitions for Octeon." alt="" coords="2036,237,2199,267"/><area shape="rect" id="node57" href="cvmx-agl-defs_8h.html" title="cvmx&#45;agl&#45;defs.h" alt="" coords="1240,315,1371,344"/><area shape="rect" id="node59" href="cvmx-ase-defs_8h.html" title="cvmx&#45;ase&#45;defs.h" alt="" coords="1395,315,1531,344"/><area shape="rect" id="node61" href="cvmx-asxx-defs_8h.html" title="cvmx&#45;asxx&#45;defs.h" alt="" coords="1555,315,1696,344"/><area shape="rect" id="node63" href="cvmx-asx0-defs_8h.html" title="cvmx&#45;asx0&#45;defs.h" alt="" coords="1720,315,1861,344"/><area shape="rect" id="node65" href="cvmx-bbp-defs_8h.html" title="cvmx&#45;bbp&#45;defs.h" alt="" coords="1885,315,2021,344"/><area shape="rect" id="node67" href="cvmx-bbxa-defs_8h.html" title="cvmx&#45;bbxa&#45;defs.h" alt="" coords="2045,315,2189,344"/><area shape="rect" id="node69" href="cvmx-bbxbx-defs_8h.html" title="cvmx&#45;bbxbx&#45;defs.h" alt="" coords="2213,315,2365,344"/><area shape="rect" id="node71" href="cvmx-bbxc-defs_8h.html" title="cvmx&#45;bbxc&#45;defs.h" alt="" coords="2389,315,2533,344"/><area shape="rect" id="node73" href="cvmx-bch-defs_8h.html" title="cvmx&#45;bch&#45;defs.h" alt="" coords="2557,315,2693,344"/><area shape="rect" id="node75" href="cvmx-bgxx-defs_8h.html" title="cvmx&#45;bgxx&#45;defs.h" alt="" coords="2717,315,2861,344"/><area shape="rect" id="node77" href="cvmx-bts-defs_8h.html" title="cvmx&#45;bts&#45;defs.h" alt="" coords="2885,315,3019,344"/><area shape="rect" id="node79" href="cvmx-ciu2-defs_8h.html" title="cvmx&#45;ciu2&#45;defs.h" alt="" coords="3043,315,3181,344"/><area shape="rect" id="node81" href="cvmx-ciu3-defs_8h.html" title="cvmx&#45;ciu3&#45;defs.h" alt="" coords="3205,315,3344,344"/><area shape="rect" id="node83" href="cvmx-ciu-defs_8h.html" title="cvmx&#45;ciu&#45;defs.h" alt="" coords="1085,315,1216,344"/><area shape="rect" id="node85" href="cvmx-fpa-defs_8h.html" title="cvmx&#45;fpa&#45;defs.h" alt="" coords="3368,315,3501,344"/><area shape="rect" id="node97" href="cvmx-scratch_8h.html" title="This file provides support for the processor local scratch memory." alt="" coords="3525,315,3653,344"/><area shape="rect" id="node101" href="cvmx-fpa1_8h.html" title="Interface to the hardware Free Pool Allocator on Octeon chips." alt="" coords="3267,237,3373,267"/><area shape="rect" id="node105" href="cvmx-fpa3_8h.html" title="Interface to the CN78XX Free Pool Allocator, a.k.a." alt="" coords="3397,237,3504,267"/></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#afb273a4dd2b9b51a0d79da2a5e06cfb0">__log2</a> (__uint32_t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a7e737f949a957fbefa46217333e62765">__tlb_read</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a7e737f949a957fbefa46217333e62765"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a27efbc7104e6624b87d72122be261d32">__tlb_write</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a27efbc7104e6624b87d72122be261d32"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a5280c04c2735786cea64e57f03b28c31">__tlb_probe</a> (uint64_t hi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a5280c04c2735786cea64e57f03b28c31"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a7eab585c4044b2e93639373bffd16ef8">__tlb_read_index</a> (uint32_t tlbi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a7eab585c4044b2e93639373bffd16ef8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#ae192516b7e165a7c4b36a73b0d673f5e">__tlb_write_index</a> (uint32_t tlbi, uint64_t hi, uint64_t lo0, uint64_t lo1, uint64_t pagemask)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#ae192516b7e165a7c4b36a73b0d673f5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#ace4e63a82aa1d43cb502e630515e5aa7">__tlb_entry_is_free</a> (uint32_t tlbi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#ace4e63a82aa1d43cb502e630515e5aa7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a78fc969928df8a83015f980b13017e27">__tlb_dump_index</a> (uint32_t tlbi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#a78fc969928df8a83015f980b13017e27"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#ae936413a7898126c4bada6d4c40b4b9f">__tlb_wired_index</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal use function.  <a href="#ae936413a7898126c4bada6d4c40b4b9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a824cfd33dbd28e36570003ff0c7fc9d5">cvmx_tlb_allocate_runtime_entry</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a free entry that can be used for share memory mapping.  <a href="#a824cfd33dbd28e36570003ff0c7fc9d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a683c2496d5bca0b374623e76051d59a4">cvmx_tlb_free_runtime_entry</a> (uint32_t tlbi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Invalidate the TLB entry.  <a href="#a683c2496d5bca0b374623e76051d59a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a598ea6d3362014dbb445634f25b92a17">cvmx_tlb_write_entry</a> (int index, uint64_t vaddr, uint64_t paddr, uint64_t size, uint64_t tlb_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Program a single TLB entry to enable the provided vaddr to paddr mapping.  <a href="#a598ea6d3362014dbb445634f25b92a17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#aeabbb2026e0402b6b0940b5475776dcf">cvmx_tlb_add_fixed_entry</a> (uint64_t vaddr, uint64_t paddr, uint64_t size, uint64_t tlb_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Program a single TLB entry to enable the provided vaddr to paddr mapping.  <a href="#aeabbb2026e0402b6b0940b5475776dcf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a438e338f1857fa6e2f56329f75149e50">cvmx_tlb_write_runtime_entry</a> (int index, uint64_t vaddr, uint64_t paddr, uint64_t size, uint64_t tlb_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Program a single TLB entry to enable the provided vaddr to paddr mapping.  <a href="#a438e338f1857fa6e2f56329f75149e50"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#ad57ff7e86dbf57389150ce537acc4d91">cvmx_tlb_lookup</a> (uint64_t vaddr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the TLB index of a given virtual address.  <a href="#ad57ff7e86dbf57389150ce537acc4d91"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#ac1439bc4f9ae25f06b33d511e84c2170">cvmx_tlb_dump_shared_mapping</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debug routine to show all shared memory mapping.  <a href="#ac1439bc4f9ae25f06b33d511e84c2170"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-tlb_8c.html#a064a6010b1faa316a8570d5cdf589bad">cvmx_tlb_dump_all</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debug routine to show all TLB entries of this core.  <a href="#a064a6010b1faa316a8570d5cdf589bad"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>cvmx-tlb supplies per core TLB access functions for simple executive applications. </p>
<hr/>
<dl class="rcs"><dt><b>Revision</b></dt><dd>41586 </dd></dl>
<hr/>
 <hr/><h2>Function Documentation</h2>
<a class="anchor" id="afb273a4dd2b9b51a0d79da2a5e06cfb0"></a><!-- doxytag: member="cvmx&#45;tlb.c::__log2" ref="afb273a4dd2b9b51a0d79da2a5e06cfb0" args="(__uint32_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__uint32_t __log2 </td>
          <td>(</td>
          <td class="paramtype">__uint32_t&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a78fc969928df8a83015f980b13017e27"></a><!-- doxytag: member="cvmx&#45;tlb.c::__tlb_dump_index" ref="a78fc969928df8a83015f980b13017e27" args="(uint32_t tlbi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __tlb_dump_index </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>tlbi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 dump a single tlb entry </p>

</div>
</div>
<a class="anchor" id="ace4e63a82aa1d43cb502e630515e5aa7"></a><!-- doxytag: member="cvmx&#45;tlb.c::__tlb_entry_is_free" ref="ace4e63a82aa1d43cb502e630515e5aa7" args="(uint32_t tlbi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __tlb_entry_is_free </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>tlbi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 Determine if a TLB entry is free to use </p>

</div>
</div>
<a class="anchor" id="a5280c04c2735786cea64e57f03b28c31"></a><!-- doxytag: member="cvmx&#45;tlb.c::__tlb_probe" ref="a5280c04c2735786cea64e57f03b28c31" args="(uint64_t hi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __tlb_probe </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>hi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 issue the tlb read instruction </p>

</div>
</div>
<a class="anchor" id="a7e737f949a957fbefa46217333e62765"></a><!-- doxytag: member="cvmx&#45;tlb.c::__tlb_read" ref="a7e737f949a957fbefa46217333e62765" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __tlb_read </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 issue the tlb read instruction </p>

</div>
</div>
<a class="anchor" id="a7eab585c4044b2e93639373bffd16ef8"></a><!-- doxytag: member="cvmx&#45;tlb.c::__tlb_read_index" ref="a7eab585c4044b2e93639373bffd16ef8" args="(uint32_t tlbi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __tlb_read_index </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>tlbi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 read a single tlb entry</p>
<p>return 0: tlb entry is read -1: index is invalid </p>

</div>
</div>
<a class="anchor" id="ae936413a7898126c4bada6d4c40b4b9f"></a><!-- doxytag: member="cvmx&#45;tlb.c::__tlb_wired_index" ref="ae936413a7898126c4bada6d4c40b4b9f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t __tlb_wired_index </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 dump a single tlb entry </p>

</div>
</div>
<a class="anchor" id="a27efbc7104e6624b87d72122be261d32"></a><!-- doxytag: member="cvmx&#45;tlb.c::__tlb_write" ref="a27efbc7104e6624b87d72122be261d32" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __tlb_write </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 issue the tlb write instruction </p>

</div>
</div>
<a class="anchor" id="ae192516b7e165a7c4b36a73b0d673f5e"></a><!-- doxytag: member="cvmx&#45;tlb.c::__tlb_write_index" ref="ae192516b7e165a7c4b36a73b0d673f5e" args="(uint32_t tlbi, uint64_t hi, uint64_t lo0, uint64_t lo1, uint64_t pagemask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __tlb_write_index </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>tlbi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>hi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>lo0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>lo1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>pagemask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal use function. </p>
<p><b>This function's parameters and processing may change in future SDKs.</b><br/>
<br/>
 write a single tlb entry</p>
<p>return 0: tlb entry is read -1: index is invalid </p>

</div>
</div>
<a class="anchor" id="aeabbb2026e0402b6b0940b5475776dcf"></a><!-- doxytag: member="cvmx&#45;tlb.c::cvmx_tlb_add_fixed_entry" ref="aeabbb2026e0402b6b0940b5475776dcf" args="(uint64_t vaddr, uint64_t paddr, uint64_t size, uint64_t tlb_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_tlb_add_fixed_entry </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>tlb_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Program a single TLB entry to enable the provided vaddr to paddr mapping. </p>
<p>This version adds a wired entry that should not be changed at run time</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>The virtual address for this mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paddr</em>&nbsp;</td><td>The physical address for this mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of the mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tlb_flags</em>&nbsp;</td><td>Entry mapping flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1: TLB out of entries 0: fixed entry added </dd></dl>

</div>
</div>
<a class="anchor" id="a824cfd33dbd28e36570003ff0c7fc9d5"></a><!-- doxytag: member="cvmx&#45;tlb.c::cvmx_tlb_allocate_runtime_entry" ref="a824cfd33dbd28e36570003ff0c7fc9d5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_tlb_allocate_runtime_entry </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find a free entry that can be used for share memory mapping. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1: no free entry found </dd>
<dd>
: a free entry </dd></dl>

</div>
</div>
<a class="anchor" id="a064a6010b1faa316a8570d5cdf589bad"></a><!-- doxytag: member="cvmx&#45;tlb.c::cvmx_tlb_dump_all" ref="a064a6010b1faa316a8570d5cdf589bad" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_tlb_dump_all </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Debug routine to show all TLB entries of this core. </p>

</div>
</div>
<a class="anchor" id="ac1439bc4f9ae25f06b33d511e84c2170"></a><!-- doxytag: member="cvmx&#45;tlb.c::cvmx_tlb_dump_shared_mapping" ref="ac1439bc4f9ae25f06b33d511e84c2170" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_tlb_dump_shared_mapping </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Debug routine to show all shared memory mapping. </p>

</div>
</div>
<a class="anchor" id="a683c2496d5bca0b374623e76051d59a4"></a><!-- doxytag: member="cvmx&#45;tlb.c::cvmx_tlb_free_runtime_entry" ref="a683c2496d5bca0b374623e76051d59a4" args="(uint32_t tlbi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_tlb_free_runtime_entry </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>tlbi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Invalidate the TLB entry. </p>
<p>Remove previous mapping if one was set up </p>

</div>
</div>
<a class="anchor" id="ad57ff7e86dbf57389150ce537acc4d91"></a><!-- doxytag: member="cvmx&#45;tlb.c::cvmx_tlb_lookup" ref="ad57ff7e86dbf57389150ce537acc4d91" args="(uint64_t vaddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_tlb_lookup </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>vaddr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find the TLB index of a given virtual address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>The virtual address to look up </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 not TLB mapped &gt;=0 TLB TLB index </dd></dl>

</div>
</div>
<a class="anchor" id="a598ea6d3362014dbb445634f25b92a17"></a><!-- doxytag: member="cvmx&#45;tlb.c::cvmx_tlb_write_entry" ref="a598ea6d3362014dbb445634f25b92a17" args="(int index, uint64_t vaddr, uint64_t paddr, uint64_t size, uint64_t tlb_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_tlb_write_entry </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>tlb_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Program a single TLB entry to enable the provided vaddr to paddr mapping. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>Index of the TLB entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>The virtual address for this mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paddr</em>&nbsp;</td><td>The physical address for this mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of the mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tlb_flags</em>&nbsp;</td><td>Entry mapping flags </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a438e338f1857fa6e2f56329f75149e50"></a><!-- doxytag: member="cvmx&#45;tlb.c::cvmx_tlb_write_runtime_entry" ref="a438e338f1857fa6e2f56329f75149e50" args="(int index, uint64_t vaddr, uint64_t paddr, uint64_t size, uint64_t tlb_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_tlb_write_runtime_entry </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>tlb_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Program a single TLB entry to enable the provided vaddr to paddr mapping. </p>
<p>This version writes a runtime entry. It will check the index to make sure not to overwrite any fixed entries.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>Index of the TLB entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>The virtual address for this mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paddr</em>&nbsp;</td><td>The physical address for this mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of the mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tlb_flags</em>&nbsp;</td><td>Entry mapping flags </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
