<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx-usbd.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx-usbd.h File Reference</h1>
<p>"cvmx-usbd.h" defines a set of low level USB functions to help developers create Octeon USB devices for various operating systems.  
<a href="#_details">More...</a></p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<div class="center"><img src="cvmx-usbd_8h__dep__incl.png" border="0" usemap="#cvmx-usbd_8hdep_map" alt=""/></div>
<map name="cvmx-usbd_8hdep_map" id="cvmx-usbd_8hdep">
<area shape="rect" id="node3" href="cvmx-usbd_8c.html" title="&quot;cvmx&#45;usbd.c&quot; defines a set of low level USB functions to help developers..." alt="" coords="5,83,112,112"/></map>
</div>

<p><a href="cvmx-usbd_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a754968b90f63487d5c301ffc5e91064d">cvmx_usbd_callback_func_t</a> )(<a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509">cvmx_usbd_callback_t</a> reason, int endpoint_num, int bytes_transferred, void *user_data)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354">cvmx_usbd_transfer_t</a> { <br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354a1668179f37ddc18f72e813b2ddc8306a">CVMX_USBD_TRANSFER_CONTROL</a> =  0, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354a1ddc697695ff4085fc6ca73aeff8f007">CVMX_USBD_TRANSFER_ISOCHRONOUS</a> =  1, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354a985b2f67a0e5caed078c7c4beaa7ac52">CVMX_USBD_TRANSFER_BULK</a> =  2, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354a8301d3037186957dfd864c39a3f5eef8">CVMX_USBD_TRANSFER_INTERRUPT</a> =  3
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#af428d1bc5a3c76629b55164fb2dc2023">cvmx_usbd_speed_t</a> { <br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#af428d1bc5a3c76629b55164fb2dc2023a64c48c765eeeb538d4ba68efa2b0c0c3">CVMX_USBD_SPEED_HIGH</a> =  0, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#af428d1bc5a3c76629b55164fb2dc2023aa6cab45ab569f8d12d31ce40f593704f">CVMX_USBD_SPEED_FULL</a> =  1, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#af428d1bc5a3c76629b55164fb2dc2023ad709632ac33ac4034eed4bc0d78263c3">CVMX_USBD_SPEED_LOW</a> =  2
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509">cvmx_usbd_callback_t</a> { <br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509a30e7fa6d4390832dfb351e98ebfb300a">CVMX_USBD_CALLBACK_SUSPEND</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509a406e3056e885ba6bb24f6b111c9be234">CVMX_USBD_CALLBACK_RESET</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509a9d740964b734cd6286bd600188bfbc27">CVMX_USBD_CALLBACK_ENUM_COMPLETE</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509ae0e860f365354a80322e6ce3f6aa22bf">CVMX_USBD_CALLBACK_DEVICE_SETUP</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509a1e684b984cf431ea50d1552574ab687e">CVMX_USBD_CALLBACK_IN_COMPLETE</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509acc4b805f509b8ebea7a572c4517e2bfc">CVMX_USBD_CALLBACK_OUT_COMPLETE</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509a0331fe48747b990d9707169d1398b613">__CVMX_USBD_CALLBACK_END</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8">cvmx_usbd_initialize_flags_t</a> { <br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a56c6e42b384cf99ac964be71ccf0df87">CVMX_USBD_INITIALIZE_FLAGS_CLOCK_XO_XI</a> =  1 &lt;&lt; 0, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a794c4801a9f0f9f21df9e54d71566180">CVMX_USBD_INITIALIZE_FLAGS_CLOCK_XO_GND</a> =  1 &lt;&lt; 1, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a43f5f595494f85865cb70db44fc020b2">CVMX_USBD_INITIALIZE_FLAGS_CLOCK_AUTO</a> =  0, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a7b8af0b7743472cc99d95b78a76efd71">CVMX_USBD_INITIALIZE_FLAGS_CLOCK_MHZ_MASK</a> =  3 &lt;&lt; 3, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a87c112d80154d006b6e0a4886d73c41d">CVMX_USBD_INITIALIZE_FLAGS_CLOCK_12MHZ</a> =  1 &lt;&lt; 3, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a1dd97f7de784ff724f2c4e066e72d684">CVMX_USBD_INITIALIZE_FLAGS_CLOCK_24MHZ</a> =  2 &lt;&lt; 3, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a7c2fe81c28c2189fcd309fe5aa055d97">CVMX_USBD_INITIALIZE_FLAGS_CLOCK_48MHZ</a> =  3 &lt;&lt; 3, 
<br/>
&nbsp;&nbsp;<a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a829a1d413731ea8672cc3bf4e16fcce0">CVMX_USBD_INITIALIZE_FLAGS_DEBUG</a> =  1 &lt;&lt; 16
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a0016317de69fede970849f915ec6e7c4">cvmx_usbd_initialize</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb, int usb_port_number, <a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8">cvmx_usbd_initialize_flags_t</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a USB port for use.  <a href="#a0016317de69fede970849f915ec6e7c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#ab5f62b0c7f03d40678a8d8b75b275ae0">cvmx_usbd_shutdown</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shutdown a USB port after a call to <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>.  <a href="#ab5f62b0c7f03d40678a8d8b75b275ae0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a2690ce578e88e3d4d441ce7bdefa56bd">cvmx_usbd_enable</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable a USB port.  <a href="#a2690ce578e88e3d4d441ce7bdefa56bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a6ab345ad2769763fe5814c21056be9e0">cvmx_usbd_disable</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable a USB port.  <a href="#a6ab345ad2769763fe5814c21056be9e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a0b0246fe120b993c395dd2e1c0320f5a">cvmx_usbd_register</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb, <a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509">cvmx_usbd_callback_t</a> reason, <a class="el" href="cvmx-usbd_8h.html#a754968b90f63487d5c301ffc5e91064d">cvmx_usbd_callback_func_t</a> func, void *user_data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a callback function to process USB events.  <a href="#a0b0246fe120b993c395dd2e1c0320f5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a9f4a22c1cd40aeae43489f8783065e14">cvmx_usbd_poll</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Poll the USB block for status and call all needed callback handlers.  <a href="#a9f4a22c1cd40aeae43489f8783065e14"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#abb47e16041eb2c9569b65e4ed56ed07a">cvmx_usbd_get_address</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current USB address.  <a href="#abb47e16041eb2c9569b65e4ed56ed07a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a9e08c7f7aad6e24be04506462e8d6baa">cvmx_usbd_set_address</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb, int address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the current USB address.  <a href="#a9e08c7f7aad6e24be04506462e8d6baa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cvmx-usbd_8h.html#af428d1bc5a3c76629b55164fb2dc2023">cvmx_usbd_speed_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a4842ed6f13c12e6642ab474bdde147b3">cvmx_usbd_get_speed</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current USB speed.  <a href="#a4842ed6f13c12e6642ab474bdde147b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a775a555b2fad40845504c3b1872f5c6e">cvmx_usbd_set_speed</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb, <a class="el" href="cvmx-usbd_8h.html#af428d1bc5a3c76629b55164fb2dc2023">cvmx_usbd_speed_t</a> speed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the current USB speed.  <a href="#a775a555b2fad40845504c3b1872f5c6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#aa415936e4eb019957e6cc3f435d4d5af">cvmx_usbd_out_endpoint_enable</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb, int endpoint_num, <a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354">cvmx_usbd_transfer_t</a> transfer_type, int max_packet_size, uint64_t buffer, int buffer_length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable an endpoint to respond to an OUT transaction.  <a href="#aa415936e4eb019957e6cc3f435d4d5af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#a197979f686b20fa1e9d6d092b7887c58">cvmx_usbd_out_endpoint_disable</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb, int endpoint_num)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable an OUT endpoint.  <a href="#a197979f686b20fa1e9d6d092b7887c58"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#aaac06268d5949ba80da109a700819cdc">cvmx_usbd_in_endpoint_enable</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb, int endpoint_num, <a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354">cvmx_usbd_transfer_t</a> transfer_type, int max_packet_size, uint64_t buffer, int buffer_length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable an endpoint to respond to an IN transaction.  <a href="#aaac06268d5949ba80da109a700819cdc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvmx-usbd_8h.html#ae086bb658f83d311068986898b49661a">cvmx_usbd_in_endpoint_disable</a> (<a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *usb, int endpoint_num)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable an IN endpoint.  <a href="#ae086bb658f83d311068986898b49661a"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>"cvmx-usbd.h" defines a set of low level USB functions to help developers create Octeon USB devices for various operating systems. </p>
<p>These functions provide a generic API to the Octeon USB blocks, hiding the internal hardware specific operations.</p>
<hr/>
<dl class="rcs"><dt><b>Revision</b></dt><dd>32636 </dd></dl>
<hr/>
 <hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a754968b90f63487d5c301ffc5e91064d"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_callback_func_t" ref="a754968b90f63487d5c301ffc5e91064d" args=")(cvmx_usbd_callback_t reason, int endpoint_num, int bytes_transferred, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="cvmx-usbd_8h.html#a754968b90f63487d5c301ffc5e91064d">cvmx_usbd_callback_func_t</a>)(<a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509">cvmx_usbd_callback_t</a> reason, int endpoint_num, int bytes_transferred, void *user_data)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="aae08c1f8f98d4459eed79447bd545509"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_callback_t" ref="aae08c1f8f98d4459eed79447bd545509" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509">cvmx_usbd_callback_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aae08c1f8f98d4459eed79447bd545509a30e7fa6d4390832dfb351e98ebfb300a"></a><!-- doxytag: member="CVMX_USBD_CALLBACK_SUSPEND" ref="aae08c1f8f98d4459eed79447bd545509a30e7fa6d4390832dfb351e98ebfb300a" args="" -->CVMX_USBD_CALLBACK_SUSPEND</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aae08c1f8f98d4459eed79447bd545509a406e3056e885ba6bb24f6b111c9be234"></a><!-- doxytag: member="CVMX_USBD_CALLBACK_RESET" ref="aae08c1f8f98d4459eed79447bd545509a406e3056e885ba6bb24f6b111c9be234" args="" -->CVMX_USBD_CALLBACK_RESET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aae08c1f8f98d4459eed79447bd545509a9d740964b734cd6286bd600188bfbc27"></a><!-- doxytag: member="CVMX_USBD_CALLBACK_ENUM_COMPLETE" ref="aae08c1f8f98d4459eed79447bd545509a9d740964b734cd6286bd600188bfbc27" args="" -->CVMX_USBD_CALLBACK_ENUM_COMPLETE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aae08c1f8f98d4459eed79447bd545509ae0e860f365354a80322e6ce3f6aa22bf"></a><!-- doxytag: member="CVMX_USBD_CALLBACK_DEVICE_SETUP" ref="aae08c1f8f98d4459eed79447bd545509ae0e860f365354a80322e6ce3f6aa22bf" args="" -->CVMX_USBD_CALLBACK_DEVICE_SETUP</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aae08c1f8f98d4459eed79447bd545509a1e684b984cf431ea50d1552574ab687e"></a><!-- doxytag: member="CVMX_USBD_CALLBACK_IN_COMPLETE" ref="aae08c1f8f98d4459eed79447bd545509a1e684b984cf431ea50d1552574ab687e" args="" -->CVMX_USBD_CALLBACK_IN_COMPLETE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aae08c1f8f98d4459eed79447bd545509acc4b805f509b8ebea7a572c4517e2bfc"></a><!-- doxytag: member="CVMX_USBD_CALLBACK_OUT_COMPLETE" ref="aae08c1f8f98d4459eed79447bd545509acc4b805f509b8ebea7a572c4517e2bfc" args="" -->CVMX_USBD_CALLBACK_OUT_COMPLETE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aae08c1f8f98d4459eed79447bd545509a0331fe48747b990d9707169d1398b613"></a><!-- doxytag: member="__CVMX_USBD_CALLBACK_END" ref="aae08c1f8f98d4459eed79447bd545509a0331fe48747b990d9707169d1398b613" args="" -->__CVMX_USBD_CALLBACK_END</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_initialize_flags_t" ref="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8">cvmx_usbd_initialize_flags_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a56c6e42b384cf99ac964be71ccf0df87"></a><!-- doxytag: member="CVMX_USBD_INITIALIZE_FLAGS_CLOCK_XO_XI" ref="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a56c6e42b384cf99ac964be71ccf0df87" args="" -->CVMX_USBD_INITIALIZE_FLAGS_CLOCK_XO_XI</em>&nbsp;</td><td>
<p>The USB port uses a 12MHz crystal as clock source at USB_XO and USB_XI. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a794c4801a9f0f9f21df9e54d71566180"></a><!-- doxytag: member="CVMX_USBD_INITIALIZE_FLAGS_CLOCK_XO_GND" ref="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a794c4801a9f0f9f21df9e54d71566180" args="" -->CVMX_USBD_INITIALIZE_FLAGS_CLOCK_XO_GND</em>&nbsp;</td><td>
<p>The USB port uses 12/24/48MHz 2.5V board clock source at USB_XO. </p>
<p>USB_XI should be tied to GND. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a43f5f595494f85865cb70db44fc020b2"></a><!-- doxytag: member="CVMX_USBD_INITIALIZE_FLAGS_CLOCK_AUTO" ref="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a43f5f595494f85865cb70db44fc020b2" args="" -->CVMX_USBD_INITIALIZE_FLAGS_CLOCK_AUTO</em>&nbsp;</td><td>
<p>Automatically determine clock type based on function in <a class="el" href="cvmx-helper-board_8c.html" title="Helper functions to abstract board specific data about network ports from the rest...">cvmx-helper-board.c</a>. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a7b8af0b7743472cc99d95b78a76efd71"></a><!-- doxytag: member="CVMX_USBD_INITIALIZE_FLAGS_CLOCK_MHZ_MASK" ref="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a7b8af0b7743472cc99d95b78a76efd71" args="" -->CVMX_USBD_INITIALIZE_FLAGS_CLOCK_MHZ_MASK</em>&nbsp;</td><td>
<p>Mask for clock speed field. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a87c112d80154d006b6e0a4886d73c41d"></a><!-- doxytag: member="CVMX_USBD_INITIALIZE_FLAGS_CLOCK_12MHZ" ref="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a87c112d80154d006b6e0a4886d73c41d" args="" -->CVMX_USBD_INITIALIZE_FLAGS_CLOCK_12MHZ</em>&nbsp;</td><td>
<p>Speed of reference clock or crystal. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a1dd97f7de784ff724f2c4e066e72d684"></a><!-- doxytag: member="CVMX_USBD_INITIALIZE_FLAGS_CLOCK_24MHZ" ref="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a1dd97f7de784ff724f2c4e066e72d684" args="" -->CVMX_USBD_INITIALIZE_FLAGS_CLOCK_24MHZ</em>&nbsp;</td><td>
<p>Speed of reference clock. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a7c2fe81c28c2189fcd309fe5aa055d97"></a><!-- doxytag: member="CVMX_USBD_INITIALIZE_FLAGS_CLOCK_48MHZ" ref="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a7c2fe81c28c2189fcd309fe5aa055d97" args="" -->CVMX_USBD_INITIALIZE_FLAGS_CLOCK_48MHZ</em>&nbsp;</td><td>
<p>Speed of reference clock. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a829a1d413731ea8672cc3bf4e16fcce0"></a><!-- doxytag: member="CVMX_USBD_INITIALIZE_FLAGS_DEBUG" ref="a6cf4d37d5e2a15d98ff36d3cdf9ff1b8a829a1d413731ea8672cc3bf4e16fcce0" args="" -->CVMX_USBD_INITIALIZE_FLAGS_DEBUG</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="af428d1bc5a3c76629b55164fb2dc2023"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_speed_t" ref="af428d1bc5a3c76629b55164fb2dc2023" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cvmx-usbd_8h.html#af428d1bc5a3c76629b55164fb2dc2023">cvmx_usbd_speed_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="af428d1bc5a3c76629b55164fb2dc2023a64c48c765eeeb538d4ba68efa2b0c0c3"></a><!-- doxytag: member="CVMX_USBD_SPEED_HIGH" ref="af428d1bc5a3c76629b55164fb2dc2023a64c48c765eeeb538d4ba68efa2b0c0c3" args="" -->CVMX_USBD_SPEED_HIGH</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af428d1bc5a3c76629b55164fb2dc2023aa6cab45ab569f8d12d31ce40f593704f"></a><!-- doxytag: member="CVMX_USBD_SPEED_FULL" ref="af428d1bc5a3c76629b55164fb2dc2023aa6cab45ab569f8d12d31ce40f593704f" args="" -->CVMX_USBD_SPEED_FULL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af428d1bc5a3c76629b55164fb2dc2023ad709632ac33ac4034eed4bc0d78263c3"></a><!-- doxytag: member="CVMX_USBD_SPEED_LOW" ref="af428d1bc5a3c76629b55164fb2dc2023ad709632ac33ac4034eed4bc0d78263c3" args="" -->CVMX_USBD_SPEED_LOW</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="a54f34dd046e40cbfcfe9b65609eab354"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_transfer_t" ref="a54f34dd046e40cbfcfe9b65609eab354" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354">cvmx_usbd_transfer_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a54f34dd046e40cbfcfe9b65609eab354a1668179f37ddc18f72e813b2ddc8306a"></a><!-- doxytag: member="CVMX_USBD_TRANSFER_CONTROL" ref="a54f34dd046e40cbfcfe9b65609eab354a1668179f37ddc18f72e813b2ddc8306a" args="" -->CVMX_USBD_TRANSFER_CONTROL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a54f34dd046e40cbfcfe9b65609eab354a1ddc697695ff4085fc6ca73aeff8f007"></a><!-- doxytag: member="CVMX_USBD_TRANSFER_ISOCHRONOUS" ref="a54f34dd046e40cbfcfe9b65609eab354a1ddc697695ff4085fc6ca73aeff8f007" args="" -->CVMX_USBD_TRANSFER_ISOCHRONOUS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a54f34dd046e40cbfcfe9b65609eab354a985b2f67a0e5caed078c7c4beaa7ac52"></a><!-- doxytag: member="CVMX_USBD_TRANSFER_BULK" ref="a54f34dd046e40cbfcfe9b65609eab354a985b2f67a0e5caed078c7c4beaa7ac52" args="" -->CVMX_USBD_TRANSFER_BULK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a54f34dd046e40cbfcfe9b65609eab354a8301d3037186957dfd864c39a3f5eef8"></a><!-- doxytag: member="CVMX_USBD_TRANSFER_INTERRUPT" ref="a54f34dd046e40cbfcfe9b65609eab354a8301d3037186957dfd864c39a3f5eef8" args="" -->CVMX_USBD_TRANSFER_INTERRUPT</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6ab345ad2769763fe5814c21056be9e0"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_disable" ref="a6ab345ad2769763fe5814c21056be9e0" args="(cvmx_usbd_state_t *usb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable a USB port. </p>
<p>After this call the USB port will not generate data transfers and will not generate events.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usb_8c.html#a78c06bd132938304cf32fe2da8b83ab7" title="Initialize a USB port for use.">cvmx_usb_initialize()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero or negative on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a2690ce578e88e3d4d441ce7bdefa56bd"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_enable" ref="a2690ce578e88e3d4d441ce7bdefa56bd" args="(cvmx_usbd_state_t *usb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable a USB port. </p>
<p>After this call succeeds, the USB port is online and servicing requests.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usb_8c.html#a78c06bd132938304cf32fe2da8b83ab7" title="Initialize a USB port for use.">cvmx_usb_initialize()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero or negative on error. </dd></dl>

</div>
</div>
<a class="anchor" id="abb47e16041eb2c9569b65e4ed56ed07a"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_get_address" ref="abb47e16041eb2c9569b65e4ed56ed07a" args="(cvmx_usbd_state_t *usb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_get_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current USB address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The USB address </dd></dl>

</div>
</div>
<a class="anchor" id="a4842ed6f13c12e6642ab474bdde147b3"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_get_speed" ref="a4842ed6f13c12e6642ab474bdde147b3" args="(cvmx_usbd_state_t *usb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvmx-usbd_8h.html#af428d1bc5a3c76629b55164fb2dc2023">cvmx_usbd_speed_t</a> cvmx_usbd_get_speed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current USB speed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The USB speed </dd></dl>

</div>
</div>
<a class="anchor" id="ae086bb658f83d311068986898b49661a"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_in_endpoint_disable" ref="ae086bb658f83d311068986898b49661a" args="(cvmx_usbd_state_t *usb, int endpoint_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_in_endpoint_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>endpoint_num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable an IN endpoint. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endpoint_num</em>&nbsp;</td><td>Endpoint number to disable</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure </dd></dl>

</div>
</div>
<a class="anchor" id="aaac06268d5949ba80da109a700819cdc"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_in_endpoint_enable" ref="aaac06268d5949ba80da109a700819cdc" args="(cvmx_usbd_state_t *usb, int endpoint_num, cvmx_usbd_transfer_t transfer_type, int max_packet_size, uint64_t buffer, int buffer_length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_in_endpoint_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>endpoint_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354">cvmx_usbd_transfer_t</a>&nbsp;</td>
          <td class="paramname"> <em>transfer_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_packet_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buffer_length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable an endpoint to respond to an IN transaction. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endpoint_num</em>&nbsp;</td><td>Endpoint number to enable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>transfer_type</em>&nbsp;</td><td>Transfer type for the endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_packet_size</em>&nbsp;</td><td>Maximum packet size for the endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Buffer to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer_length</em>&nbsp;</td><td>Length of the buffer in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a0016317de69fede970849f915ec6e7c4"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_initialize" ref="a0016317de69fede970849f915ec6e7c4" args="(cvmx_usbd_state_t *usb, int usb_port_number, cvmx_usbd_initialize_flags_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>usb_port_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-usbd_8h.html#a6cf4d37d5e2a15d98ff36d3cdf9ff1b8">cvmx_usbd_initialize_flags_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a USB port for use. </p>
<p>This must be called before any other access to the Octeon USB port is made. The port starts off in the disabled state.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>Pointer to an empty <a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> structure that will be populated by the initialize call. This structure is then passed to all other USB functions. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>usb_port_number</em>&nbsp;</td><td>Which Octeon USB port to initialize. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Flags to control hardware initialization. See cvmx_usbd_initialize_flags_t for the flag definitions. Some flags are mandatory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero or a negative on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a197979f686b20fa1e9d6d092b7887c58"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_out_endpoint_disable" ref="a197979f686b20fa1e9d6d092b7887c58" args="(cvmx_usbd_state_t *usb, int endpoint_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_out_endpoint_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>endpoint_num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable an OUT endpoint. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endpoint_num</em>&nbsp;</td><td>Endpoint number to disable</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure </dd></dl>

</div>
</div>
<a class="anchor" id="aa415936e4eb019957e6cc3f435d4d5af"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_out_endpoint_enable" ref="aa415936e4eb019957e6cc3f435d4d5af" args="(cvmx_usbd_state_t *usb, int endpoint_num, cvmx_usbd_transfer_t transfer_type, int max_packet_size, uint64_t buffer, int buffer_length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_out_endpoint_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>endpoint_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-usbd_8h.html#a54f34dd046e40cbfcfe9b65609eab354">cvmx_usbd_transfer_t</a>&nbsp;</td>
          <td class="paramname"> <em>transfer_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_packet_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buffer_length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable an endpoint to respond to an OUT transaction. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endpoint_num</em>&nbsp;</td><td>Endpoint number to enable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>transfer_type</em>&nbsp;</td><td>Transfer type for the endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_packet_size</em>&nbsp;</td><td>Maximum packet size for the endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Buffer to receive the data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer_length</em>&nbsp;</td><td>Length of the buffer in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success, negative on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a9f4a22c1cd40aeae43489f8783065e14"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_poll" ref="a9f4a22c1cd40aeae43489f8783065e14" args="(cvmx_usbd_state_t *usb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_poll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Poll the USB block for status and call all needed callback handlers. </p>
<p>This function is meant to be called in the interrupt handler for the USB controller. It can also be called periodically in a loop for non-interrupt based operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero or negative on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a0b0246fe120b993c395dd2e1c0320f5a"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_register" ref="a0b0246fe120b993c395dd2e1c0320f5a" args="(cvmx_usbd_state_t *usb, cvmx_usbd_callback_t reason, cvmx_usbd_callback_func_t func, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_register </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-usbd_8h.html#aae08c1f8f98d4459eed79447bd545509">cvmx_usbd_callback_t</a>&nbsp;</td>
          <td class="paramname"> <em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-usbd_8h.html#a754968b90f63487d5c301ffc5e91064d">cvmx_usbd_callback_func_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register a callback function to process USB events. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>The reason this callback should be called </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>Function to call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>User supplied data for the callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on succes, negative on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a9e08c7f7aad6e24be04506462e8d6baa"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_set_address" ref="a9e08c7f7aad6e24be04506462e8d6baa" args="(cvmx_usbd_state_t *usb, int address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_usbd_set_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>address</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the current USB address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>Address to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a775a555b2fad40845504c3b1872f5c6e"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_set_speed" ref="a775a555b2fad40845504c3b1872f5c6e" args="(cvmx_usbd_state_t *usb, cvmx_usbd_speed_t speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cvmx_usbd_set_speed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvmx-usbd_8h.html#af428d1bc5a3c76629b55164fb2dc2023">cvmx_usbd_speed_t</a>&nbsp;</td>
          <td class="paramname"> <em>speed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the current USB speed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>The requested speed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab5f62b0c7f03d40678a8d8b75b275ae0"></a><!-- doxytag: member="cvmx&#45;usbd.h::cvmx_usbd_shutdown" ref="ab5f62b0c7f03d40678a8d8b75b275ae0" args="(cvmx_usbd_state_t *usb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cvmx_usbd_shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvmx__usbd__state__t.html">cvmx_usbd_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>usb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shutdown a USB port after a call to <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>usb</em>&nbsp;</td><td>USB device state populated by <a class="el" href="cvmx-usbd_8c.html#a0016317de69fede970849f915ec6e7c4" title="Initialize a USB port for use.">cvmx_usbd_initialize()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero or a negative on error. </dd></dl>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
