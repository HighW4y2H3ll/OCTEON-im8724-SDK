<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Octeon Software Development Kit: cvmx_l2c_vrt_memx Union Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cvmx_l2c_vrt_memx Union Reference</h1><!-- doxytag: class="cvmx_l2c_vrt_memx" -->
<p>cvmx_l2c_vrt_mem#  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cvmx-l2c-defs_8h_source.html">cvmx-l2c-defs.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a></td></tr>
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__l2c__vrt__memx.html#a1e262c4d4500a32cb970c2e8f09d61c8">u64</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <br class="typebreak"/>
<a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx::cvmx_l2c_vrt_memx_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__l2c__vrt__memx.html#a453410bc38f567302fd0ab2379b4a8c2">s</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__l2c__vrt__memx.html#a217a68315ad577b3252ac86a565927a2">cn61xx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__l2c__vrt__memx.html#a6faaaba72325aae3badf0490fe1ac695">cn63xx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__l2c__vrt__memx.html#a7ced1b9a0235efd812aad4f4f8317d5e">cn63xxp1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__l2c__vrt__memx.html#a9ce849b7d31426e911f5da3ae0ec61c2">cn66xx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__l2c__vrt__memx.html#a18d1125f82e2bd1ea859763178d8b7cb">cn68xx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__l2c__vrt__memx.html#a549d53c676365a7c944e8b304cd0e8e1">cn68xxp1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncvmx__l2c__vrt__memx.html#afad1c5e9c48625b16de2d23569cc24de">cnf71xx</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>cvmx_l2c_vrt_mem# </p>
<p>L2C_VRT_MEM = L2C Virtualization Memory</p>
<p>Description: Virtualization memory mapped region. There are 1024 32b byte-parity protected entries.</p>
<p>Notes: When a DATA bit is set in L2C_VRT_MEM when L2C virtualization is enabled, L2C prevents the selected virtual machine from storing to the selected L2/DRAM region. L2C uses L2C_VRT_MEM to block stores when:</p>
<ul>
<li>L2C_VRT_CTL[ENABLE] is set, and</li>
<li>the address of the store exists in L2C+LMC internal L2/DRAM Address space and is within the L2C_VRT_CTL[MEMSZ] bounds, and</li>
<li>the virtID of the store is within the L2C_VRT_CTL[NUMID] bounds</li>
</ul>
<p>L2C_VRT_MEM is never used for these L2C transactions which are always allowed:</p>
<ul>
<li>L2C CMI L2/DRAM transactions that cannot modify L2/DRAM, and</li>
<li>any L2/DRAM transaction originated from L2C_XMC_CMD</li>
</ul>
<p>L2C_VRT_MEM contains one DATA bit per L2C+LMC internal L2/DRAM region and virtID indicating whether the store to the region is allowed. The granularity of the checking is the region size, which is: 2 ^^ (L2C_VRT_CTL[NUMID]+L2C_VRT_CTL[MEMSZ]+16) which ranges from a minimum of 64KB to a maximum of 256MB, depending on the size of L2/DRAM that is protected and the number of virtual machines.</p>
<p>The L2C_VRT_MEM DATA bit that L2C uses is:</p>
<p>l2c_vrt_mem_bit_index = address &gt;&gt; (L2C_VRT_CTL[MEMSZ]+L2C_VRT_CTL[NUMID]+16); // address is a byte address l2c_vrt_mem_bit_index = l2c_vrt_mem_bit_index | (virtID &lt;&lt; (14-L2C_VRT_CTL[NUMID]));</p>
<p>L2C_VRT_MEM(l2c_vrt_mem_bit_index &gt;&gt; 5)[DATA&lt;l2c_vrt_mem_bit_index &amp; 0x1F&gt;] is used</p>
<p>A specific example:</p>
<p>L2C_VRT_CTL[NUMID]=2 (i.e. 8 virtual machine ID's used) L2C_VRT_CTL[MEMSZ]=4 (i.e. L2C_VRT_MEM covers 16 GB)</p>
<p>L2/DRAM region size (granularity) is 4MB</p>
<p>l2c_vrt_mem_bit_index&lt;14:12&gt; = virtID&lt;2:0&gt; l2c_vrt_mem_bit_index&lt;11:0&gt; = address&lt;33:22&gt;</p>
<p>For L2/DRAM physical address 0x51000000 with virtID=5: L2C_VRT_MEM648[DATA&lt;4&gt;] determines when the store is allowed (648 is decimal, not hex) </p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a217a68315ad577b3252ac86a565927a2"></a><!-- doxytag: member="cvmx_l2c_vrt_memx::cn61xx" ref="a217a68315ad577b3252ac86a565927a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a> <a class="el" href="unioncvmx__l2c__vrt__memx.html#a217a68315ad577b3252ac86a565927a2">cvmx_l2c_vrt_memx::cn61xx</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6faaaba72325aae3badf0490fe1ac695"></a><!-- doxytag: member="cvmx_l2c_vrt_memx::cn63xx" ref="a6faaaba72325aae3badf0490fe1ac695" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a> <a class="el" href="unioncvmx__l2c__vrt__memx.html#a6faaaba72325aae3badf0490fe1ac695">cvmx_l2c_vrt_memx::cn63xx</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7ced1b9a0235efd812aad4f4f8317d5e"></a><!-- doxytag: member="cvmx_l2c_vrt_memx::cn63xxp1" ref="a7ced1b9a0235efd812aad4f4f8317d5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a> <a class="el" href="unioncvmx__l2c__vrt__memx.html#a7ced1b9a0235efd812aad4f4f8317d5e">cvmx_l2c_vrt_memx::cn63xxp1</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9ce849b7d31426e911f5da3ae0ec61c2"></a><!-- doxytag: member="cvmx_l2c_vrt_memx::cn66xx" ref="a9ce849b7d31426e911f5da3ae0ec61c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a> <a class="el" href="unioncvmx__l2c__vrt__memx.html#a9ce849b7d31426e911f5da3ae0ec61c2">cvmx_l2c_vrt_memx::cn66xx</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a18d1125f82e2bd1ea859763178d8b7cb"></a><!-- doxytag: member="cvmx_l2c_vrt_memx::cn68xx" ref="a18d1125f82e2bd1ea859763178d8b7cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a> <a class="el" href="unioncvmx__l2c__vrt__memx.html#a18d1125f82e2bd1ea859763178d8b7cb">cvmx_l2c_vrt_memx::cn68xx</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a549d53c676365a7c944e8b304cd0e8e1"></a><!-- doxytag: member="cvmx_l2c_vrt_memx::cn68xxp1" ref="a549d53c676365a7c944e8b304cd0e8e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a> <a class="el" href="unioncvmx__l2c__vrt__memx.html#a549d53c676365a7c944e8b304cd0e8e1">cvmx_l2c_vrt_memx::cn68xxp1</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afad1c5e9c48625b16de2d23569cc24de"></a><!-- doxytag: member="cvmx_l2c_vrt_memx::cnf71xx" ref="afad1c5e9c48625b16de2d23569cc24de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx_s</a> <a class="el" href="unioncvmx__l2c__vrt__memx.html#afad1c5e9c48625b16de2d23569cc24de">cvmx_l2c_vrt_memx::cnf71xx</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a453410bc38f567302fd0ab2379b4a8c2"></a><!-- doxytag: member="cvmx_l2c_vrt_memx::s" ref="a453410bc38f567302fd0ab2379b4a8c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcvmx__l2c__vrt__memx_1_1cvmx__l2c__vrt__memx__s.html">cvmx_l2c_vrt_memx::cvmx_l2c_vrt_memx_s</a>  <a class="el" href="unioncvmx__l2c__vrt__memx.html#a453410bc38f567302fd0ab2379b4a8c2">cvmx_l2c_vrt_memx::s</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1e262c4d4500a32cb970c2e8f09d61c8"></a><!-- doxytag: member="cvmx_l2c_vrt_memx::u64" ref="a1e262c4d4500a32cb970c2e8f09d61c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="unioncvmx__l2c__vrt__memx.html#a1e262c4d4500a32cb970c2e8f09d61c8">cvmx_l2c_vrt_memx::u64</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this union was generated from the following file:<ul>
<li><a class="el" href="cvmx-l2c-defs_8h_source.html">cvmx-l2c-defs.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 27 Oct 2017 for Octeon Software Development Kit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
